{"remainingRequest":"/mnt/websites/ex.nextsmartchain.com/node_modules/vue-loader/lib/index.js??vue-loader-options!/mnt/websites/ex.nextsmartchain.com/src/components/core/FInput/FInput.vue?vue&type=style&index=0&id=7b488da4&prod&lang=scss&","dependencies":[{"path":"/mnt/websites/ex.nextsmartchain.com/src/components/core/FInput/FInput.vue","mtime":1657708592758},{"path":"/mnt/websites/ex.nextsmartchain.com/node_modules/css-loader/dist/cjs.js","mtime":1655491291170},{"path":"/mnt/websites/ex.nextsmartchain.com/node_modules/vue-loader/lib/loaders/stylePostLoader.js","mtime":1657708714280},{"path":"/mnt/websites/ex.nextsmartchain.com/node_modules/postcss-loader/src/index.js","mtime":1655491291810},{"path":"/mnt/websites/ex.nextsmartchain.com/node_modules/sass-loader/dist/cjs.js","mtime":1657625857833},{"path":"/mnt/websites/ex.nextsmartchain.com/node_modules/cache-loader/dist/cjs.js","mtime":1655491106804},{"path":"/mnt/websites/ex.nextsmartchain.com/node_modules/vue-loader/lib/index.js","mtime":1657708714280}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CkBpbXBvcnQgJ3N0eWxlJzsK"},{"version":3,"sources":["FInput.vue"],"names":[],"mappings":";AAsPA","file":"FInput.vue","sourceRoot":"src/components/core/FInput","sourcesContent":["<template>\n    <span :id=\"id\" class=\"f-input\" :class=\"classes\" @click=\"onClick\">\n        <slot name=\"top\" v-bind=\"slotProps\">\n            <label :for=\"`${id}-f-inp`\">{{ label }}</label>\n        </slot>\n        <span class=\"inp\" :class=\"inpClasses\">\n            <slot name=\"prefix\"></slot>\n            <template v-if=\"isTextarea\">\n                <textarea\n                    :id=\"`${id}-f-inp`\"\n                    ref=\"input\"\n                    v-bind=\"inputProps\"\n                    :value=\"val\"\n                    :aria-invalid=\"isInvalid\"\n                    :aria-describedby=\"ariaDescribedBy\"\n                    @input=\"onInput\"\n                    @change=\"onChange\"\n                    @focus=\"onFocus\"\n                    @blur=\"onBlur\"\n                ></textarea>\n            </template>\n            <template v-else>\n                <input\n                    :id=\"`${id}-f-inp`\"\n                    ref=\"input\"\n                    v-bind=\"inputProps\"\n                    :value=\"val\"\n                    :aria-invalid=\"isInvalid\"\n                    :aria-describedby=\"ariaDescribedBy\"\n                    @input=\"onInput\"\n                    @change=\"onChange\"\n                    @focus=\"onFocus\"\n                    @blur=\"onBlur\"\n                />\n            </template>\n            <slot name=\"suffix\"></slot>\n        </span>\n        <slot name=\"bottom\" v-bind=\"slotProps\"></slot>\n    </span>\n</template>\n\n<script>\nimport { inputMixin } from '../../../mixins/input.js';\nimport { helpersMixin } from '../../../mixins/helpers.js';\nimport { getUniqueId } from '../../../utils';\nimport { eventBusMixin } from '../../../mixins/event-bus.js';\n\nexport default {\n    mixins: [inputMixin, helpersMixin, eventBusMixin],\n\n    props: {\n        // use textarea instead of input element\n        isTextarea: {\n            type: Boolean,\n            default: false,\n        },\n        // input type\n        type: {\n            type: String,\n            default: 'text',\n        },\n        // custom validator function\n        validator: {\n            type: Function,\n            default: null,\n        },\n        // size of input, 'large' | 'small'\n        fieldSize: {\n            type: String,\n            default: '',\n        },\n        // validate on input event as well\n        validateOnInput: {\n            type: Boolean,\n            default: false,\n        },\n    },\n\n    data() {\n        return {\n            val: this.value,\n            isInvalid: this.invalid,\n            hasFocus: false,\n            errmsgslot: 'suffix',\n            ariaDescribedBy: null,\n        };\n    },\n\n    computed: {\n        classes() {\n            return {\n                'prefix-slot': this.hasSlot('prefix'),\n                'suffix-slot': this.hasSlot('suffix'),\n                'bottom-slot': this.hasSlot('bottom'),\n                'is-textarea': this.isTextarea,\n            };\n        },\n\n        inpClasses() {\n            return {\n                focus: this.hasFocus,\n                invalid: this.isInvalid,\n                large: this.fieldSize === 'large',\n                small: this.fieldSize === 'small',\n                readonly: this.readonly,\n                disabled: this.disabled,\n            };\n        },\n\n        fInputProps() {\n            return {\n                ...this.inputProps,\n                label: this.label,\n                isTextarea: this.isTextarea,\n                validator: this.validator,\n                fieldSize: this.fieldSize,\n                validateOnInput: this.validateOnInput,\n                hideInfoOnError: this.hideInfoOnError,\n            };\n        },\n\n        slotProps() {\n            return {\n                showErrorMessage: this.isInvalid,\n                showInfoMessage: this.showInfoMessage,\n            };\n        },\n\n        showInfoMessage() {\n            return this.hideInfoOnError ? !this.isInvalid : true;\n        },\n    },\n\n    watch: {\n        value(_val) {\n            this.val = _val;\n        },\n\n        isInvalid() {\n            this.setAriaDescribedBy();\n        },\n    },\n\n    mounted() {\n        this.setAriaDescribedBy();\n    },\n\n    methods: {\n        /**\n         * Set aria-describedby attribute according to `isInvalid` property if FMessage child component exists.\n         */\n        setAriaDescribedBy() {\n            const eInput = this.$refs.input;\n            let fMessage;\n\n            if (this.isInvalid) {\n                fMessage = this.getFMessage('error');\n            } else {\n                fMessage = this.getFMessage('info');\n                // eInput.setCustomValidity('');\n                // this.ariaDescribedBy = null;\n            }\n\n            if (fMessage) {\n                // set custom error message\n                if (this.isInvalid) {\n                    eInput.setCustomValidity(fMessage.getMessage());\n                } else {\n                    eInput.setCustomValidity('');\n                }\n\n                const id = getUniqueId();\n                fMessage.$el.id = id;\n                this.ariaDescribedBy = id;\n            } else {\n                this.ariaDescribedBy = null;\n            }\n        },\n\n        validate(_setError) {\n            if (this.validator) {\n                this.isInvalid = !this.validator(this.val);\n\n                if (_setError) {\n                    this.setAriaDescribedBy();\n                }\n            }\n        },\n\n        /**\n         * Get FMessage child component by type.\n         *\n         * @param {string} _type\n         * @return {null|*|Vue}\n         */\n        getFMessage(_type) {\n            const fMessages = this.findChildrenByName('f-message');\n            let fMessage = null;\n\n            for (let i = 0, len1 = fMessages.length; i < len1; i++) {\n                fMessage = fMessages[i];\n                if (fMessage && fMessage.$props.type === _type) {\n                    break;\n                }\n            }\n\n            return fMessage;\n        },\n\n        /**\n         * @param {Event} _event\n         */\n        onClick(_event) {\n            if (_event.target !== this.$refs.input) {\n                this.$refs.input.focus();\n            }\n        },\n\n        /**\n         * @param {Event} _event\n         */\n        onInput(_event) {\n            this.val = _event.target.value;\n            this.$emit('input', _event.target.value);\n\n            if (this.validateOnInput) {\n                this.validate();\n            }\n        },\n\n        onChange() {\n            this.validate();\n        },\n\n        onFocus() {\n            this.hasFocus = true;\n        },\n\n        onBlur() {\n            this.hasFocus = false;\n        },\n    },\n};\n</script>\n\n<style lang=\"scss\">\n@import 'style';\n</style>\n"]}]}
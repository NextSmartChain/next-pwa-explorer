{"remainingRequest":"/mnt/websites/ex.nextsmartchain.com/node_modules/vue-loader/lib/index.js??vue-loader-options!/mnt/websites/ex.nextsmartchain.com/src/components/core/FDataTable/FDataTable.vue?vue&type=script&lang=js&","dependencies":[{"path":"/mnt/websites/ex.nextsmartchain.com/src/components/core/FDataTable/FDataTable.vue","mtime":1657708592954},{"path":"/mnt/websites/ex.nextsmartchain.com/node_modules/babel-loader/lib/index.js","mtime":1655491285588},{"path":"/mnt/websites/ex.nextsmartchain.com/node_modules/cache-loader/dist/cjs.js","mtime":1655491106804},{"path":"/mnt/websites/ex.nextsmartchain.com/node_modules/vue-loader/lib/index.js","mtime":1657708714280}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CmltcG9ydCBGSGVhZFN0eWxlIGZyb20gJy4uL0ZIZWFkU3R5bGUvRkhlYWRTdHlsZS52dWUnOwppbXBvcnQgRlBhZ2luYXRpb24gZnJvbSAnLi4vRlBhZ2luYXRpb24vRlBhZ2luYXRpb24udnVlJzsKaW1wb3J0IHsgZ2V0TmVzdGVkUHJvcCwgaXNWYWxpZEluZGV4IH0gZnJvbSAnLi4vLi4vLi4vdXRpbHMnOwppbXBvcnQgeyBjbG9uZU9iamVjdCwgaXNPYmplY3RFbXB0eSB9IGZyb20gJy4uLy4uLy4uL3V0aWxzJzsKaW1wb3J0IHsgb2JqMmNzcyB9IGZyb20gJy4uLy4uLy4uL3V0aWxzJzsKaW1wb3J0IHsgaGVscGVyc01peGluIH0gZnJvbSAnLi4vLi4vLi4vbWl4aW5zL2hlbHBlcnMuanMnOwppbXBvcnQgZXZlbnRzIGZyb20gJy4uLy4uLy4uL21peGlucy9ldmVudHMuanMnOwppbXBvcnQgRkNhcmQgZnJvbSAnLi4vRkNhcmQvRkNhcmQudnVlJzsKaW1wb3J0IFB1bHNlTG9hZGVyIGZyb20gJ3Z1ZS1zcGlubmVyL3NyYy9QdWxzZUxvYWRlci52dWUnOwppbXBvcnQgeyBpc0FyaWFBY3Rpb24gfSBmcm9tICdAL3V0aWxzL2FyaWEuanMnOwppbXBvcnQgRkludGVyc2VjdGlvbk9ic2VydmVyIGZyb20gIkAvY29tcG9uZW50cy9jb3JlL0ZJbnRlcnNlY3Rpb25PYnNlcnZlci9GSW50ZXJzZWN0aW9uT2JzZXJ2ZXIudnVlIjsKCmNvbnN0IEdSSURfU1RPUkFHRV9LRVkgPSAnbmV4dC1kYXRhLWdyaWQnOwoKZXhwb3J0IGRlZmF1bHQgewogICAgY29tcG9uZW50czogewogICAgICAgIEZJbnRlcnNlY3Rpb25PYnNlcnZlciwKICAgICAgICBGQ2FyZCwKICAgICAgICBGSGVhZFN0eWxlLAogICAgICAgIEZQYWdpbmF0aW9uLAogICAgICAgIFB1bHNlTG9hZGVyLAogICAgfSwKCiAgICBtaXhpbnM6IFtoZWxwZXJzTWl4aW4sIGV2ZW50c10sCgogICAgcHJvcHM6IHsKICAgICAgICAvKioKICAgICAgICAgKiBBcnJheSBvZiBjb2x1bW5zIGRlc2NyaXB0aW9ucy4KICAgICAgICAgKgogICAgICAgICAqIE9uZSBpdGVtIGlzIGFuIG9iamVjdCB3aXRoIGtleXM6CiAgICAgICAgICogYG5hbWVgIHtzdHJpbmd9IC0gdW5pcXVlIG5hbWUgb2YgY29sdW1uIChyZXF1aXJlZCkuIENhbiBiZSB1c2VkIGFzIGEgZGF0YSBpdGVtIHByb3BlcnR5LgogICAgICAgICAqIGBsYWJlbGAge3N0cmluZ30gLSBsYWJlbCBvZiBjb2x1bW4gcGxhY2VkIGluIHRoZSBoZWFkZXIgb2YgdGFibGUKICAgICAgICAgKiBgaXRlbVByb3BgIHtzdHJpbmd9IC0gY2FuIGJlIHVzZWQgdG8gZ2V0IGRhdGEgZnJvbSBuZXN0ZWQgZGF0YSBpdGVtIHByb3BlcnR5IC0gJ3Byb3AxLnByb3AyJyBmb3IgZXhhbXBsZQogICAgICAgICAqIGBmb3JtYXR0ZXJgIHtmdW5jdGlvbn0gLSBhcHBseSB0aGlzIGZvcm1hdHRlciB0byBkYXRhIGl0ZW0gdmFsdWUKICAgICAgICAgKiBgcmVhZFZhbHVlRnJvbWAge3N0cmluZ30gLSBpZiB0aGVyZSBpcyBubyBrZXkgYG5hbWVgIGluIGRhdGEgaXRlbSBvYmplY3QsIHJlYWQgdmFsdWUgZnJvbSBjb2x1bW4gd2l0aCBuYW1lIGB2YWx1ZWAKICAgICAgICAgKiBgd2lkdGhgIHtzdHJpbmd9IC0gbWluaW11bSB3aWR0aCBvZiBjb2x1bW4KICAgICAgICAgKiBgaGlkZGVuYCB7Ym9vbGVhbn0gLSBpZiBgdHJ1ZWAsIGNvbHVtbiB3aWxsIGJlIGhpZGRlbgogICAgICAgICAqIGBjc3NgIHtvYmplY3R9IC0gc3R5bGUgZm9yIHdob2xlIGNvbHVtbi4gS2V5cyBhcmUgY3NzIHByb3BlcnRpZXMgaW4gY2FtZWwgY2FzZSwgdmFsdWVzIGFyZSB2YWxpZCBjc3MgdmFsdWVzLgogICAgICAgICAqIGBjc3NDbGFzc2Age3N0cmluZ30gLSBjc3MgY2xhc3MgdG8gYmUgYWRkZWQgdG8gY29sdW1uCiAgICAgICAgICogYGNlbGxDaGlsZHJlbkNzc2Age29iamVjdH0gLSBzdHlsZSBmb3IgY29sdW1uIGNlbGxzIGRpcmVjdCBjaGlsZHJlbi4gS2V5cyBhcmUgY3NzIHByb3BlcnRpZXMgaW4gY2FtZWwgY2FzZSwgdmFsdWVzIGFyZSB2YWxpZCBjc3MgdmFsdWVzLgogICAgICAgICAqIGBvbmVMaW5lTW9kZWAge2Jvb2xlYW59IC0gaWYgYHRydWVgLCBubyBsaW5lIGJyZWFrcyBhcmUgYWxsb3dlZCBpbiBjb2x1bW4ncyBjZWxscy4KICAgICAgICAgKi8KICAgICAgICBjb2x1bW5zOiB7CiAgICAgICAgICAgIHR5cGU6IEFycmF5LAogICAgICAgICAgICByZXF1aXJlZDogdHJ1ZSwKICAgICAgICAgICAgZGVmYXVsdCgpIHsKICAgICAgICAgICAgICAgIHJldHVybiBbXTsKICAgICAgICAgICAgfSwKICAgICAgICB9LAoKICAgICAgICAvKioKICAgICAgICAgKiBBcnJheSBvZiB0YWJsZSByb3dzLgogICAgICAgICAqCiAgICAgICAgICogT25lIGl0ZW0gaXMgYW4gb2JqZWN0LCB3aGVyZSBrZXlzIGFyZSBjb2x1bW4gbmFtZXMuCiAgICAgICAgICogUmVzZXJ2ZWQga2V5cyBhcmU6CiAgICAgICAgICogYGNzc2Age29iamVjdH0gLSBzdHlsZSBmb3Igd2hvbGUgcm93LiBLZXlzIGFyZSBjc3MgcHJvcGVydGllcyBpbiBjYW1lbCBjYXNlLCB2YWx1ZXMgYXJlIHZhbGlkIGNzcyB2YWx1ZXMuCiAgICAgICAgICovCiAgICAgICAgaXRlbXM6IHsKICAgICAgICAgICAgdHlwZTogQXJyYXksCiAgICAgICAgICAgIGRlZmF1bHQoKSB7CiAgICAgICAgICAgICAgICByZXR1cm4gW107CiAgICAgICAgICAgIH0sCiAgICAgICAgfSwKCiAgICAgICAgLyoqIEhlaWdodCBvZiBkYXRhIHRhYmxlLiAqLwogICAgICAgIGhlaWdodDogewogICAgICAgICAgICB0eXBlOiBTdHJpbmcsCiAgICAgICAgICAgIGRlZmF1bHQ6ICdhdXRvJywKICAgICAgICB9LAoKICAgICAgICAvKiogQXJyYXkgb2YgY29sdW1uIG5hbWVzIHRvIGJlIGhpZGRlbi4gKi8KICAgICAgICBoaWRkZW5Db2x1bW5zOiB7CiAgICAgICAgICAgIHR5cGU6IEFycmF5LAogICAgICAgICAgICBkZWZhdWx0KCkgewogICAgICAgICAgICAgICAgcmV0dXJuIFtdOwogICAgICAgICAgICB9LAogICAgICAgIH0sCgogICAgICAgIC8qKgogICAgICAgICAqIEdyaWQncyBjb2RlIHVzZWQgZm9yIGlkZW50aWZpY2F0aW9uIGluIGxvY2FsIHN0b3JhZ2UKICAgICAgICAgKi8KICAgICAgICBjb2RlOiB7CiAgICAgICAgICAgIHR5cGU6IFN0cmluZywKICAgICAgICAgICAgZGVmYXVsdDogJycsCiAgICAgICAgfSwKCiAgICAgICAgLyoqCiAgICAgICAgICogV2lkdGggb2YgZmlyc3QgY29sdW1uIGluIG1vYmlsZSB2aWV3IChmcm9tICcxJyB0byAnMTInKS4KICAgICAgICAgKiBVc2VkIGluIG1vYmlsZSB2aWV3IHNsb3QncyBkZWZhdWx0IGNvbnRlbnQgb25seS4KICAgICAgICAgKi8KICAgICAgICBmaXJzdE1WQ29sdW1uV2lkdGg6IHsKICAgICAgICAgICAgdHlwZTogU3RyaW5nLAogICAgICAgICAgICBkZWZhdWx0OiAnNCcsCiAgICAgICAgfSwKCiAgICAgICAgLyoqICAqLwogICAgICAgIGZpeGVkSGVhZGVyOiB7CiAgICAgICAgICAgIHR5cGU6IEJvb2xlYW4sCiAgICAgICAgICAgIGRlZmF1bHQ6IGZhbHNlLAogICAgICAgIH0sCgogICAgICAgIC8qKiBFbmFibGUgaW5maW5pdGUgc2Nyb2xsaW5nLiAqLwogICAgICAgIGluZmluaXRlU2Nyb2xsOiB7CiAgICAgICAgICAgIHR5cGU6IEJvb2xlYW4sCiAgICAgICAgICAgIGRlZmF1bHQ6IGZhbHNlLAogICAgICAgIH0sCgogICAgICAgIC8qKgogICAgICAgICAqIFRoZSBtaW5pbXVtIGRpc3RhbmNlIGJldHdlZW4gdGhlIGJvdHRvbSBvZiB0aGUgZWxlbWVudCBhbmQgdGhlIGJvdHRvbSBvZiB0aGUgdmlld3BvcnQKICAgICAgICAgKiBiZWZvcmUgdGhlIHYtaW5maW5pdGUtc2Nyb2xsIG1ldGhvZCBpcyBleGVjdXRlZC4KICAgICAgICAgKi8KICAgICAgICBpbmZpbml0ZVNjcm9sbERpc3RhbmNlOiB7CiAgICAgICAgICAgIHR5cGU6IE51bWJlciwKICAgICAgICAgICAgZGVmYXVsdDogODAwLAogICAgICAgIH0sCgogICAgICAgIC8qKiAgKi8KICAgICAgICBkaXNhYmxlSW5maW5pdGVTY3JvbGw6IHsKICAgICAgICAgICAgdHlwZTogQm9vbGVhbiwKICAgICAgICAgICAgZGVmYXVsdDogdHJ1ZSwKICAgICAgICB9LAoKICAgICAgICAvKiogU2VydmVyIHNpZGUgcGFnaW5hdGlvbiBhbmQgc29ydGluZy4gKi8KICAgICAgICBzZXJ2ZXJTaWRlOiB7CiAgICAgICAgICAgIHR5cGU6IEJvb2xlYW4sCiAgICAgICAgICAgIGRlZmF1bHQ6IGZhbHNlLAogICAgICAgIH0sCgogICAgICAgIC8qKiAgKi8KICAgICAgICB1c2VQYWdpbmF0aW9uOiB7CiAgICAgICAgICAgIHR5cGU6IEJvb2xlYW4sCiAgICAgICAgICAgIGRlZmF1bHQ6IGZhbHNlLAogICAgICAgIH0sCgogICAgICAgIC8qKiBEaXNwbGF5IGxvYWRpbmcgbWVzc2FnZS4gKi8KICAgICAgICBsb2FkaW5nOiB7CiAgICAgICAgICAgIHR5cGU6IEJvb2xlYW4sCiAgICAgICAgICAgIGRlZmF1bHQ6IGZhbHNlLAogICAgICAgIH0sCgogICAgICAgIC8qKiBEaXNwbGF5IGxvYWRpbmcgbWVzc2FnZSwgZXZlbiBpZiBpdGVtcyBleGlzdC4gKi8KICAgICAgICBmb3JjZUxvYWRpbmc6IHsKICAgICAgICAgICAgdHlwZTogQm9vbGVhbiwKICAgICAgICAgICAgZGVmYXVsdDogZmFsc2UsCiAgICAgICAgfSwKCiAgICAgICAgLyoqIFJlbmRlciBkYXRhIHRhYmxlIGluIG1vYmlsZSB2aWV3LiAqLwogICAgICAgIG1vYmlsZVZpZXc6IHsKICAgICAgICAgICAgdHlwZTogQm9vbGVhbiwKICAgICAgICAgICAgZGVmYXVsdDogZmFsc2UsCiAgICAgICAgfSwKCiAgICAgICAgLyoqIElmIGB0cnVlYCwgbm8gbGluZSBicmVha3MgYXJlIGFsbG93ZWQgaW4gdGFibGUgY2VsbHMuICovCiAgICAgICAgb25lTGluZU1vZGU6IHsKICAgICAgICAgICAgdHlwZTogQm9vbGVhbiwKICAgICAgICAgICAgZGVmYXVsdDogZmFsc2UsCiAgICAgICAgfSwKCiAgICAgICAgLyoqIElmIGB0cnVlYCwgZi1jYXJkIGVsZW1lbnQgd2lsbCBiZSB3aXRob3V0IGFueSBzdHlsZS4gKi8KICAgICAgICBmQ2FyZE9mZjogewogICAgICAgICAgICB0eXBlOiBCb29sZWFuLAogICAgICAgICAgICBkZWZhdWx0OiBmYWxzZSwKICAgICAgICB9LAoKICAgICAgICAvKiogTm8gbGVmdCBwYWRkaW5nIG9uIHRoZSBmaXJzdCBjb2x1bW4gYW5kIHJpZ2h0IHBhZGRpbmcgb24gdGhlIGxhc3QgY29sdW1uLiAqLwogICAgICAgIG5vRkxQYWRkaW5nOiB7CiAgICAgICAgICAgIHR5cGU6IEJvb2xlYW4sCiAgICAgICAgICAgIGRlZmF1bHQ6IGZhbHNlLAogICAgICAgIH0sCgogICAgICAgIC8qKiBJZiBgdHJ1ZWAsIHJvdyB3aWxsIGJlY29tZSBjbGlja2FibGUgYW5kICdyb3ctYWN0aW9uJyBldmVudCB3aWxsIGJlIHRyaWdnZXJlZC4gKi8KICAgICAgICBhY3Rpb25PblJvdzogewogICAgICAgICAgICB0eXBlOiBCb29sZWFuLAogICAgICAgICAgICBkZWZhdWx0OiBmYWxzZSwKICAgICAgICB9LAoKICAgICAgICAvKiogSWYgYHRydWVgIGFuZCBgY29kZWAgcHJvcCBpcyBzZXQsIHNhdmUgaW5mbyBhYm91dCBzb3J0aW5nIHRvIGxvY2FsIHN0b3JhZ2UuICovCiAgICAgICAgc2F2ZVNvcnRpbmc6IHsKICAgICAgICAgICAgdHlwZTogQm9vbGVhbiwKICAgICAgICAgICAgZGVmYXVsdDogdHJ1ZSwKICAgICAgICB9LAoKICAgICAgICAuLi5GUGFnaW5hdGlvbi5wcm9wcywKICAgIH0sCgogICAgZGF0YSgpIHsKICAgICAgICByZXR1cm4gewogICAgICAgICAgICBkSWQ6IGB0Ymwke3RoaXMuX3VpZH1gLAogICAgICAgICAgICBkQ3NzOiAnJywKICAgICAgICAgICAgZFBhZ2luYXRpb246IHt9LAogICAgICAgICAgICBkVmlzaWJsZUNvbHVtbnNOdW06IDAsCiAgICAgICAgICAgIC8vIGRJdGVtczogdGhpcy5pdGVtcwogICAgICAgIH07CiAgICB9LAoKICAgIGNvbXB1dGVkOiB7CiAgICAgICAgLyoqCiAgICAgICAgICogUHJvcGVydHkgaXMgc2V0IHRvIGB0cnVlYCwgaWYgJ2RhdGEtdGFibGUtbW9iaWxlLXZpZXcnIGJyZWFrcG9pbnQgaXMgcmVhY2hlZC4KICAgICAgICAgKgogICAgICAgICAqIEByZXR1cm4ge0Jvb2xlYW59CiAgICAgICAgICovCiAgICAgICAgY01vYmlsZVZpZXcoKSB7CiAgICAgICAgICAgIGNvbnN0IGRhdGFUYWJsZUJyZWFrcG9pbnQgPSB0aGlzLiRzdG9yZS5zdGF0ZS5icmVha3BvaW50c1snZGF0YS10YWJsZS1tb2JpbGUtdmlldyddOwoKICAgICAgICAgICAgcmV0dXJuIChkYXRhVGFibGVCcmVha3BvaW50ICYmIGRhdGFUYWJsZUJyZWFrcG9pbnQubWF0Y2hlcykgfHwgdGhpcy5tb2JpbGVWaWV3OwogICAgICAgIH0sCgogICAgICAgIC8qKgogICAgICAgICAqIEdldCBpdGVtcyAocm93cykuIElmIHBhZ2luYXRpb24gaXMgdXNlZCwgcmV0dXJuIHByb3BlciBzbGljZSBvZiBpdGVtcy4KICAgICAgICAgKi8KICAgICAgICBjSXRlbXMoKSB7CiAgICAgICAgICAgIGNvbnN0IHsgaXRlbXNJbmRpY2VzIH0gPSB0aGlzLmRQYWdpbmF0aW9uOwoKICAgICAgICAgICAgdGhpcy5zZXRJZHModGhpcy5pdGVtcyk7CgogICAgICAgICAgICBpZiAoIXRoaXMuc2VydmVyU2lkZSAmJiB0aGlzLnVzZVBhZ2luYXRpb24pIHsKICAgICAgICAgICAgICAgIHJldHVybiBpdGVtc0luZGljZXMgPyB0aGlzLml0ZW1zLnNsaWNlKGl0ZW1zSW5kaWNlcy5mcm9tLCBpdGVtc0luZGljZXMudG8gKyAxKSA6IFtdOwogICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgaWYgKHRoaXMuaXRlbXMubGVuZ3RoID4gMCkgewogICAgICAgICAgICAgICAgICAgIHRoaXMuaW5pdGlhbFNvcnQoKTsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5pdGVtczsKICAgICAgICAgICAgfQogICAgICAgIH0sCgogICAgICAgIC8qKgogICAgICAgICAqIENhbGN1bGF0ZXMgbWF4LWhlaWdodCBvZiBkYXRhIHRhYmxlLgogICAgICAgICAqLwogICAgICAgIGNIZWlnaHQoKSB7CiAgICAgICAgICAgIGlmICh0aGlzLmhlaWdodCA9PT0gJ2F1dG8nKSB7CiAgICAgICAgICAgICAgICByZXR1cm4gJyc7CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIHJldHVybiBgbWF4LWhlaWdodDogJHt0aGlzLmhlaWdodH1gOwogICAgICAgIH0sCgogICAgICAgIC8qKgogICAgICAgICAqIENvbnRhaW5lcidzIGNzcyBjbGFzc2VzLgogICAgICAgICAqLwogICAgICAgIGNDc3NDbGFzcygpIHsKICAgICAgICAgICAgcmV0dXJuIHsKICAgICAgICAgICAgICAgICdmLWNhcmQtb24nOiAhdGhpcy5mQ2FyZE9mZiwKICAgICAgICAgICAgICAgICdoZWlnaHQtc2V0JzogdGhpcy5oZWlnaHQgIT09ICdhdXRvJywKICAgICAgICAgICAgICAgICdmaXhlZC1oZWFkZXInOiB0aGlzLmZpeGVkSGVhZGVyLAogICAgICAgICAgICAgICAgJ25vLWZsLXBhZGRpbmcnOiB0aGlzLm5vRkxQYWRkaW5nIHx8ICF0aGlzLmZDYXJkT2ZmLAogICAgICAgICAgICAgICAgJ2FjdGlvbi1vbi1yb3cnOiB0aGlzLmFjdGlvbk9uUm93LAogICAgICAgICAgICB9OwogICAgICAgIH0sCiAgICB9LAoKICAgIGNyZWF0ZWQoKSB7CiAgICAgICAgdGhpcy5jb2xDbGFzc1JFID0gL1xzKl9jKFxkKVxzKi87CiAgICAgICAgdGhpcy5fc29ydEJ5Q29sID0gLTE7CiAgICAgICAgdGhpcy5faW5pdGlhbFNvcnQgPSB0cnVlOwogICAgICAgIC8vIFNldHRpbmdzIHN0b3JlZCBpbiBsb2NhbCBzdG9yYWdlLiBLZXlzIGFyZSBjb2RlcywgdmFsdWVzIGFyZSBzZXR0aW5ncy4KICAgICAgICB0aGlzLl9zZXR0aW5ncyA9IHRoaXMuZ2V0U3RvcmVkU2V0dGluZ3MoKTsKCiAgICAgICAgdGhpcy5wcmVwYXJlQ29sdW1ucygpOwogICAgfSwKCiAgICBtZXRob2RzOiB7CiAgICAgICAgaW5pdGlhbFNvcnQoKSB7CiAgICAgICAgICAgIGlmICh0aGlzLl9pbml0aWFsU29ydCkgewogICAgICAgICAgICAgICAgdGhpcy5faW5pdGlhbFNvcnQgPSBmYWxzZTsKCiAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHsKICAgICAgICAgICAgICAgICAgICBjb25zdCB7IHNvcnRpbmcgfSA9IHRoaXMuX3NldHRpbmdzOwogICAgICAgICAgICAgICAgICAgIGxldCBjb2x1bW4gPSBudWxsOwoKICAgICAgICAgICAgICAgICAgICBpZiAoc29ydGluZykgewogICAgICAgICAgICAgICAgICAgICAgICBjb2x1bW4gPSB0aGlzLmdldENvbHVtbkJ5TmFtZShzb3J0aW5nLnNvcnRCeSk7CiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChjb2x1bW4pIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuc29ydEJ5Q29sdW1uKGNvbHVtbiwgc29ydGluZy5zb3J0RGlyKTsKICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAodGhpcy5fc29ydEJ5Q29sID4gLTEpIHsKICAgICAgICAgICAgICAgICAgICAgICAgY29sdW1uID0gdGhpcy5jb2x1bW5zW3RoaXMuX3NvcnRCeUNvbF07CiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuc29ydEJ5Q29sdW1uKGNvbHVtbiwgY29sdW1uLnNvcnREaXIpOwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0sIDEwKTsKICAgICAgICAgICAgfQogICAgICAgIH0sCgogICAgICAgIC8qKgogICAgICAgICAqIFNldCBjb2x1bW5zIGNzcywgLi4uCiAgICAgICAgICovCiAgICAgICAgcHJlcGFyZUNvbHVtbnMoKSB7CiAgICAgICAgICAgIGNvbnN0IHsgY29sdW1ucyB9ID0gdGhpczsKICAgICAgICAgICAgY29uc3QgaGlkZGVuQ29sdW1ucyA9IHRoaXMuaGlkZGVuQ29sdW1ucy5sZW5ndGggPiAwID8gdGhpcy5oaWRkZW5Db2x1bW5zIDogbnVsbDsKICAgICAgICAgICAgbGV0IGNzc1N0ciA9ICcnOwogICAgICAgICAgICBsZXQgZFZpc2libGVDb2x1bW5zTnVtID0gMDsKICAgICAgICAgICAgbGV0IGZpcnN0VmlzaWJsZSA9IGZhbHNlOwoKICAgICAgICAgICAgY29sdW1ucy5mb3JFYWNoKChfY29sdW1uLCBfaW5kZXgpID0+IHsKICAgICAgICAgICAgICAgIGNvbnN0IGNzcyA9IHt9OwogICAgICAgICAgICAgICAgY29uc3QgY2VsbENoaWxkcmVuQ3NzID0ge307CgogICAgICAgICAgICAgICAgX2NvbHVtbi5faW5kZXggPSBfaW5kZXg7CgogICAgICAgICAgICAgICAgaWYgKF9jb2x1bW4uc29ydERpcikgewogICAgICAgICAgICAgICAgICAgIHRoaXMuX3NvcnRCeUNvbCA9IF9pbmRleDsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICBpZiAoaGlkZGVuQ29sdW1ucyAmJiBoaWRkZW5Db2x1bW5zLmluZGV4T2YoX2NvbHVtbi5uYW1lKSA+IC0xKSB7CiAgICAgICAgICAgICAgICAgICAgX2NvbHVtbi5oaWRkZW4gPSB0cnVlOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIGlmICghX2NvbHVtbi5oaWRkZW4pIHsKICAgICAgICAgICAgICAgICAgICBkVmlzaWJsZUNvbHVtbnNOdW0rKzsKCiAgICAgICAgICAgICAgICAgICAgaWYgKCFmaXJzdFZpc2libGUpIHsKICAgICAgICAgICAgICAgICAgICAgICAgZmlyc3RWaXNpYmxlID0gdHJ1ZTsKCiAgICAgICAgICAgICAgICAgICAgICAgIF9jb2x1bW4uY3NzQ2xhc3MgPSBgJHtfY29sdW1uLmNzc0NsYXNzIHx8ICcnfSBmLWNvbGA7CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIGlmIChfY29sdW1uLndpZHRoKSB7CiAgICAgICAgICAgICAgICAgICAgY3NzLndpZHRoID0gX2NvbHVtbi53aWR0aDsKICAgICAgICAgICAgICAgICAgICBjc3MubWluV2lkdGggPSBjc3Mud2lkdGg7CiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKF9jb2x1bW4ubWluV2lkdGgpIHsKICAgICAgICAgICAgICAgICAgICBjc3MubWluV2lkdGggPSBfY29sdW1uLm1pbldpZHRoOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIGlmIChfY29sdW1uLmNzcykgewogICAgICAgICAgICAgICAgICAgIE9iamVjdC5hc3NpZ24oY3NzLCBfY29sdW1uLmNzcyk7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgaWYgKF9jb2x1bW4uY2VsbENoaWxkcmVuQ3NzKSB7CiAgICAgICAgICAgICAgICAgICAgT2JqZWN0LmFzc2lnbihjZWxsQ2hpbGRyZW5Dc3MsIF9jb2x1bW4uY2VsbENoaWxkcmVuQ3NzKTsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICBpZiAodGhpcy5vbmVMaW5lTW9kZSB8fCBfY29sdW1uLm9uZUxpbmVNb2RlKSB7CiAgICAgICAgICAgICAgICAgICAgY29uc3QgdGhyZWVEb3RzID0gewogICAgICAgICAgICAgICAgICAgICAgICB3aGl0ZVNwYWNlOiAnbm93cmFwJywKICAgICAgICAgICAgICAgICAgICAgICAgb3ZlcmZsb3c6ICdoaWRkZW4nLAogICAgICAgICAgICAgICAgICAgICAgICB0ZXh0T3ZlcmZsb3c6ICdlbGxpcHNpcycsCiAgICAgICAgICAgICAgICAgICAgfTsKCiAgICAgICAgICAgICAgICAgICAgT2JqZWN0LmFzc2lnbihjc3MsIHRocmVlRG90cyk7CiAgICAgICAgICAgICAgICAgICAgLy8gT2JqZWN0LmFzc2lnbihjZWxsQ2hpbGRyZW5Dc3MsIHRocmVlRG90cyk7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgaWYgKCFpc09iamVjdEVtcHR5KGNzcykpIHsKICAgICAgICAgICAgICAgICAgICBjc3NTdHIgKz0gYCMke3RoaXMuZElkfSAuJHt0aGlzLmdldENvbHVtbkNsYXNzKF9pbmRleCl9IHske29iajJjc3MoY3NzKX19YDsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICBpZiAoIWlzT2JqZWN0RW1wdHkoY2VsbENoaWxkcmVuQ3NzKSkgewogICAgICAgICAgICAgICAgICAgIGNzc1N0ciArPSBgIyR7dGhpcy5kSWR9IC4ke3RoaXMuZ2V0Q29sdW1uQ2xhc3MoX2luZGV4KX0gPiAqIHske29iajJjc3MoY2VsbENoaWxkcmVuQ3NzKX19YDsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSk7CgogICAgICAgICAgICBmb3IgKGxldCBpID0gY29sdW1ucy5sZW5ndGggLSAxOyBpID49IDA7IGktLSkgewogICAgICAgICAgICAgICAgaWYgKCFjb2x1bW5zW2ldLmhpZGRlbikgewogICAgICAgICAgICAgICAgICAgIGNvbHVtbnNbaV0uY3NzQ2xhc3MgPSBgJHtjb2x1bW5zW2ldLmNzc0NsYXNzIHx8ICcnfSBsLWNvbGA7CiAgICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIGlmIChjc3NTdHIpIHsKICAgICAgICAgICAgICAgIHRoaXMuZENzcyA9IGNzc1N0cjsKICAgICAgICAgICAgfQoKICAgICAgICAgICAgaWYgKGRWaXNpYmxlQ29sdW1uc051bSA+IDApIHsKICAgICAgICAgICAgICAgIHRoaXMuZFZpc2libGVDb2x1bW5zTnVtID0gZFZpc2libGVDb2x1bW5zTnVtOwogICAgICAgICAgICB9CiAgICAgICAgfSwKCiAgICAgICAgLyoqCiAgICAgICAgICogRmV0Y2ggbW9yZSBkYXRhLgogICAgICAgICAqLwogICAgICAgIGZldGNoTW9yZShfdmlzaWJsZSkgewogICAgICAgICAgICB0aGlzLiRlbWl0KCdsb2FkZXItdmlzaWJpbGl0eScsIF92aXNpYmxlKTsKCiAgICAgICAgICAgIGlmIChfdmlzaWJsZSkgewogICAgICAgICAgICAgICAgdGhpcy4kZW1pdCgnZmV0Y2gtbW9yZScpOwogICAgICAgICAgICB9CiAgICAgICAgfSwKCiAgICAgICAgLyoqCiAgICAgICAgICogQHBhcmFtIHtpbnR9IF9pbmRleAogICAgICAgICAqIEBwYXJhbSB7b2JqZWN0fSBfZGF0YQogICAgICAgICAqIEByZXR1cm4ge2Jvb2xlYW59CiAgICAgICAgICovCiAgICAgICAgdXBkYXRlUm93KF9pbmRleCwgX2RhdGEpIHsKICAgICAgICAgICAgaWYgKGlzVmFsaWRJbmRleChfaW5kZXgsIHRoaXMuaXRlbXMpKSB7CiAgICAgICAgICAgICAgICB0aGlzLiRzZXQodGhpcy5pdGVtcywgX2luZGV4LCBfZGF0YSk7CiAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTsKICAgICAgICAgICAgfQoKICAgICAgICAgICAgcmV0dXJuIGZhbHNlOwogICAgICAgIH0sCgogICAgICAgIC8qKgogICAgICAgICAqIEBwYXJhbSB7aW50fSBfcm93SW5kZXgKICAgICAgICAgKiBAcGFyYW0ge3N0cmluZ30gX2NvbE5hbWUKICAgICAgICAgKiBAcGFyYW0geyp9IF9kYXRhCiAgICAgICAgICogQHJldHVybiB7Ym9vbGVhbn0KICAgICAgICAgKi8KICAgICAgICB1cGRhdGVDZWxsKF9yb3dJbmRleCwgX2NvbE5hbWUsIF9kYXRhKSB7CiAgICAgICAgICAgIGlmIChpc1ZhbGlkSW5kZXgoX3Jvd0luZGV4LCB0aGlzLml0ZW1zKSkgewogICAgICAgICAgICAgICAgLy8gJiYgX2NvbE5hbWUgaW4gY29sdW1uc0J5TmFtZSAob2JqZWN0KSEhCiAgICAgICAgICAgICAgICB0aGlzLiRzZXQodGhpcy5pdGVtc1tfcm93SW5kZXhdLCBfY29sTmFtZSwgX2RhdGEpOwogICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIHJldHVybiBmYWxzZTsKICAgICAgICB9LAoKICAgICAgICAvKioKICAgICAgICAgKiBHZXQgY29sdW1uJ3MgY3NzIGNsYXNzLgogICAgICAgICAqCiAgICAgICAgICogQHBhcmFtIHtpbnR9IF9pbmRleAogICAgICAgICAqIEBwYXJhbSB7b2JqZWN0fSBbX2NvbHVtbl0KICAgICAgICAgKiBAcmV0dXJuIHtzdHJpbmd9CiAgICAgICAgICovCiAgICAgICAgZ2V0Q29sdW1uQ2xhc3MoX2luZGV4LCBfY29sdW1uKSB7CiAgICAgICAgICAgIHJldHVybiBgX2Mke19pbmRleH0gYCArIChfY29sdW1uICYmIF9jb2x1bW4uY3NzQ2xhc3MgPyBfY29sdW1uLmNzc0NsYXNzIDogJycpOwogICAgICAgIH0sCgogICAgICAgIC8qKgogICAgICAgICAqIEdldCBoZWFkaW5nIGNvbHVtbidzIGNzcyBjbGFzc2VzLgogICAgICAgICAqCiAgICAgICAgICogQHBhcmFtIHtvYmplY3R9IFtfY29sdW1uXQogICAgICAgICAqIEByZXR1cm4ge3N0cmluZ30KICAgICAgICAgKi8KICAgICAgICBnZXRIZWFkaW5nQ29sdW1uQ2xhc3MoX2NvbHVtbikgewogICAgICAgICAgICBpZiAoX2NvbHVtbi5zb3J0RnVuYykgewogICAgICAgICAgICAgICAgcmV0dXJuIGBzb3J0YWJsZSAke19jb2x1bW4uc29ydERpciB8fCAnJ31gOwogICAgICAgICAgICB9CgogICAgICAgICAgICByZXR1cm4gJyc7CiAgICAgICAgfSwKCiAgICAgICAgLyoqCiAgICAgICAgICogR2V0IGNvbHVtbiBieSBpdHMgY3NzIGNsYXNzLgogICAgICAgICAqCiAgICAgICAgICogQHBhcmFtIHtzdHJpbmd9IF9jbGFzcwogICAgICAgICAqIEByZXR1cm4ge29iamVjdH0KICAgICAgICAgKi8KICAgICAgICBnZXRDb2x1bW5CeUNsYXNzKF9jbGFzcykgewogICAgICAgICAgICBjb25zdCBtYXRjaCA9IHRoaXMuY29sQ2xhc3NSRS5leGVjKF9jbGFzcyk7CiAgICAgICAgICAgIGxldCBjb2x1bW4gPSBudWxsOwoKICAgICAgICAgICAgaWYgKG1hdGNoICYmIG1hdGNoLmxlbmd0aCA9PT0gMikgewogICAgICAgICAgICAgICAgY29sdW1uID0gdGhpcy5jb2x1bW5zW3BhcnNlSW50KG1hdGNoWzFdKV0gfHwgbnVsbDsKICAgICAgICAgICAgfQoKICAgICAgICAgICAgcmV0dXJuIGNvbHVtbjsKICAgICAgICB9LAoKICAgICAgICBnZXRDb2x1bW5CeU5hbWUobmFtZSkgewogICAgICAgICAgICByZXR1cm4gdGhpcy5jb2x1bW5zLmZpbmQoY29sdW1uID0+IGNvbHVtbi5uYW1lID09PSBuYW1lKTsKICAgICAgICB9LAoKICAgICAgICAvKioKICAgICAgICAgKiBHZXQgZGF0YSBpdGVtIHZhbHVlLgogICAgICAgICAqCiAgICAgICAgICogQHBhcmFtIHtvYmplY3R9IF9pdGVtCiAgICAgICAgICogQHBhcmFtIHtvYmplY3R9IF9jb2wKICAgICAgICAgKiBAcmV0dXJuIHsqfQogICAgICAgICAqLwogICAgICAgIGdldEl0ZW1Qcm9wVmFsdWUoX2l0ZW0sIF9jb2wpIHsKICAgICAgICAgICAgbGV0IHZhbHVlOwoKICAgICAgICAgICAgaWYgKF9jb2wuaXRlbVByb3ApIHsKICAgICAgICAgICAgICAgIHZhbHVlID0gZ2V0TmVzdGVkUHJvcChfaXRlbSwgX2NvbC5pdGVtUHJvcCk7CiAgICAgICAgICAgIH0gZWxzZSBpZiAoX2NvbC5yZWFkVmFsdWVGcm9tKSB7CiAgICAgICAgICAgICAgICB2YWx1ZSA9IF9pdGVtW19jb2wucmVhZFZhbHVlRnJvbV07CiAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICB2YWx1ZSA9IF9pdGVtW19jb2wubmFtZV07CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIGlmIChfY29sLmZvcm1hdHRlciAmJiAhX2NvbC5oaWRkZW4pIHsKICAgICAgICAgICAgICAgIHZhbHVlID0gX2NvbC5mb3JtYXR0ZXIodmFsdWUsIF9pdGVtKTsKICAgICAgICAgICAgfQoKICAgICAgICAgICAgcmV0dXJuIHZhbHVlOwogICAgICAgIH0sCgogICAgICAgIC8qKgogICAgICAgICAqIFNvcnQgdGFibGUgYnkgY29sdW1uLgogICAgICAgICAqCiAgICAgICAgICogQHBhcmFtIHtPYmplY3R9IF9jb2x1bW4KICAgICAgICAgKiBAcGFyYW0ge1N0cmluZ30gW19zb3J0RGlyXSAnYXNjJ3wnZGVzYycKICAgICAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtfY2xpY2tdCiAgICAgICAgICovCiAgICAgICAgc29ydEJ5Q29sdW1uKF9jb2x1bW4sIF9zb3J0RGlyLCBfY2xpY2spIHsKICAgICAgICAgICAgaWYgKF9jb2x1bW4gJiYgX2NvbHVtbi5zb3J0RnVuYykgewogICAgICAgICAgICAgICAgY29uc3Qgc29ydEJ5Q29sID0gdGhpcy5fc29ydEJ5Q29sOwoKICAgICAgICAgICAgICAgIGlmIChzb3J0QnlDb2wgPiAtMSAmJiBzb3J0QnlDb2wgIT09IF9jb2x1bW4uX2luZGV4KSB7CiAgICAgICAgICAgICAgICAgICAgdGhpcy5jb2x1bW5zW3NvcnRCeUNvbF0uc29ydERpciA9ICcnOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIGlmIChfc29ydERpcikgewogICAgICAgICAgICAgICAgICAgIF9jb2x1bW4uc29ydERpciA9IF9zb3J0RGlyOwogICAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICAgICAvLyBkZWZhdWx0IHNvcnQgb24gY29sdW1uIGhlYWRlciBjbGljayBpcyAnZGVzYycKICAgICAgICAgICAgICAgICAgICBpZiAoX2NvbHVtbi5zb3J0RGlyID09PSAnZGVzYycpIHsKICAgICAgICAgICAgICAgICAgICAgICAgX2NvbHVtbi5zb3J0RGlyID0gJ2FzYyc7CiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICAgICAgICAgX2NvbHVtbi5zb3J0RGlyID0gJ2Rlc2MnOwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICB0aGlzLl9zb3J0QnlDb2wgPSBfY29sdW1uLl9pbmRleDsKCiAgICAgICAgICAgICAgICBpZiAoX2NsaWNrICYmIHRoaXMuY29kZSAmJiB0aGlzLnNhdmVTb3J0aW5nKSB7CiAgICAgICAgICAgICAgICAgICAgY29uc3Qgc29ydGluZyA9IHsKICAgICAgICAgICAgICAgICAgICAgICAgc29ydEJ5OiBfY29sdW1uLm5hbWUsCiAgICAgICAgICAgICAgICAgICAgICAgIHNvcnREaXI6IF9jb2x1bW4uc29ydERpciwKICAgICAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCdzYXZlIHNvcnRpbmcnLCBzb3J0aW5nKTsKICAgICAgICAgICAgICAgICAgICB0aGlzLnNhdmVTZXR0aW5ncyh7IC4uLnRoaXMuX3NldHRpbmdzLCBzb3J0aW5nfSk7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgdGhpcy5pdGVtcy5zb3J0KF9jb2x1bW4uc29ydEZ1bmMoX2NvbHVtbi5pdGVtUHJvcCB8fCBfY29sdW1uLm5hbWUsIF9jb2x1bW4uc29ydERpcikpOwogICAgICAgICAgICB9CiAgICAgICAgfSwKCiAgICAgICAgLyoqCiAgICAgICAgICogQHJldHVybiB7T2JqZWN0fQogICAgICAgICAqLwogICAgICAgIGdldFN0b3JlZFNldHRpbmdzKCkgewogICAgICAgICAgICBjb25zdCB7IGxvY2FsU3RvcmFnZSB9ID0gd2luZG93OwogICAgICAgICAgICBsZXQgc2V0dGluZ3MgPSB7fTsKCiAgICAgICAgICAgIGlmICh0aGlzLmNvZGUgJiYgbG9jYWxTdG9yYWdlKSB7CiAgICAgICAgICAgICAgICBjb25zdCBncmlkU2V0dGluZ3MgPSBKU09OLnBhcnNlKGxvY2FsU3RvcmFnZS5nZXRJdGVtKEdSSURfU1RPUkFHRV9LRVkpIHx8ICd7fScpOwoKICAgICAgICAgICAgICAgIGlmIChncmlkU2V0dGluZ3MgJiYgZ3JpZFNldHRpbmdzW3RoaXMuY29kZV0pIHsKICAgICAgICAgICAgICAgICAgICBzZXR0aW5ncyA9IGdyaWRTZXR0aW5nc1t0aGlzLmNvZGVdOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CgogICAgICAgICAgICByZXR1cm4gc2V0dGluZ3M7CiAgICAgICAgfSwKCiAgICAgICAgLyoqCiAgICAgICAgICogQHBhcmFtIHtPYmplY3R9IHNldHRpbmdzCiAgICAgICAgICovCiAgICAgICAgc2F2ZVNldHRpbmdzKHNldHRpbmdzKSB7CiAgICAgICAgICAgIGNvbnN0IHsgbG9jYWxTdG9yYWdlIH0gPSB3aW5kb3c7CgogICAgICAgICAgICBpZiAodGhpcy5jb2RlICYmIGxvY2FsU3RvcmFnZSkgewogICAgICAgICAgICAgICAgY29uc3QgZ3JpZFNldHRpbmdzID0gSlNPTi5wYXJzZShsb2NhbFN0b3JhZ2UuZ2V0SXRlbShHUklEX1NUT1JBR0VfS0VZKSB8fCAne30nKTsKCiAgICAgICAgICAgICAgICBncmlkU2V0dGluZ3NbdGhpcy5jb2RlXSA9IHNldHRpbmdzOwoKICAgICAgICAgICAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKEdSSURfU1RPUkFHRV9LRVksIEpTT04uc3RyaW5naWZ5KGdyaWRTZXR0aW5ncykpOwogICAgICAgICAgICB9CiAgICAgICAgfSwKCiAgICAgICAgLyoqCiAgICAgICAgICogQHBhcmFtIHtFdmVudH0gX2V2ZW50CiAgICAgICAgICovCiAgICAgICAgb25UYWJsZUNsaWNrKF9ldmVudCkgewogICAgICAgICAgICAvKiogQHR5cGUge0hUTUxFbGVtZW50fSAqLwogICAgICAgICAgICBsZXQgZWxlbTsKCiAgICAgICAgICAgIGlmICh0aGlzLmFjdGlvbk9uUm93KSB7CiAgICAgICAgICAgICAgICBlbGVtID0gX2V2ZW50LnRhcmdldC5jbG9zZXN0KCdbZGF0YS1kdC1pdGVtLWlkXScpOwogICAgICAgICAgICAgICAgaWYgKGVsZW0pIHsKICAgICAgICAgICAgICAgICAgICBjb25zdCBpZCA9IGVsZW0uZ2V0QXR0cmlidXRlKCdkYXRhLWR0LWl0ZW0taWQnKTsKICAgICAgICAgICAgICAgICAgICBjb25zdCBpdGVtID0gdGhpcy5pdGVtcy5maW5kKChfaXRlbSkgPT4gX2l0ZW0uaWQgPT09IGlkKTsKCiAgICAgICAgICAgICAgICAgICAgaWYgKGl0ZW0pIHsKICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy4kZW1pdCgncm93LWFjdGlvbicsIHsgLi4uaXRlbSB9KTsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KICAgICAgICB9LAoKICAgICAgICAvKioKICAgICAgICAgKiBAcGFyYW0ge0tleWJvYXJkRXZlbnR9IF9ldmVudAogICAgICAgICAqLwogICAgICAgIG9uVGFibGV0S2V5dXAoX2V2ZW50KSB7CiAgICAgICAgICAgIGlmIChpc0FyaWFBY3Rpb24oX2V2ZW50KSkgewogICAgICAgICAgICAgICAgdGhpcy5vblRhYmxlQ2xpY2soX2V2ZW50KTsKICAgICAgICAgICAgfQogICAgICAgIH0sCgogICAgICAgIC8qKgogICAgICAgICAqIEBwYXJhbSB7RXZlbnR9IF9ldmVudAogICAgICAgICAqLwogICAgICAgIG9uSGVhZGVyQ2xpY2soX2V2ZW50KSB7CiAgICAgICAgICAgIGxldCBlbGVtID0gX2V2ZW50LnRhcmdldC5jbG9zZXN0KCd0aCcpOwogICAgICAgICAgICBjb25zdCBjb2x1bW4gPSBlbGVtID8gdGhpcy5nZXRDb2x1bW5CeUNsYXNzKGVsZW0uY2xhc3NOYW1lKSA6IG51bGw7CgogICAgICAgICAgICB0aGlzLnNvcnRCeUNvbHVtbihjb2x1bW4sICcnLCB0cnVlKTsKICAgICAgICB9LAoKICAgICAgICAvKioKICAgICAgICAgKiBUcmlnZ2VyZWQgb24gYEZQYWdpbmF0aW9uYCdzIGAncGFnZS1jaGFuZ2UnYCBldmVudC4KICAgICAgICAgKgogICAgICAgICAqIEBwYXJhbSB7T2JqZWN0fSBfZGF0YQogICAgICAgICAqLwogICAgICAgIG9uUGFnZUNoYW5nZShfZGF0YSkgewogICAgICAgICAgICB0aGlzLmRQYWdpbmF0aW9uID0gY2xvbmVPYmplY3QoX2RhdGEuZGV0YWlsKTsKICAgICAgICB9LAoKICAgICAgICAvKioKICAgICAgICAgKiBAcGFyYW0ge0ludGVyc2VjdGlvbk9ic2VydmVyRW50cnl9IF9lbnRyeQogICAgICAgICAqLwogICAgICAgIG9uRW50cnkoX2VudHJ5KSB7CiAgICAgICAgICAgIHRoaXMuZmV0Y2hNb3JlKF9lbnRyeS5pc0ludGVyc2VjdGluZyk7CiAgICAgICAgfSwKCiAgICAgICAgLyoqCiAgICAgICAgICogQ29udmVydCBvYmplY3QsIHdoZXJlIGtleXMgYXJlIGNzcyBwcm9wZXJ0aWVzLCB0byBzdHJpbmcuCiAgICAgICAgICoKICAgICAgICAgKiBAcGFyYW0ge29iamVjdH0gX2Nzc09iagogICAgICAgICAqIEByZXR1cm4ge3N0cmluZ30KICAgICAgICAgKi8KICAgICAgICBvYmoyY3NzOiBvYmoyY3NzLAogICAgfSwKfTsK"},{"version":3,"sources":["FDataTable.vue"],"names":[],"mappings":";AA0KA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"FDataTable.vue","sourceRoot":"src/components/core/FDataTable","sourcesContent":["<template>\n    <f-card :off=\"fCardOff\" class=\"f-data-table-card\">\n        <div :id=\"dId\" class=\"f-data-table\" :class=\"cCssClass\" @page-change=\"onPageChange\">\n            <slot name=\"before-table\">\n                <div v-if=\"usePagination\" class=\"before-table\">\n                    <f-pagination\n                        :total-items=\"totalItems\"\n                        :items-per-page=\"itemsPerPage\"\n                        :curr-page=\"currPage\"\n                    ></f-pagination>\n                </div>\n            </slot>\n            <div\n                v-if=\"columns.length\"\n                class=\"table-container\"\n                :style=\"cHeight\"\n                @click=\"onTableClick\"\n                @keyup=\"onTabletKeyup\"\n            >\n                <table v-if=\"!cMobileView\">\n                    <slot name=\"header\">\n                        <thead>\n                            <tr @click=\"onHeaderClick\">\n                                <th\n                                    v-for=\"(col, index) in columns\"\n                                    v-show=\"!col.hidden\"\n                                    :key=\"col.name\"\n                                    :class=\"getColumnClass(index, col) + ' ' + getHeadingColumnClass(col)\"\n                                >\n                                    <div>{{ col.label }}</div>\n                                </th>\n                            </tr>\n                        </thead>\n                    </slot>\n                    <slot>\n                        <tbody v-if=\"cItems.length\">\n                        <template v-for=\"item in cItems\">\n                            <tr\n                                :key=\"item.id\"\n                                :style=\"item.css ? obj2css(item.css) : ''\"\n                                :data-dt-item-id=\"actionOnRow ? item.id : undefined\"\n                                :tabindex=\"actionOnRow ? 0 : -1\"\n                            >\n                                <td\n                                    v-for=\"(col, index) in columns\"\n                                    v-show=\"!col.hidden\"\n                                    :key=\"col.name\"\n                                    :class=\"getColumnClass(index, col)\"\n                                >\n                                    <slot\n                                        :name=\"`column-${col.name}`\"\n                                        :value=\"getItemPropValue(item, col)\"\n                                        :item=\"item\"\n                                    >\n                                        {{ getItemPropValue(item, col) }}\n                                    </slot>\n                                </td>\n                            </tr>\n                            <slot\n                                name=\"subrow\"\n                                :style=\"item.css ? obj2css(item.css) : ''\"\n                                :dtItemId=\"actionOnRow ? item.id : undefined\"\n                                :tabindex=\"actionOnRow ? 0 : -1\"\n                                :item=\"item\"\n                                :columns=\"columns\"\n                                :visibleColumnsNum=\"dVisibleColumnsNum\"\n                                :mobileView=\"false\"\n                            ></slot>\n                        </template>\n                        </tbody>\n                        <tbody v-else-if=\"!loading\">\n                            <tr>\n                                <td :colspan=\"dVisibleColumnsNum\">\n                                    <slot name=\"no-items\">\n                                        <div class=\"no-items\">{{ $t('no_items') }}</div>\n                                    </slot>\n                                </td>\n                            </tr>\n                        </tbody>\n                    </slot>\n                    <slot name=\"footer\">\n                        <tfoot>\n                            <tr v-if=\"infiniteScroll && cItems.length\" v-show=\"!disableInfiniteScroll\">\n                                <td :colspan=\"dVisibleColumnsNum\">\n                                    <f-intersection-observer :root-margin=\"`${infiniteScrollDistance}px 0px`\" @entry=\"onEntry\" class=\"f-loading-more\">\n                                        <pulse-loader color=\"#1969ff\"></pulse-loader>\n                                    </f-intersection-observer>\n                                </td>\n                            </tr>\n\n                            <tr v-if=\"loading && (!cItems.length || forceLoading)\">\n                                <td :colspan=\"dVisibleColumnsNum\">\n                                    <div class=\"f-loading-more\">\n                                        <pulse-loader color=\"#1969ff\"></pulse-loader>\n                                    </div>\n                                </td>\n                            </tr>\n                        </tfoot>\n                    </slot>\n                </table>\n\n                <div v-else class=\"mobile-view f-data-layout normal-padding\">\n                    <div v-if=\"cItems.length\">\n                        <template v-for=\"item in cItems\">\n                            <div\n                                :key=\"item.id\"\n                                :style=\"item.css ? obj2css(item.css) : ''\"\n                                :data-dt-item-id=\"actionOnRow ? item.id : undefined\"\n                                :tabindex=\"actionOnRow ? 0 : -1\"\n                                class=\"mobile-item\"\n                            >\n                                <div\n                                    v-for=\"(col, index) in columns\"\n                                    :key=\"col.name\"\n                                    :class=\"getColumnClass(index, col)\"\n                                >\n                                    <template v-if=\"!col.hidden\">\n                                        <slot\n                                            :name=\"`column-${col.name}`\"\n                                            :value=\"getItemPropValue(item, col)\"\n                                            :item=\"item\"\n                                            :column=\"col\"\n                                        >\n                                            <div class=\"row no-collapse no-vert-col-padding\">\n                                                <div :class=\"`col-${firstMVColumnWidth} f-row-label`\">\n                                                    {{ col.label }}\n                                                </div>\n                                                <div class=\"col break-word\">{{ getItemPropValue(item, col) }}</div>\n                                            </div>\n                                        </slot>\n                                    </template>\n                                </div>\n                                <slot\n                                    name=\"subrow\"\n                                    :style=\"item.css ? obj2css(item.css) : ''\"\n                                    :dtItemId=\"actionOnRow ? item.id : undefined\"\n                                    :tabindex=\"actionOnRow ? 0 : -1\"\n                                    :item=\"item\"\n                                    :columns=\"columns\"\n                                    :visibleColumnsNum=\"dVisibleColumnsNum\"\n                                    :mobileView=\"true\"\n                                ></slot>\n                            </div>\n                        </template>\n                    </div>\n                    <div v-else-if=\"!loading\">\n                        <div class=\"no-items\">{{ $t('no_items') }}</div>\n                    </div>\n\n                    <div v-if=\"infiniteScroll && cItems.length\" v-show=\"!disableInfiniteScroll\">\n                        <f-intersection-observer :root-margin=\"`${infiniteScrollDistance}px 0px`\" @entry=\"onEntry\" class=\"f-loading-more\">\n                            <pulse-loader color=\"#1969ff\"></pulse-loader>\n                        </f-intersection-observer>\n                    </div>\n\n                    <div v-if=\"loading && (!cItems.length || forceLoading)\">\n                        <div class=\"f-loading-more\">\n                            <pulse-loader color=\"#1969ff\"></pulse-loader>\n                        </div>\n                    </div>\n                </div>\n            </div>\n            <slot name=\"after-table\"></slot>\n\n            <f-head-style :css=\"dCss\"></f-head-style>\n        </div>\n    </f-card>\n</template>\n\n<script>\nimport FHeadStyle from '../FHeadStyle/FHeadStyle.vue';\nimport FPagination from '../FPagination/FPagination.vue';\nimport { getNestedProp, isValidIndex } from '../../../utils';\nimport { cloneObject, isObjectEmpty } from '../../../utils';\nimport { obj2css } from '../../../utils';\nimport { helpersMixin } from '../../../mixins/helpers.js';\nimport events from '../../../mixins/events.js';\nimport FCard from '../FCard/FCard.vue';\nimport PulseLoader from 'vue-spinner/src/PulseLoader.vue';\nimport { isAriaAction } from '@/utils/aria.js';\nimport FIntersectionObserver from \"@/components/core/FIntersectionObserver/FIntersectionObserver.vue\";\n\nconst GRID_STORAGE_KEY = 'next-data-grid';\n\nexport default {\n    components: {\n        FIntersectionObserver,\n        FCard,\n        FHeadStyle,\n        FPagination,\n        PulseLoader,\n    },\n\n    mixins: [helpersMixin, events],\n\n    props: {\n        /**\n         * Array of columns descriptions.\n         *\n         * One item is an object with keys:\n         * `name` {string} - unique name of column (required). Can be used as a data item property.\n         * `label` {string} - label of column placed in the header of table\n         * `itemProp` {string} - can be used to get data from nested data item property - 'prop1.prop2' for example\n         * `formatter` {function} - apply this formatter to data item value\n         * `readValueFrom` {string} - if there is no key `name` in data item object, read value from column with name `value`\n         * `width` {string} - minimum width of column\n         * `hidden` {boolean} - if `true`, column will be hidden\n         * `css` {object} - style for whole column. Keys are css properties in camel case, values are valid css values.\n         * `cssClass` {string} - css class to be added to column\n         * `cellChildrenCss` {object} - style for column cells direct children. Keys are css properties in camel case, values are valid css values.\n         * `oneLineMode` {boolean} - if `true`, no line breaks are allowed in column's cells.\n         */\n        columns: {\n            type: Array,\n            required: true,\n            default() {\n                return [];\n            },\n        },\n\n        /**\n         * Array of table rows.\n         *\n         * One item is an object, where keys are column names.\n         * Reserved keys are:\n         * `css` {object} - style for whole row. Keys are css properties in camel case, values are valid css values.\n         */\n        items: {\n            type: Array,\n            default() {\n                return [];\n            },\n        },\n\n        /** Height of data table. */\n        height: {\n            type: String,\n            default: 'auto',\n        },\n\n        /** Array of column names to be hidden. */\n        hiddenColumns: {\n            type: Array,\n            default() {\n                return [];\n            },\n        },\n\n        /**\n         * Grid's code used for identification in local storage\n         */\n        code: {\n            type: String,\n            default: '',\n        },\n\n        /**\n         * Width of first column in mobile view (from '1' to '12').\n         * Used in mobile view slot's default content only.\n         */\n        firstMVColumnWidth: {\n            type: String,\n            default: '4',\n        },\n\n        /**  */\n        fixedHeader: {\n            type: Boolean,\n            default: false,\n        },\n\n        /** Enable infinite scrolling. */\n        infiniteScroll: {\n            type: Boolean,\n            default: false,\n        },\n\n        /**\n         * The minimum distance between the bottom of the element and the bottom of the viewport\n         * before the v-infinite-scroll method is executed.\n         */\n        infiniteScrollDistance: {\n            type: Number,\n            default: 800,\n        },\n\n        /**  */\n        disableInfiniteScroll: {\n            type: Boolean,\n            default: true,\n        },\n\n        /** Server side pagination and sorting. */\n        serverSide: {\n            type: Boolean,\n            default: false,\n        },\n\n        /**  */\n        usePagination: {\n            type: Boolean,\n            default: false,\n        },\n\n        /** Display loading message. */\n        loading: {\n            type: Boolean,\n            default: false,\n        },\n\n        /** Display loading message, even if items exist. */\n        forceLoading: {\n            type: Boolean,\n            default: false,\n        },\n\n        /** Render data table in mobile view. */\n        mobileView: {\n            type: Boolean,\n            default: false,\n        },\n\n        /** If `true`, no line breaks are allowed in table cells. */\n        oneLineMode: {\n            type: Boolean,\n            default: false,\n        },\n\n        /** If `true`, f-card element will be without any style. */\n        fCardOff: {\n            type: Boolean,\n            default: false,\n        },\n\n        /** No left padding on the first column and right padding on the last column. */\n        noFLPadding: {\n            type: Boolean,\n            default: false,\n        },\n\n        /** If `true`, row will become clickable and 'row-action' event will be triggered. */\n        actionOnRow: {\n            type: Boolean,\n            default: false,\n        },\n\n        /** If `true` and `code` prop is set, save info about sorting to local storage. */\n        saveSorting: {\n            type: Boolean,\n            default: true,\n        },\n\n        ...FPagination.props,\n    },\n\n    data() {\n        return {\n            dId: `tbl${this._uid}`,\n            dCss: '',\n            dPagination: {},\n            dVisibleColumnsNum: 0,\n            // dItems: this.items\n        };\n    },\n\n    computed: {\n        /**\n         * Property is set to `true`, if 'data-table-mobile-view' breakpoint is reached.\n         *\n         * @return {Boolean}\n         */\n        cMobileView() {\n            const dataTableBreakpoint = this.$store.state.breakpoints['data-table-mobile-view'];\n\n            return (dataTableBreakpoint && dataTableBreakpoint.matches) || this.mobileView;\n        },\n\n        /**\n         * Get items (rows). If pagination is used, return proper slice of items.\n         */\n        cItems() {\n            const { itemsIndices } = this.dPagination;\n\n            this.setIds(this.items);\n\n            if (!this.serverSide && this.usePagination) {\n                return itemsIndices ? this.items.slice(itemsIndices.from, itemsIndices.to + 1) : [];\n            } else {\n                if (this.items.length > 0) {\n                    this.initialSort();\n                }\n\n                return this.items;\n            }\n        },\n\n        /**\n         * Calculates max-height of data table.\n         */\n        cHeight() {\n            if (this.height === 'auto') {\n                return '';\n            }\n\n            return `max-height: ${this.height}`;\n        },\n\n        /**\n         * Container's css classes.\n         */\n        cCssClass() {\n            return {\n                'f-card-on': !this.fCardOff,\n                'height-set': this.height !== 'auto',\n                'fixed-header': this.fixedHeader,\n                'no-fl-padding': this.noFLPadding || !this.fCardOff,\n                'action-on-row': this.actionOnRow,\n            };\n        },\n    },\n\n    created() {\n        this.colClassRE = /\\s*_c(\\d)\\s*/;\n        this._sortByCol = -1;\n        this._initialSort = true;\n        // Settings stored in local storage. Keys are codes, values are settings.\n        this._settings = this.getStoredSettings();\n\n        this.prepareColumns();\n    },\n\n    methods: {\n        initialSort() {\n            if (this._initialSort) {\n                this._initialSort = false;\n\n                setTimeout(() => {\n                    const { sorting } = this._settings;\n                    let column = null;\n\n                    if (sorting) {\n                        column = this.getColumnByName(sorting.sortBy);\n                        if (column) {\n                            this.sortByColumn(column, sorting.sortDir);\n                        }\n                    } else if (this._sortByCol > -1) {\n                        column = this.columns[this._sortByCol];\n                        this.sortByColumn(column, column.sortDir);\n                    }\n                }, 10);\n            }\n        },\n\n        /**\n         * Set columns css, ...\n         */\n        prepareColumns() {\n            const { columns } = this;\n            const hiddenColumns = this.hiddenColumns.length > 0 ? this.hiddenColumns : null;\n            let cssStr = '';\n            let dVisibleColumnsNum = 0;\n            let firstVisible = false;\n\n            columns.forEach((_column, _index) => {\n                const css = {};\n                const cellChildrenCss = {};\n\n                _column._index = _index;\n\n                if (_column.sortDir) {\n                    this._sortByCol = _index;\n                }\n\n                if (hiddenColumns && hiddenColumns.indexOf(_column.name) > -1) {\n                    _column.hidden = true;\n                }\n\n                if (!_column.hidden) {\n                    dVisibleColumnsNum++;\n\n                    if (!firstVisible) {\n                        firstVisible = true;\n\n                        _column.cssClass = `${_column.cssClass || ''} f-col`;\n                    }\n                }\n\n                if (_column.width) {\n                    css.width = _column.width;\n                    css.minWidth = css.width;\n                } else if (_column.minWidth) {\n                    css.minWidth = _column.minWidth;\n                }\n\n                if (_column.css) {\n                    Object.assign(css, _column.css);\n                }\n\n                if (_column.cellChildrenCss) {\n                    Object.assign(cellChildrenCss, _column.cellChildrenCss);\n                }\n\n                if (this.oneLineMode || _column.oneLineMode) {\n                    const threeDots = {\n                        whiteSpace: 'nowrap',\n                        overflow: 'hidden',\n                        textOverflow: 'ellipsis',\n                    };\n\n                    Object.assign(css, threeDots);\n                    // Object.assign(cellChildrenCss, threeDots);\n                }\n\n                if (!isObjectEmpty(css)) {\n                    cssStr += `#${this.dId} .${this.getColumnClass(_index)} {${obj2css(css)}}`;\n                }\n\n                if (!isObjectEmpty(cellChildrenCss)) {\n                    cssStr += `#${this.dId} .${this.getColumnClass(_index)} > * {${obj2css(cellChildrenCss)}}`;\n                }\n            });\n\n            for (let i = columns.length - 1; i >= 0; i--) {\n                if (!columns[i].hidden) {\n                    columns[i].cssClass = `${columns[i].cssClass || ''} l-col`;\n                    break;\n                }\n            }\n\n            if (cssStr) {\n                this.dCss = cssStr;\n            }\n\n            if (dVisibleColumnsNum > 0) {\n                this.dVisibleColumnsNum = dVisibleColumnsNum;\n            }\n        },\n\n        /**\n         * Fetch more data.\n         */\n        fetchMore(_visible) {\n            this.$emit('loader-visibility', _visible);\n\n            if (_visible) {\n                this.$emit('fetch-more');\n            }\n        },\n\n        /**\n         * @param {int} _index\n         * @param {object} _data\n         * @return {boolean}\n         */\n        updateRow(_index, _data) {\n            if (isValidIndex(_index, this.items)) {\n                this.$set(this.items, _index, _data);\n                return true;\n            }\n\n            return false;\n        },\n\n        /**\n         * @param {int} _rowIndex\n         * @param {string} _colName\n         * @param {*} _data\n         * @return {boolean}\n         */\n        updateCell(_rowIndex, _colName, _data) {\n            if (isValidIndex(_rowIndex, this.items)) {\n                // && _colName in columnsByName (object)!!\n                this.$set(this.items[_rowIndex], _colName, _data);\n                return true;\n            }\n\n            return false;\n        },\n\n        /**\n         * Get column's css class.\n         *\n         * @param {int} _index\n         * @param {object} [_column]\n         * @return {string}\n         */\n        getColumnClass(_index, _column) {\n            return `_c${_index} ` + (_column && _column.cssClass ? _column.cssClass : '');\n        },\n\n        /**\n         * Get heading column's css classes.\n         *\n         * @param {object} [_column]\n         * @return {string}\n         */\n        getHeadingColumnClass(_column) {\n            if (_column.sortFunc) {\n                return `sortable ${_column.sortDir || ''}`;\n            }\n\n            return '';\n        },\n\n        /**\n         * Get column by its css class.\n         *\n         * @param {string} _class\n         * @return {object}\n         */\n        getColumnByClass(_class) {\n            const match = this.colClassRE.exec(_class);\n            let column = null;\n\n            if (match && match.length === 2) {\n                column = this.columns[parseInt(match[1])] || null;\n            }\n\n            return column;\n        },\n\n        getColumnByName(name) {\n            return this.columns.find(column => column.name === name);\n        },\n\n        /**\n         * Get data item value.\n         *\n         * @param {object} _item\n         * @param {object} _col\n         * @return {*}\n         */\n        getItemPropValue(_item, _col) {\n            let value;\n\n            if (_col.itemProp) {\n                value = getNestedProp(_item, _col.itemProp);\n            } else if (_col.readValueFrom) {\n                value = _item[_col.readValueFrom];\n            } else {\n                value = _item[_col.name];\n            }\n\n            if (_col.formatter && !_col.hidden) {\n                value = _col.formatter(value, _item);\n            }\n\n            return value;\n        },\n\n        /**\n         * Sort table by column.\n         *\n         * @param {Object} _column\n         * @param {String} [_sortDir] 'asc'|'desc'\n         * @param {boolean} [_click]\n         */\n        sortByColumn(_column, _sortDir, _click) {\n            if (_column && _column.sortFunc) {\n                const sortByCol = this._sortByCol;\n\n                if (sortByCol > -1 && sortByCol !== _column._index) {\n                    this.columns[sortByCol].sortDir = '';\n                }\n\n                if (_sortDir) {\n                    _column.sortDir = _sortDir;\n                } else {\n                    // default sort on column header click is 'desc'\n                    if (_column.sortDir === 'desc') {\n                        _column.sortDir = 'asc';\n                    } else {\n                        _column.sortDir = 'desc';\n                    }\n                }\n\n                this._sortByCol = _column._index;\n\n                if (_click && this.code && this.saveSorting) {\n                    const sorting = {\n                        sortBy: _column.name,\n                        sortDir: _column.sortDir,\n                    }\n\n                    console.log('save sorting', sorting);\n                    this.saveSettings({ ...this._settings, sorting});\n                }\n\n                this.items.sort(_column.sortFunc(_column.itemProp || _column.name, _column.sortDir));\n            }\n        },\n\n        /**\n         * @return {Object}\n         */\n        getStoredSettings() {\n            const { localStorage } = window;\n            let settings = {};\n\n            if (this.code && localStorage) {\n                const gridSettings = JSON.parse(localStorage.getItem(GRID_STORAGE_KEY) || '{}');\n\n                if (gridSettings && gridSettings[this.code]) {\n                    settings = gridSettings[this.code];\n                }\n            }\n\n            return settings;\n        },\n\n        /**\n         * @param {Object} settings\n         */\n        saveSettings(settings) {\n            const { localStorage } = window;\n\n            if (this.code && localStorage) {\n                const gridSettings = JSON.parse(localStorage.getItem(GRID_STORAGE_KEY) || '{}');\n\n                gridSettings[this.code] = settings;\n\n                localStorage.setItem(GRID_STORAGE_KEY, JSON.stringify(gridSettings));\n            }\n        },\n\n        /**\n         * @param {Event} _event\n         */\n        onTableClick(_event) {\n            /** @type {HTMLElement} */\n            let elem;\n\n            if (this.actionOnRow) {\n                elem = _event.target.closest('[data-dt-item-id]');\n                if (elem) {\n                    const id = elem.getAttribute('data-dt-item-id');\n                    const item = this.items.find((_item) => _item.id === id);\n\n                    if (item) {\n                        this.$emit('row-action', { ...item });\n                    }\n                }\n            }\n        },\n\n        /**\n         * @param {KeyboardEvent} _event\n         */\n        onTabletKeyup(_event) {\n            if (isAriaAction(_event)) {\n                this.onTableClick(_event);\n            }\n        },\n\n        /**\n         * @param {Event} _event\n         */\n        onHeaderClick(_event) {\n            let elem = _event.target.closest('th');\n            const column = elem ? this.getColumnByClass(elem.className) : null;\n\n            this.sortByColumn(column, '', true);\n        },\n\n        /**\n         * Triggered on `FPagination`'s `'page-change'` event.\n         *\n         * @param {Object} _data\n         */\n        onPageChange(_data) {\n            this.dPagination = cloneObject(_data.detail);\n        },\n\n        /**\n         * @param {IntersectionObserverEntry} _entry\n         */\n        onEntry(_entry) {\n            this.fetchMore(_entry.isIntersecting);\n        },\n\n        /**\n         * Convert object, where keys are css properties, to string.\n         *\n         * @param {object} _cssObj\n         * @return {string}\n         */\n        obj2css: obj2css,\n    },\n};\n</script>\n\n<style lang=\"scss\">\n@import 'style';\n</style>\n"]}]}
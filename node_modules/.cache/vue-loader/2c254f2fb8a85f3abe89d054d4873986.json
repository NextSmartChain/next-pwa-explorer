{"remainingRequest":"/mnt/websites/ex.nextsmartchain.com/node_modules/vue-loader/lib/index.js??vue-loader-options!/mnt/websites/ex.nextsmartchain.com/src/layouts/FContractDetail.vue?vue&type=script&lang=js&","dependencies":[{"path":"/mnt/websites/ex.nextsmartchain.com/src/layouts/FContractDetail.vue","mtime":1657708591226},{"path":"/mnt/websites/ex.nextsmartchain.com/node_modules/babel-loader/lib/index.js","mtime":1655491285588},{"path":"/mnt/websites/ex.nextsmartchain.com/node_modules/cache-loader/dist/cjs.js","mtime":1655491106804},{"path":"/mnt/websites/ex.nextsmartchain.com/node_modules/vue-loader/lib/index.js","mtime":1657708714280}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CiAgICBpbXBvcnQgRkNhcmQgZnJvbSAiLi4vY29tcG9uZW50cy9jb3JlL0ZDYXJkL0ZDYXJkLnZ1ZSI7CiAgICBpbXBvcnQgRlRhYnMgZnJvbSAiLi4vY29tcG9uZW50cy9jb3JlL0ZUYWJzL0ZUYWJzLnZ1ZSI7CiAgICBpbXBvcnQgRlRhYiBmcm9tICIuLi9jb21wb25lbnRzL2NvcmUvRlRhYnMvRlRhYi52dWUiOwogICAgaW1wb3J0IEZUcmFuc2FjdGlvbkxpc3QgZnJvbSAiLi4vZGF0YS10YWJsZXMvRlRyYW5zYWN0aW9uTGlzdC52dWUiOwogICAgaW1wb3J0IEZFbGxpcHNpcyBmcm9tICIuLi9jb21wb25lbnRzL2NvcmUvRkVsbGlwc2lzL0ZFbGxpcHNpcy52dWUiOwogICAgaW1wb3J0IEZBZGRyZXNzRGV0YWlsIGZyb20gIi4vRkFkZHJlc3NEZXRhaWwudnVlIjsKICAgIGltcG9ydCBGQ29weUJ1dHRvbiBmcm9tICIuLi9jb21wb25lbnRzL2NvcmUvRkNvcHlCdXR0b24vRkNvcHlCdXR0b24udnVlIjsKICAgIGltcG9ydCBGV2luZG93IGZyb20gIi4uL2NvbXBvbmVudHMvY29yZS9GV2luZG93L0ZXaW5kb3cudnVlIjsKICAgIGltcG9ydCBWYWxpZGF0ZUNvbnRyYWN0Rm9ybSBmcm9tICIuLi9mb3Jtcy9WYWxpZGF0ZUNvbnRyYWN0Rm9ybS52dWUiOwogICAgaW1wb3J0IHtmb3JtYXREYXRlfSBmcm9tICIuLi9maWx0ZXJzLmpzIjsKCiAgICBleHBvcnQgZGVmYXVsdCB7CiAgICAgICAgbmFtZTogIkZDb250cmFjdERldGFpbCIsCgogICAgICAgIGNvbXBvbmVudHM6IHtWYWxpZGF0ZUNvbnRyYWN0Rm9ybSwgRldpbmRvdywgRkNvcHlCdXR0b24sIEZFbGxpcHNpcywgRlRyYW5zYWN0aW9uTGlzdCwgRlRhYiwgRlRhYnMsIEZDYXJkfSwKCiAgICAgICAgbWl4aW5zOiBbRkFkZHJlc3NEZXRhaWxdLAoKICAgICAgICBjb21wdXRlZDogewogICAgICAgICAgICBjb250cmFjdCgpIHsKICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLmFjY291bnQgPyB0aGlzLmFjY291bnQuY29udHJhY3QgOiB7fTsKICAgICAgICAgICAgfSwKICAgICAgICB9LAoKICAgICAgICBtZXRob2RzOiB7CiAgICAgICAgICAgIGZvcm1hdEpTT04oX2pzb25TdHIpIHsKICAgICAgICAgICAgICAgIHRyeSB7CiAgICAgICAgICAgICAgICAgICAgY29uc3QganNvbiA9IEpTT04ucGFyc2UoX2pzb25TdHIpOwoKICAgICAgICAgICAgICAgICAgICByZXR1cm4gSlNPTi5zdHJpbmdpZnkoanNvbiwgdW5kZWZpbmVkLCA0KTsKICAgICAgICAgICAgICAgIH0gY2F0Y2ggKF9lKSB7CiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIF9qc29uU3RyOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9LAoKICAgICAgICAgICAgb25WYWxpZGF0ZUNvbnRyYWN0KCkgewogICAgICAgICAgICAgICAgdGhpcy4kcmVmcy52YWxpZGF0ZUNvbnRyYWN0V2luZG93LnNob3coKTsKICAgICAgICAgICAgfSwKCiAgICAgICAgICAgIG9uQ29udHJhY3RWYWxpZGF0ZWQoX2NvbnRyYWN0KSB7CiAgICAgICAgICAgICAgICAvLyB1cGRhdGUgY29udHJhY3QKICAgICAgICAgICAgICAgIHRoaXMuYWNjb3VudC5jb250cmFjdCA9IF9jb250cmFjdDsKCiAgICAgICAgICAgICAgICB0aGlzLiRyZWZzLnZhbGlkYXRlQ29udHJhY3RXaW5kb3cuaGlkZSgnZmFkZS1sZWF2ZS1hY3RpdmUnKTsKICAgICAgICAgICAgfSwKCiAgICAgICAgICAgIGZvcm1hdERhdGU6IGZvcm1hdERhdGUsCiAgICAgICAgfQogICAgfQo="},{"version":3,"sources":["FContractDetail.vue"],"names":[],"mappings":";AAsHA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA","file":"FContractDetail.vue","sourceRoot":"src/layouts","sourcesContent":["<template>\n    <div class=\"f-contract-detail\">\n        <f-card class=\"f-data-layout\">\n            <div class=\"row no-collapse\">\n                <div class=\"col-4 f-row-label\">{{ $t(\"view_contract_detail.creator\") }}</div>\n                <div class=\"col-8\">\n                    <router-link\n                        v-if=\"contract.deployedBy\"\n                        :to=\"{name: 'transaction-detail', params: {id: contract.deployedBy.hash}}\"\n                        :title=\"contract.deployedBy.hash\"\n                    >\n                        <f-ellipsis :text=\"contract.deployedBy.hash\" overflow=\"middle\" />\n                    </router-link>\n                </div>\n            </div>\n            <div class=\"row no-collapse\">\n                <div class=\"col-4 f-row-label\">{{ $t(\"view_contract_detail.name\") }}</div>\n                <div class=\"col-8\">{{ contract.name }}</div>\n            </div>\n            <div class=\"row no-collapse\">\n                <div class=\"col-4 f-row-label\">{{ $t(\"view_contract_detail.version\") }}</div>\n                <div class=\"col-8\">{{ contract.version }}</div>\n            </div>\n            <div class=\"row no-collapse\">\n                <div class=\"col-4 f-row-label\">{{ $t(\"view_contract_detail.compiler\") }}</div>\n                <div class=\"col-8\">{{ contract.compiler }}</div>\n            </div>\n            <div class=\"row no-collapse\">\n                <div class=\"col-4 f-row-label\">{{ $t(\"view_contract_detail.deployed\") }}</div>\n                <div class=\"col-8\">{{ formatDate(timestampToDate(contract.timestamp)) }}</div>\n            </div>\n            <div class=\"row no-collapse\">\n                <div class=\"col-4 f-row-label\">{{ $t(\"view_contract_detail.validated\") }}</div>\n                <div class=\"col-8\">{{ formatDate(timestampToDate(contract.validated)) }}</div>\n            </div>\n            <div class=\"row no-collapse\">\n                <div class=\"col-4 f-row-label\">{{ $t(\"view_contract_detail.support_contact\") }}</div>\n                <div class=\"col-8\">{{ contract.supportContact }}</div>\n            </div>\n<!--            <div v-if=\"!contract.validated\" class=\"row no-collapse\">\n                <div class=\"col-12 align-center\">\n                    <button @click=\"onValidateContract\" class=\"btn large\">\n                        {{ $t('view_contract_detail.validate_contract') }}\n                    </button>\n                </div>\n            </div>-->\n        </f-card>\n\n        <f-tabs aria-label=\"Contract Tabs\">\n            <template #transactions>\n                <h2>\n                    {{ $t(\"view_contract_detail.transactions\") }}\n                    <span class=\"f-records-count\">({{ dRecordsCount }})</span>\n                </h2>\n            </template>\n            <template #abi>\n                <h2>{{ $t(\"view_contract_detail.abi\") }}</h2>\n            </template>\n            <template #source-code>\n                <h2>{{ $t(\"view_contract_detail.source_code\") }}</h2>\n            </template>\n\n            <f-tab title-slot=\"transactions\">\n                <f-transaction-list\n                    :items=\"cTransactionItems\"\n                    :loading=\"cLoading\"\n                    :address-col=\"id\"\n                    @fetch-more=\"onFetchMore\"\n                ></f-transaction-list>\n            </f-tab>\n            <f-tab title-slot=\"abi\" :disabled=\"!contract.abi\">\n                <f-card>\n                    <div class=\"source-code\">\n                        <div>\n                            <pre class=\"break\">{{ formatJSON(contract.abi) }}</pre>\n                        </div>\n                        <f-copy-button\n                            :text=\"contract.abi\"\n                            :tooltip=\"$t('copy_to_clipboard', {what: $t('view_contract_detail.abi')})\"\n                            :popoverText=\"$t('copied_to_clipboard', {what: $t('view_contract_detail.abi')})\"\n                            class=\"btn light large same-size round\"\n                        />\n                    </div>\n                </f-card>\n            </f-tab>\n            <f-tab title-slot=\"source-code\" :disabled=\"!contract.sourceCode\">\n                <f-card>\n                    <div class=\"source-code\">\n                        <div>\n                            <pre>{{ contract.sourceCode }}</pre>\n                        </div>\n                        <f-copy-button\n                            :text=\"contract.sourceCode\"\n                            :tooltip=\"$t('copy_to_clipboard', {what: $t('source_code')})\"\n                            :popoverText=\"$t('copied_to_clipboard', {what: $t('source_code')})\"\n                            class=\"btn light large same-size round\"\n                        />\n                    </div>\n                </f-card>\n            </f-tab>\n        </f-tabs>\n\n        <f-window\n            ref=\"validateContractWindow\"\n            modal\n            style=\"max-width: 680px;\"\n            :title=\"$t('view_contract_detail.validate_contract')\"\n            class=\"double-body-padding\"\n            :z-index=\"14\"\n            animation-in=\"scale-center-enter-active\"\n            animation-out=\"scale-center-leave-active\"\n        >\n            <validate-contract-form :contract-data=\"contract\" @contract-validated=\"onContractValidated\" />\n        </f-window>\n    </div>\n</template>\n\n<script>\n    import FCard from \"../components/core/FCard/FCard.vue\";\n    import FTabs from \"../components/core/FTabs/FTabs.vue\";\n    import FTab from \"../components/core/FTabs/FTab.vue\";\n    import FTransactionList from \"../data-tables/FTransactionList.vue\";\n    import FEllipsis from \"../components/core/FEllipsis/FEllipsis.vue\";\n    import FAddressDetail from \"./FAddressDetail.vue\";\n    import FCopyButton from \"../components/core/FCopyButton/FCopyButton.vue\";\n    import FWindow from \"../components/core/FWindow/FWindow.vue\";\n    import ValidateContractForm from \"../forms/ValidateContractForm.vue\";\n    import {formatDate} from \"../filters.js\";\n\n    export default {\n        name: \"FContractDetail\",\n\n        components: {ValidateContractForm, FWindow, FCopyButton, FEllipsis, FTransactionList, FTab, FTabs, FCard},\n\n        mixins: [FAddressDetail],\n\n        computed: {\n            contract() {\n                return this.account ? this.account.contract : {};\n            },\n        },\n\n        methods: {\n            formatJSON(_jsonStr) {\n                try {\n                    const json = JSON.parse(_jsonStr);\n\n                    return JSON.stringify(json, undefined, 4);\n                } catch (_e) {\n                    return _jsonStr;\n                }\n            },\n\n            onValidateContract() {\n                this.$refs.validateContractWindow.show();\n            },\n\n            onContractValidated(_contract) {\n                // update contract\n                this.account.contract = _contract;\n\n                this.$refs.validateContractWindow.hide('fade-leave-active');\n            },\n\n            formatDate: formatDate,\n        }\n    }\n</script>\n\n<style lang=\"scss\">\n    .f-contract-detail {\n        .source-code {\n            position: relative;\n            width: 100%;\n\n            > div {\n                width: 100%;\n                overflow-x: auto;\n            }\n\n            pre {\n                width: 100%;\n                min-width: 800px;\n                padding: 16px;\n                background-color: #f6f6f6;\n                white-space: pre-wrap;\n\n                &.break {\n                    word-wrap: break-word;\n                    /*white-space: pre-line;*/\n                }\n            }\n\n            .f-copy-button {\n                position: absolute;\n                top: 8px;\n                right: 8px;\n            }\n        }\n    }\n</style>\n"]}]}
{"remainingRequest":"/mnt/websites/ex.nextsmartchain.com/node_modules/vue-loader/lib/index.js??vue-loader-options!/mnt/websites/ex.nextsmartchain.com/src/data-tables/AssetList.vue?vue&type=script&lang=js&","dependencies":[{"path":"/mnt/websites/ex.nextsmartchain.com/src/data-tables/AssetList.vue","mtime":1657708591718},{"path":"/mnt/websites/ex.nextsmartchain.com/node_modules/babel-loader/lib/index.js","mtime":1655491285588},{"path":"/mnt/websites/ex.nextsmartchain.com/node_modules/cache-loader/dist/cjs.js","mtime":1655491106804},{"path":"/mnt/websites/ex.nextsmartchain.com/node_modules/vue-loader/lib/index.js","mtime":1657708714280}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CmltcG9ydCBGRGF0YVRhYmxlIGZyb20gJy4uL2NvbXBvbmVudHMvY29yZS9GRGF0YVRhYmxlL0ZEYXRhVGFibGUudnVlJzsKaW1wb3J0IEZDcnlwdG9TeW1ib2wgZnJvbSAnLi4vY29tcG9uZW50cy9jb3JlL0ZDcnlwdG9TeW1ib2wvRkNyeXB0b1N5bWJvbC52dWUnOwppbXBvcnQgeyBzdHJpbmdTb3J0IH0gZnJvbSAnLi4vdXRpbHMvYXJyYXktc29ydGluZy5qcyc7CmltcG9ydCB7IGZvcm1hdE51bWJlckJ5TG9jYWxlIH0gZnJvbSAnLi4vZmlsdGVycy5qcyc7CmltcG9ydCB7TUFYX1RPS0VOX0RFQ0lNQUxTX0lOX1RBQkxFU30gZnJvbSAiLi4vcGx1Z2lucy9kZWZpL2RlZmkuanMiOwoKZXhwb3J0IGRlZmF1bHQgewogICAgbmFtZTogJ0Fzc2V0TGlzdCcsCgogICAgY29tcG9uZW50czogeyBGQ3J5cHRvU3ltYm9sLCBGRGF0YVRhYmxlIH0sCgogICAgZGF0YSgpIHsKICAgICAgICByZXR1cm4gewogICAgICAgICAgICAvKiogQHR5cGUge1tEZWZpVG9rZW5dfSAqLwogICAgICAgICAgICB0b2tlbnM6IFtdLAogICAgICAgICAgICAvKiogQHR5cGUge0RlRml9ICovCiAgICAgICAgICAgIC8vIGRlZmk6IHRoaXMuJGRlZmksCiAgICAgICAgICAgIGNvbHVtbnM6IFsKICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgICBuYW1lOiAnYXNzZXQnLAogICAgICAgICAgICAgICAgICAgIGxhYmVsOiB0aGlzLiR0KCd2aWV3X2Fzc2V0cy5hc3NldCcpLAogICAgICAgICAgICAgICAgICAgIHNvcnRGdW5jOiAoX2l0ZW1Qcm9wLCBfZGlyZWN0aW9uID0gJ2FzYycpID0+IHsKICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIChfYSwgX2IpID0+IHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGEgPSBfYS5zeW1ib2w7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBiID0gX2Iuc3ltYm9sOwoKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiAoX2RpcmVjdGlvbiA9PT0gJ2Rlc2MnID8gLTEgOiAxKSAqIHN0cmluZ1NvcnQoYSwgYik7CiAgICAgICAgICAgICAgICAgICAgICAgIH07CiAgICAgICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgICAgICBzb3J0RGlyOiAnZGVzYycsCiAgICAgICAgICAgICAgICAgICAgd2lkdGg6ICcxNDBweCcsCiAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICAgIG5hbWU6ICduYW1lJywKICAgICAgICAgICAgICAgICAgICBsYWJlbDogdGhpcy4kdCgndmlld19hc3NldHMubmFtZScpLAogICAgICAgICAgICAgICAgICAgIC8vIGNzc0NsYXNzOiAnYWxpZ24tY2VudGVyJywKICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgbmFtZTogJ2FkZHJlc3MnLAogICAgICAgICAgICAgICAgICAgIGxhYmVsOiB0aGlzLiR0KCd2aWV3X2Fzc2V0cy5oYXNoJyksCiAgICAgICAgICAgICAgICAgICAgLy8gY3NzQ2xhc3M6ICdhbGlnbi1jZW50ZXInLAogICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgICBuYW1lOiAncHJpY2UnLAogICAgICAgICAgICAgICAgICAgIGxhYmVsOiB0aGlzLiR0KCd2aWV3X2Fzc2V0cy5wcmljZScpLAogICAgICAgICAgICAgICAgICAgIGZvcm1hdHRlcjogKF92YWx1ZSwgX2l0ZW0pID0+IHsKICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuICckJyArIGZvcm1hdE51bWJlckJ5TG9jYWxlKAogICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy4kZGVmaS5mcm9tVG9rZW5WYWx1ZShfdmFsdWUsIF9pdGVtKSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuJGRlZmkuZ2V0VG9rZW5EZWNpbWFscyhfaXRlbSwgTUFYX1RPS0VOX0RFQ0lNQUxTX0lOX1RBQkxFUykgKyAxCiAgICAgICAgICAgICAgICAgICAgICAgICk7CiAgICAgICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgbmFtZTogJ3RvdGFsU3VwcGx5JywKICAgICAgICAgICAgICAgICAgICBsYWJlbDogdGhpcy4kdCgndmlld19hc3NldHMudG90YWxfc3VwcGx5JyksCiAgICAgICAgICAgICAgICAgICAgZm9ybWF0dGVyOiAoX3ZhbHVlLCBfaXRlbSkgPT4gewogICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZm9ybWF0TnVtYmVyQnlMb2NhbGUoCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLiRkZWZpLmZyb21Ub2tlblZhbHVlKF92YWx1ZSwgX2l0ZW0pLnRvRml4ZWQoMCksIDAKICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIHRoaXMuJGRlZmkuZ2V0VG9rZW5EZWNpbWFscyhfaXRlbSwgTUFYX1RPS0VOX0RFQ0lNQUxTX0lOX1RBQkxFUykKICAgICAgICAgICAgICAgICAgICAgICAgKTsKICAgICAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgICBuYW1lOiAnbWFya2V0Q2FwJywKICAgICAgICAgICAgICAgICAgICBsYWJlbDogdGhpcy4kdCgndmlld19hc3NldHMubWFya2V0X2NhcCcpLAogICAgICAgICAgICAgICAgICAgIGl0ZW1Qcm9wOiAndG90YWxTdXBwbHknLAogICAgICAgICAgICAgICAgICAgIGZvcm1hdHRlcjogKF92YWx1ZSwgX2l0ZW0pID0+IHsKICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgdmFsdWUgPSB0aGlzLiRkZWZpLmZyb21Ub2tlblZhbHVlKF92YWx1ZSwgX2l0ZW0pOwogICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBwcmljZSA9IHRoaXMuJGRlZmkuZnJvbVRva2VuVmFsdWUoX2l0ZW0ucHJpY2UsIF9pdGVtKTsKCiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiAnJCcgKyBmb3JtYXROdW1iZXJCeUxvY2FsZSgodmFsdWUgKiBwcmljZSkudG9GaXhlZCgwKSwgMCk7CiAgICAgICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgIH0sCi8qCiAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgbmFtZTogJ2RlY2ltYWxzJywKICAgICAgICAgICAgICAgICAgICBsYWJlbDogJ0RlY2ltYWxzJywKICAgICAgICAgICAgICAgIH0sCiovCiAgICAgICAgICAgIF0sCiAgICAgICAgfTsKICAgIH0sCgogICAgY3JlYXRlZCgpIHsKICAgICAgICB0aGlzLmluaXQoKTsKICAgIH0sCgogICAgbWV0aG9kczogewogICAgICAgIGFzeW5jIGluaXQoKSB7CiAgICAgICAgICAgIGNvbnN0IHsgJGRlZmkgfSA9IHRoaXM7CiAgICAgICAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IFByb21pc2UuYWxsKFsKICAgICAgICAgICAgICAgICRkZWZpLmZldGNoVG9rZW5zKCksCiAgICAgICAgICAgICAgICAkZGVmaS5pbml0KCksCiAgICAgICAgICAgIF0pOwoKICAgICAgICAgICAgdGhpcy50b2tlbnMgPSByZXN1bHRbMF0uZmlsdGVyKChfaXRlbSkgPT4gX2l0ZW0uaXNBY3RpdmUgJiYgX2l0ZW0uc3ltYm9sICE9PSAnTkVYVCcpOwoKICAgICAgICAgICAgdGhpcy4kZW1pdCgncmVjb3Jkcy1jb3VudCcsIHRoaXMudG9rZW5zLmxlbmd0aCk7CiAgICAgICAgfSwKICAgIH0sCn07Cg=="},{"version":3,"sources":["AssetList.vue"],"names":[],"mappings":";AAwDA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA","file":"AssetList.vue","sourceRoot":"src/data-tables","sourcesContent":["<template>\n    <div class=\"address-asset-list-dt\">\n        <f-data-table\n            :columns=\"columns\"\n            :items=\"tokens\"\n            first-m-v-column-width=\"6\"\n            class=\"f-data-table-body-bg-color\"\n        >\n            <template v-slot:column-asset=\"{ value, item, column }\">\n                <div v-if=\"column\" class=\"row no-collapse no-vert-col-padding\">\n                    <div class=\"col-6 f-row-label\">{{ column.label }}</div>\n                    <div class=\"col break-word\">\n                        <f-crypto-symbol :token=\"item\" />\n                    </div>\n                </div>\n                <template v-else>\n                    <f-crypto-symbol :token=\"item\" />\n                </template>\n            </template>\n\n            <template v-slot:column-name=\"{ value, item, column }\">\n                <div v-if=\"column\" class=\"row no-collapse no-vert-col-padding\">\n                    <div class=\"col-5 f-row-label\">{{ column.label }}</div>\n                    <div class=\"col\">\n                        <router-link :to=\"{name: 'asset-detail', params: {address: item.address}}\" :title=\"value\">\n                            {{ value }}\n                        </router-link>\n                    </div>\n                </div>\n                <template v-else>\n                    <router-link :to=\"{name: 'asset-detail', params: {address: item.address}}\" :title=\"value\">\n                        {{ value }}\n                    </router-link>\n                </template>\n            </template>\n\n            <template v-slot:column-address=\"{ value, item, column }\">\n                <div v-if=\"column\" class=\"row no-collapse no-vert-col-padding\">\n                    <div class=\"col-5 f-row-label\">{{ column.label }}</div>\n                    <div class=\"col\">\n                        <router-link :to=\"{name: 'asset-detail', params: {address: item.address}}\" :title=\"value\">\n                            {{ item.address | formatHash }}\n                        </router-link>\n                    </div>\n                </div>\n                <template v-else>\n                    <router-link :to=\"{name: 'asset-detail', params: {address: item.address}}\" :title=\"value\">\n                        {{ item.address | formatHash }}\n                    </router-link>\n                </template>\n            </template>\n        </f-data-table>\n    </div>\n</template>\n\n<script>\nimport FDataTable from '../components/core/FDataTable/FDataTable.vue';\nimport FCryptoSymbol from '../components/core/FCryptoSymbol/FCryptoSymbol.vue';\nimport { stringSort } from '../utils/array-sorting.js';\nimport { formatNumberByLocale } from '../filters.js';\nimport {MAX_TOKEN_DECIMALS_IN_TABLES} from \"../plugins/defi/defi.js\";\n\nexport default {\n    name: 'AssetList',\n\n    components: { FCryptoSymbol, FDataTable },\n\n    data() {\n        return {\n            /** @type {[DefiToken]} */\n            tokens: [],\n            /** @type {DeFi} */\n            // defi: this.$defi,\n            columns: [\n                {\n                    name: 'asset',\n                    label: this.$t('view_assets.asset'),\n                    sortFunc: (_itemProp, _direction = 'asc') => {\n                        return (_a, _b) => {\n                            const a = _a.symbol;\n                            const b = _b.symbol;\n\n                            return (_direction === 'desc' ? -1 : 1) * stringSort(a, b);\n                        };\n                    },\n                    sortDir: 'desc',\n                    width: '140px',\n                },\n                {\n                    name: 'name',\n                    label: this.$t('view_assets.name'),\n                    // cssClass: 'align-center',\n                },\n                {\n                    name: 'address',\n                    label: this.$t('view_assets.hash'),\n                    // cssClass: 'align-center',\n                },\n                {\n                    name: 'price',\n                    label: this.$t('view_assets.price'),\n                    formatter: (_value, _item) => {\n                        return '$' + formatNumberByLocale(\n                            this.$defi.fromTokenValue(_value, _item),\n                            this.$defi.getTokenDecimals(_item, MAX_TOKEN_DECIMALS_IN_TABLES) + 1\n                        );\n                    },\n                },\n                {\n                    name: 'totalSupply',\n                    label: this.$t('view_assets.total_supply'),\n                    formatter: (_value, _item) => {\n                        return formatNumberByLocale(\n                            this.$defi.fromTokenValue(_value, _item).toFixed(0), 0\n                            // this.$defi.getTokenDecimals(_item, MAX_TOKEN_DECIMALS_IN_TABLES)\n                        );\n                    },\n                },\n                {\n                    name: 'marketCap',\n                    label: this.$t('view_assets.market_cap'),\n                    itemProp: 'totalSupply',\n                    formatter: (_value, _item) => {\n                        const value = this.$defi.fromTokenValue(_value, _item);\n                        const price = this.$defi.fromTokenValue(_item.price, _item);\n\n                        return '$' + formatNumberByLocale((value * price).toFixed(0), 0);\n                    },\n                },\n/*\n                {\n                    name: 'decimals',\n                    label: 'Decimals',\n                },\n*/\n            ],\n        };\n    },\n\n    created() {\n        this.init();\n    },\n\n    methods: {\n        async init() {\n            const { $defi } = this;\n            const result = await Promise.all([\n                $defi.fetchTokens(),\n                $defi.init(),\n            ]);\n\n            this.tokens = result[0].filter((_item) => _item.isActive && _item.symbol !== 'NEXT');\n\n            this.$emit('records-count', this.tokens.length);\n        },\n    },\n};\n</script>\n"]}]}
{"remainingRequest":"/mnt/websites/ex.nextsmartchain.com/node_modules/vue-loader/lib/index.js??vue-loader-options!/mnt/websites/ex.nextsmartchain.com/src/views/Home.vue?vue&type=script&lang=js&","dependencies":[{"path":"/mnt/websites/ex.nextsmartchain.com/src/views/Home.vue","mtime":1657708589734},{"path":"/mnt/websites/ex.nextsmartchain.com/node_modules/babel-loader/lib/index.js","mtime":1655491285588},{"path":"/mnt/websites/ex.nextsmartchain.com/node_modules/cache-loader/dist/cjs.js","mtime":1655491106804},{"path":"/mnt/websites/ex.nextsmartchain.com/node_modules/vue-loader/lib/index.js","mtime":1657708714280}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CiAgICBpbXBvcnQgRkNhcmQgZnJvbSAiLi4vY29tcG9uZW50cy9jb3JlL0ZDYXJkL0ZDYXJkLnZ1ZSI7CiAgICBpbXBvcnQgRlNlYXJjaEJveCBmcm9tICIuLi9jb21wb25lbnRzL0ZTZWFyY2hCb3gudnVlIjsKICAgIGltcG9ydCBncWwgZnJvbSAnZ3JhcGhxbC10YWcnOwogICAgaW1wb3J0IEhvbWVCbG9ja0xpc3QgZnJvbSAiQC9kYXRhLXRhYmxlcy9Ib21lQmxvY2tMaXN0LnZ1ZSI7CiAgICBpbXBvcnQgSG9tZVRyYW5zYWN0aW9uTGlzdCBmcm9tICJAL2RhdGEtdGFibGVzL0hvbWVUcmFuc2FjdGlvbkxpc3QudnVlIjsKICAgIGltcG9ydCBBbmltYXRlZE51bWJlciBmcm9tICJhbmltYXRlZC1udW1iZXItdnVlIjsKICAgIGltcG9ydCB7cG9sbGluZ01peGlufSBmcm9tICJAL21peGlucy9wb2xsaW5nLmpzIjsKICAgIGltcG9ydCBUcmFuc2FjdGlvblZvbHVtZXMgZnJvbSAiQC9jb21wb25lbnRzL1RyYW5zYWN0aW9uVm9sdW1lcy52dWUiOwogICAgaW1wb3J0IEZMaXN0Ym94IGZyb20gIkAvY29tcG9uZW50cy9jb3JlL0ZMaXN0Ym94L0ZMaXN0Ym94LnZ1ZSI7CiAgICBpbXBvcnQge2Zvcm1hdE51bWJlckJ5TG9jYWxlfSBmcm9tICJAL2ZpbHRlcnMuanMiOwogICAgLy9pbXBvcnQgQnVybmVkRlRNIGZyb20gIkAvY29tcG9uZW50cy9CdXJuZWRGVE0udnVlIjsKCiAgICBleHBvcnQgZGVmYXVsdCB7CiAgICAgICAgbWl4aW5zOiBbcG9sbGluZ01peGluXSwKCiAgICAgICAgY29tcG9uZW50czogewogICAgICAgICAgICAvL0J1cm5lZEZUTSwKICAgICAgICAgICAgRkxpc3Rib3gsCiAgICAgICAgICAgIFRyYW5zYWN0aW9uVm9sdW1lcywKICAgICAgICAgICAgSG9tZVRyYW5zYWN0aW9uTGlzdCwKICAgICAgICAgICAgSG9tZUJsb2NrTGlzdCwKICAgICAgICAgICAgRkNhcmQsCiAgICAgICAgICAgIEZTZWFyY2hCb3gsCiAgICAgICAgICAgIEFuaW1hdGVkTnVtYmVyCiAgICAgICAgfSwKCiAgICAgICAgZGF0YSgpIHsKICAgICAgICAgICAgcmV0dXJuIHsKICAgICAgICAgICAgICAgIGJsb2Nrc0RhdGE6IFtdLAogICAgICAgICAgICAgICAgdHhWb2x1bWVzUmVzb2x1dGlvbjogJzFtJywKICAgICAgICAgICAgICAgIHR4Vm9sdW1lc1Jlc29sdXRpb25zOiBbCiAgICAgICAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICAgICAgICBsYWJlbDogJzIgV2Vla3MnLAogICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZTogJzE0ZCcsCiAgICAgICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgICAgIGxhYmVsOiAnMSBNb250aCcsCiAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlOiAnMW0nLAogICAgICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICAgICAgICBsYWJlbDogJzMgTW9udGhzJywKICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWU6ICczbScsCiAgICAgICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgIF0sCiAgICAgICAgICAgICAgICBudW1BbmltYXRpb25EdXJhdGlvbjogNzUwLAogICAgICAgICAgICAgICAgY2hhaW5TdGF0ZTogewogICAgICAgICAgICAgICAgICAgIGJsb2NrczogMCwKICAgICAgICAgICAgICAgICAgICB2YWxpZGF0b3JzOiAwLAogICAgICAgICAgICAgICAgICAgIGFjY291bnRzOiAwLAogICAgICAgICAgICAgICAgICAgIHRyYW5zYWN0aW9uczogMCwKICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgIH0KICAgICAgICB9LAoKICAgICAgICBjcmVhdGVkKCkgewogICAgICAgICAgICB0aGlzLnVwZGF0ZUNoYWluU3RhdGUoKTsKICAgICAgICB9LAoKICAgICAgICBtb3VudGVkKCkgewogICAgICAgICAgICB0aGlzLl9wb2xsaW5nLnN0YXJ0KAogICAgICAgICAgICAgICAgJ3VwZGF0ZS1uZXQtc3RhdGUnLAogICAgICAgICAgICAgICAgKCkgPT4gewogICAgICAgICAgICAgICAgICAgIHRoaXMudXBkYXRlQ2hhaW5TdGF0ZSgpOwogICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgIDMzMDAKICAgICAgICAgICAgKTsKICAgICAgICB9LAoKICAgICAgICBtZXRob2RzOiB7CiAgICAgICAgICAgIGFzeW5jIHVwZGF0ZUNoYWluU3RhdGUoKSB7CiAgICAgICAgICAgICAgICB0aGlzLmNoYWluU3RhdGUgPSB7Li4uYXdhaXQgdGhpcy5mZXRjaFN0YXRlKCl9OwoKICAgICAgICAgICAgfSwKCiAgICAgICAgICAgIC8qKgogICAgICAgICAgICAgKiBAcmV0dXJucyB7UHJvbWlzZTxPYmplY3Q+fQogICAgICAgICAgICAgKi8KICAgICAgICAgICAgYXN5bmMgZmV0Y2hTdGF0ZSgpIHsKICAgICAgICAgICAgICAgIGNvbnN0IGRhdGEgPSBhd2FpdCB0aGlzLiRhcG9sbG8ucXVlcnkoewogICAgICAgICAgICAgICAgICAgIHF1ZXJ5OiBncWxgCiAgICAgICAgICAgICAgICAgICAgICAgIHF1ZXJ5IFN0YXRlIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0YXRlIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBibG9ja3MKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0cmFuc2FjdGlvbnMKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhY2NvdW50cwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhbGlkYXRvcnMKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZmNMb2NraW5nRW5hYmxlZAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNlYWxlZEVwb2NoIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWQKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdG90YWxTdXBwbHkKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYmFzZVJld2FyZFBlclNlY29uZAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIGAsCiAgICAgICAgICAgICAgICAgICAgZmV0Y2hQb2xpY3k6ICduZXR3b3JrLW9ubHknLAogICAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAgICAgcmV0dXJuIGRhdGEuZGF0YS5zdGF0ZSB8fCB7fTsKICAgICAgICAgICAgfSwKCiAgICAgICAgICAgIGZvcm1hdE51bShfbnVtKSB7CiAgICAgICAgICAgICAgICByZXR1cm4gZm9ybWF0TnVtYmVyQnlMb2NhbGUocGFyc2VJbnQoX251bSksIDApOwogICAgICAgICAgICB9CiAgICAgICAgfQogICAgfQo="},{"version":3,"sources":["Home.vue"],"names":[],"mappings":";AA6GA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA","file":"Home.vue","sourceRoot":"src/views","sourcesContent":["<template>\n    <div class=\"view-home narrow-container\">\n        <div class=\"row\">\n            <div class=\"col-12 \">\n                <f-search-box></f-search-box>\n            </div>\n        </div>\n\n        <div class=\"row row-2-cols-lg no-collapse equal-height\">\n            <div class=\"col\">\n                <router-link :to=\"{name: 'blocks'}\" class=\"no-effect\">\n                    <f-card class=\"home-block\" hover>\n                        <h2 class=\"h3\">{{ $t('view_home.blocks') }} <icon data=\"@/assets/svg/angle-right.svg\" color=\"#999\"></icon></h2>\n                        <div class=\"num\">\n                            <animated-number\n                                :value=\"chainState.blocks | formatHexToInt\"\n                                :formatValue=\"formatNum\"\n                                :duration=\"numAnimationDuration\"\n                            />\n                        </div>\n                    </f-card>\n                </router-link>\n            </div>\n            <div class=\"col\">\n                <router-link :to=\"{name: 'staking'}\" class=\"no-effect\">\n                    <f-card class=\"home-block\" hover>\n                        <h2 class=\"h3\">{{ $t('view_home.validators') }} <icon data=\"@/assets/svg/angle-right.svg\" color=\"#999\"></icon></h2>\n                        <div class=\"num\">\n                            <animated-number\n                                :value=\"chainState.validators | formatHexToInt\"\n                                :formatValue=\"formatNum\"\n                                :duration=\"numAnimationDuration\"\n                            />\n                        </div>\n                    </f-card>\n                </router-link>\n            </div>\n            <div class=\"col\">\n                <f-card class=\"home-block\">\n                    <h2 class=\"h3\">{{ $t('view_home.accounts') }}</h2>\n                    <div class=\"num\">\n                        <animated-number\n                            :value=\"chainState.accounts | formatHexToInt\"\n                            :formatValue=\"formatNum\"\n                            :duration=\"numAnimationDuration\"\n                        />\n                    </div>\n                </f-card>\n            </div>\n            <div class=\"col\">\n                <router-link :to=\"{name: 'transactions'}\" class=\"no-effect\">\n                    <f-card class=\"home-block\" hover>\n                        <h2 class=\"h3\">{{ $t('view_home.transactions') }} <icon data=\"@/assets/svg/angle-right.svg\" color=\"#999\"></icon></h2>\n                        <div class=\"num\">\n                            <animated-number\n                                :value=\"chainState.transactions | formatHexToInt\"\n                                :formatValue=\"formatNum\"\n                                :duration=\"numAnimationDuration\"\n                            />\n                        </div>\n                    </f-card>\n                </router-link>\n            </div>\n        </div>\n        <div class=\"row row-2-cols-lg equal-height mat-5\">\n            <div class=\"col\">\n                <f-card class=\"half-padding\">\n                    <h2 class=\"h3\">Latest Blocks</h2>\n                    <home-block-list :items=\"blocksData\" :hidden-columns=\"['time', 'fee']\" :items-per-page=\"10\" class=\"home-table\" />\n                    <router-link :to=\"{name: 'blocks'}\" class=\"btn secondary\" style=\"width: 100%;\">\n                        View all blocks\n                    </router-link>\n                </f-card>\n            </div>\n            <div class=\"col\">\n                <f-card class=\"half-padding\">\n                    <h2 class=\"h3\">Latest Transactions</h2>\n                    <home-transaction-list :items=\"blocksData\" :hidden-columns=\"['gasUsed']\" :items-per-page=\"5\" class=\"home-table\" />\n                    <router-link :to=\"{name: 'transactions'}\" class=\"btn secondary\" style=\"width: 100%;\">\n                        View all transactions\n                    </router-link>\n                </f-card>\n            </div>\n        </div>\n        <div class=\"row equal-height mat-5\">\n            <div class=\"col\">\n                <f-card class=\"half-padding\">\n                    <div class=\"txvolumes_label\">\n                        <h2 class=\"h3\" id=\"txv\">Daily Transactions</h2>\n                        <f-listbox v-model=\"txVolumesResolution\" :focus-item-on-focus=\"true\" :data=\"txVolumesResolutions\" labeled-by=\"txv\" horizontal />\n                    </div>\n                    <transaction-volumes :resolution=\"txVolumesResolution\" />\n                </f-card>\n            </div>\n        </div>\n        <!--\n        <div class=\"row mat-5\">\n            <div class=\"col\">\n                <f-card class=\"half-padding\">\n                    <h2 class=\"h3\">Total NEXT Burned</h2>\n                    <BurnedFTM />\n                </f-card>\n            </div>\n        </div>\n        -->\n    </div>\n</template>\n\n<script>\n    import FCard from \"../components/core/FCard/FCard.vue\";\n    import FSearchBox from \"../components/FSearchBox.vue\";\n    import gql from 'graphql-tag';\n    import HomeBlockList from \"@/data-tables/HomeBlockList.vue\";\n    import HomeTransactionList from \"@/data-tables/HomeTransactionList.vue\";\n    import AnimatedNumber from \"animated-number-vue\";\n    import {pollingMixin} from \"@/mixins/polling.js\";\n    import TransactionVolumes from \"@/components/TransactionVolumes.vue\";\n    import FListbox from \"@/components/core/FListbox/FListbox.vue\";\n    import {formatNumberByLocale} from \"@/filters.js\";\n    //import BurnedFTM from \"@/components/BurnedFTM.vue\";\n\n    export default {\n        mixins: [pollingMixin],\n\n        components: {\n            //BurnedFTM,\n            FListbox,\n            TransactionVolumes,\n            HomeTransactionList,\n            HomeBlockList,\n            FCard,\n            FSearchBox,\n            AnimatedNumber\n        },\n\n        data() {\n            return {\n                blocksData: [],\n                txVolumesResolution: '1m',\n                txVolumesResolutions: [\n                    {\n                        label: '2 Weeks',\n                        value: '14d',\n                    },\n                    {\n                        label: '1 Month',\n                        value: '1m',\n                    },\n                    {\n                        label: '3 Months',\n                        value: '3m',\n                    },\n                ],\n                numAnimationDuration: 750,\n                chainState: {\n                    blocks: 0,\n                    validators: 0,\n                    accounts: 0,\n                    transactions: 0,\n                },\n            }\n        },\n\n        created() {\n            this.updateChainState();\n        },\n\n        mounted() {\n            this._polling.start(\n                'update-net-state',\n                () => {\n                    this.updateChainState();\n                },\n                3300\n            );\n        },\n\n        methods: {\n            async updateChainState() {\n                this.chainState = {...await this.fetchState()};\n\n            },\n\n            /**\n             * @returns {Promise<Object>}\n             */\n            async fetchState() {\n                const data = await this.$apollo.query({\n                    query: gql`\n                        query State {\n                            state {\n                                blocks\n                                transactions\n                                accounts\n                                validators\n                                sfcLockingEnabled\n                                sealedEpoch {\n                                    id\n                                    totalSupply\n                                    baseRewardPerSecond\n                                }\n                            }\n                        }\n                    `,\n                    fetchPolicy: 'network-only',\n                });\n\n                return data.data.state || {};\n            },\n\n            formatNum(_num) {\n                return formatNumberByLocale(parseInt(_num), 0);\n            }\n        }\n    }\n</script>\n\n<style lang=\"scss\">\n    .view-home {\n        .f-search-box {\n            width: 100%;\n            padding: 8px 0 40px 0;\n            //padding: 64px 0;\n        }\n\n        .home-block {\n            --f-card-padding: 10px;\n            display: flex;\n            flex-direction: column;\n            align-items: center;\n            align-content: center;\n            justify-content: center;\n\n            min-height: 195px;\n\n            h2 {\n                text-align: center;\n                //margin-top: 16px;\n                margin-bottom: 4px;\n            }\n\n            .num {\n                text-align: center;\n                font-weight: bold;\n                font-size: 38px;\n            }\n        }\n\n        .home-table {\n            margin-bottom: 16px;\n            height: 300px;\n        }\n\n        .txvolumes_label {\n            display: flex;\n            flex-wrap: wrap;\n            //gap: 16px;\n            align-items: center;\n            margin-bottom: 4px;\n\n            h2 {\n                margin-bottom: 0;\n                padding-inline-end: 16px;\n            }\n        }\n    }\n\n    @include media-max($bp-menu) {\n        .view-home {\n            .f-search-box {\n                padding: 32px 0;\n            }\n        }\n    }\n\n    @include media-max($bp-small) {\n        .view-home {\n            .home-block {\n                min-height: 136px;\n\n                h2 {\n                    font-size: $fs16;\n                }\n\n                .num {\n                    font-size: 28px;\n                }\n            }\n\n            .txvolumes_label {\n                //font-size: 14px;\n                h2 {\n                    margin-bottom: 8px;\n                }\n            }\n        }\n    }\n</style>\n"]}]}
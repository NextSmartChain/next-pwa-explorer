{"remainingRequest":"/mnt/websites/ex.nextsmartchain.com/node_modules/vue-loader/lib/index.js??vue-loader-options!/mnt/websites/ex.nextsmartchain.com/src/components/core/FListbox/FListbox.vue?vue&type=script&lang=js&","dependencies":[{"path":"/mnt/websites/ex.nextsmartchain.com/src/components/core/FListbox/FListbox.vue","mtime":1657708592494},{"path":"/mnt/websites/ex.nextsmartchain.com/node_modules/babel-loader/lib/index.js","mtime":1655491285588},{"path":"/mnt/websites/ex.nextsmartchain.com/node_modules/cache-loader/dist/cjs.js","mtime":1655491106804},{"path":"/mnt/websites/ex.nextsmartchain.com/node_modules/vue-loader/lib/index.js","mtime":1657708714280}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CmltcG9ydCB7IGhlbHBlcnNNaXhpbiB9IGZyb20gJy4uLy4uLy4uL21peGlucy9oZWxwZXJzLmpzJzsKaW1wb3J0IHsgZm9ybUlucHV0TWl4aW4gfSBmcm9tICcuLi8uLi8uLi9taXhpbnMvZm9ybS1pbnB1dC5qcyc7CmltcG9ydCB7IGNsb25lT2JqZWN0IH0gZnJvbSAnLi4vLi4vLi4vdXRpbHMnOwppbXBvcnQgeyBpc0tleSwga2V5Ym9hcmROYXZpZ2F0aW9uIH0gZnJvbSAnLi4vLi4vLi4vdXRpbHMvYXJpYS5qcyc7CmltcG9ydCB7IHNlbGVjdE1peGluIH0gZnJvbSAnLi4vLi4vLi4vbWl4aW5zL3NlbGVjdC5qcyc7CmltcG9ydCBGTGFiZWwgZnJvbSAnLi4vRkxhYmVsL0ZMYWJlbC52dWUnOwoKLyoqCiAqIEZMaXN0Ym94IGl0ZW0uCiAqIEB0eXBlZGVmIHtPYmplY3R9IEZMaXN0Ym94SXRlbQogKiBAcHJvcGVydHkge3N0cmluZ30gW3ZhbHVlXSBTcGVjaWZpZXMgdGhlIHZhbHVlIG9mIGxpc3Rib3ggaXRlbQogKiBAcHJvcGVydHkge3N0cmluZ30gW2xhYmVsXSBTcGVjaWZpZXMgYSBsYWJlbCBmb3IgYW4gaXRlbQogKiBAcHJvcGVydHkge2Jvb2xlYW59IFtkaXNhYmxlZF0gU3BlY2lmaWVzIHRoYXQgYW4gaXRlbSBzaG91bGQgYmUgZGlzYWJsZWQKICogQHByb3BlcnR5IHtib29sZWFufSBbc2VsZWN0ZWRdIFNwZWNpZmllcyB0aGF0IGFuIGl0ZW0gc2hvdWxkIGJlIHByZS1zZWxlY3RlZAogKi8KCi8qKgogKiBMaXN0Ym94IGNvbXBvbmVudCBjcmVhdGVkIGFjY29yZGluZyB0byBXQUktQVJJQSBydWxlcyBhbmQgcHJhY3RpY2VzLgogKgogKiBAbWl4ZXMgc2VsZWN0TWl4aW4KICovCmV4cG9ydCBkZWZhdWx0IHsKICAgIG5hbWU6ICdGTGlzdGJveCcsCgogICAgaW5oZXJpdEF0dHJzOiBmYWxzZSwKCiAgICBjb21wb25lbnRzOiB7IEZMYWJlbCB9LAoKICAgIG1peGluczogW3NlbGVjdE1peGluLCBmb3JtSW5wdXRNaXhpbiwgaGVscGVyc01peGluXSwKCiAgICBtb2RlbDogewogICAgICAgIHByb3A6ICd2YWx1ZScsCiAgICAgICAgZXZlbnQ6ICdjaGFuZ2UnLAogICAgfSwKCiAgICBwcm9wczogewogICAgICAgIC8qKgogICAgICAgICAqIExpc3Rib3gncyBpdGVtcwogICAgICAgICAqIEB0eXBlIHtGTGlzdGJveEl0ZW1bXX0KICAgICAgICAgKi8KICAgICAgICBkYXRhOiB7CiAgICAgICAgICAgIHR5cGU6IEFycmF5LAogICAgICAgICAgICBkZWZhdWx0KCkgewogICAgICAgICAgICAgICAgcmV0dXJuIFtdOwogICAgICAgICAgICB9LAogICAgICAgIH0sCiAgICAgICAgLyoqIElmIGB0cnVlYCwgYGNvbXBvbmVudC1jaGFuZ2VgIGV2ZW50IHdpbGwgYmUgZmlyZWQgcmlnaHQgb24gaXRlbSBmb2N1cyAoa2V5Ym9hcmQgbW92ZW1lbnQsIGNsaWNrKSAqLwogICAgICAgIHNlbGVjdEltbWVkaWF0ZWx5OiB7CiAgICAgICAgICAgIHR5cGU6IEJvb2xlYW4sCiAgICAgICAgICAgIGRlZmF1bHQ6IGZhbHNlLAogICAgICAgIH0sCiAgICAgICAgLyoqIElmIGB0cnVlYCwgZmlyc3QgZm9jdXNhYmxlIGl0ZW0gd2lsbCBiZSBmb2N1c2VkICovCiAgICAgICAgZm9jdXNJdGVtT25Gb2N1czogewogICAgICAgICAgICB0eXBlOiBCb29sZWFuLAogICAgICAgICAgICBkZWZhdWx0OiBmYWxzZSwKICAgICAgICB9LAogICAgICAgIC8qKiBJZiBgdHJ1ZWAsIGtleWJvYXJkIG5hdmlnYXRpb24gd2lsbCBiZSBjaXJjdWxhciAobGFzdCBpdGVtIC0+IGZpcnN0IGl0ZW0sIGZpcnN0IGl0ZW0gLT4gbGFzdCBpdGVtKSAqLwogICAgICAgIGNpcmN1bGFyTmF2aWdhdGlvbjogewogICAgICAgICAgICB0eXBlOiBCb29sZWFuLAogICAgICAgICAgICBkZWZhdWx0OiBmYWxzZSwKICAgICAgICB9LAogICAgICAgIGhvcml6b250YWw6IHsKICAgICAgICAgICAgdHlwZTogQm9vbGVhbiwKICAgICAgICAgICAgZGVmYXVsdDogZmFsc2UsCiAgICAgICAgfSwKICAgIH0sCgogICAgZGF0YSgpIHsKICAgICAgICByZXR1cm4gewogICAgICAgICAgICBpdGVtczogW10sCiAgICAgICAgICAgIGZvY3VzZWRJdGVtOiB7fSwKICAgICAgICAgICAgc2VsZWN0YWJsZUl0ZW1TZWxlY3RvcjogJy5mbGlzdGJveF9saXN0X2l0ZW06bm90KFthcmlhLWRpc2FibGVkPSJ0cnVlIl0pJywKICAgICAgICB9OwogICAgfSwKCiAgICBjb21wdXRlZDogewogICAgICAgIGNsYXNzZXMoKSB7CiAgICAgICAgICAgIHJldHVybiB7CiAgICAgICAgICAgICAgICAnZmxpc3Rib3gtaG9yaXpvbnRhbCc6IHRoaXMuaG9yaXpvbnRhbCwKICAgICAgICAgICAgfTsKICAgICAgICB9LAogICAgfSwKCiAgICB3YXRjaDogewogICAgICAgIHZhbHVlKF92YWwpIHsKICAgICAgICAgICAgdGhpcy5pbnB1dFZhbHVlID0gX3ZhbDsKCiAgICAgICAgICAgIGlmICh0aGlzLmZvY3VzZWRJdGVtLnZhbHVlICE9PSBfdmFsKSB7CiAgICAgICAgICAgICAgICB0aGlzLmZvY3VzSXRlbShfdmFsLCBmYWxzZSwgJ3ZhbHVlJyk7CiAgICAgICAgICAgIH0KICAgICAgICB9LAoKICAgICAgICBkYXRhOiB7CiAgICAgICAgICAgIGhhbmRsZXIoX3ZhbHVlLCBfb2xkVmFsdWUpIHsKICAgICAgICAgICAgICAgIGlmIChKU09OLnN0cmluZ2lmeShfdmFsdWUpICE9PSBKU09OLnN0cmluZ2lmeShfb2xkVmFsdWUpKSB7CiAgICAgICAgICAgICAgICAgICAgdGhpcy5pdGVtcyA9IHRoaXMuZ2V0SXRlbXMoKTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSwKICAgICAgICAgICAgZGVlcDogdHJ1ZSwKICAgICAgICB9LAoKICAgICAgICBpdGVtcygpIHsKICAgICAgICAgICAgdGhpcy5zZXRTZWxlY3RlZCgpOwogICAgICAgIH0sCiAgICB9LAoKICAgIGNyZWF0ZWQoKSB7CiAgICAgICAgdGhpcy5fZmlyc3RLZXl1cCA9IHRydWU7CiAgICAgICAgdGhpcy5pdGVtcyA9IHRoaXMuZ2V0SXRlbXMoKTsKICAgIH0sCgogICAgbWV0aG9kczogewogICAgICAgIGdldEl0ZW1zKCkgewogICAgICAgICAgICBjb25zdCBpdGVtcyA9IGNsb25lT2JqZWN0KHRoaXMuZGF0YSk7CgogICAgICAgICAgICB0aGlzLnNldElkcyhpdGVtcyk7CgogICAgICAgICAgICByZXR1cm4gaXRlbXM7CiAgICAgICAgfSwKCiAgICAgICAgLyoqCiAgICAgICAgICogU2VsZWN0IGl0ZW0gYnkgYF9rZXlgLgogICAgICAgICAqCiAgICAgICAgICogQHBhcmFtIHsqfSBfdmFsdWUgSXRlbSB2YWx1ZS4KICAgICAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtfc2VsZWN0SXRlbV0KICAgICAgICAgKiBAcGFyYW0ge3N0cmluZ30gW19rZXldIE5hbWUgb2YgaXRlbSBrZXkuCiAgICAgICAgICovCiAgICAgICAgZm9jdXNJdGVtKF92YWx1ZSwgX3NlbGVjdEl0ZW0sIF9rZXkgPSAnaWQnKSB7CiAgICAgICAgICAgIGxldCBpdGVtOwoKICAgICAgICAgICAgaWYgKF92YWx1ZSAhPT0gdW5kZWZpbmVkICYmICF0aGlzLmRpc2FibGVkKSB7CiAgICAgICAgICAgICAgICBpdGVtID0gdGhpcy5pdGVtcy5maW5kKF9pdGVtID0+IF9pdGVtW19rZXldID09PSBfdmFsdWUpOwoKICAgICAgICAgICAgICAgIC8vIGlmIChpdGVtICYmIGl0ZW0uaWQgIT09IHRoaXMuZm9jdXNlZEl0ZW0uaWQpIHsKICAgICAgICAgICAgICAgIGlmIChpdGVtICYmICFpdGVtLmRpc2FibGVkKSB7CiAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuc2VsZWN0SW1tZWRpYXRlbHkgfHwgX3NlbGVjdEl0ZW0pIHsKICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5lbWl0Q2hhbmdlRXZlbnQoY2xvbmVPYmplY3QoaXRlbSksIF9zZWxlY3RJdGVtID8gJ2NsaWNrJyA6ICdmb2N1cycpOwogICAgICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICAgICAgdGhpcy5mb2N1c2VkSXRlbSA9IGl0ZW07CgogICAgICAgICAgICAgICAgICAgIHRoaXMuc2Nyb2xsVG9Gb2N1c2VkSXRlbSgpOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAgICAgICAgfSwKCiAgICAgICAgZm9jdXMoKSB7CiAgICAgICAgICAgIGNvbnN0IGVMaXN0Ym94ID0gdGhpcy4kcmVmcy5saXN0Ym94OwoKICAgICAgICAgICAgaWYgKGVMaXN0Ym94ICYmICF0aGlzLmRpc2FibGVkKSB7CiAgICAgICAgICAgICAgICBlTGlzdGJveC5mb2N1cygpOwogICAgICAgICAgICB9CiAgICAgICAgfSwKCiAgICAgICAgLyoqCiAgICAgICAgICogU2V0IHNlbGVjdGVkIGl0ZW0uCiAgICAgICAgICovCiAgICAgICAgc2V0U2VsZWN0ZWQoKSB7CiAgICAgICAgICAgIGNvbnN0IHsgdmFsdWUgfSA9IHRoaXM7CiAgICAgICAgICAgIGxldCBzZWxlY3RlZEl0ZW0gPSB0aGlzLml0ZW1zLmZpbmQoX2l0ZW0gPT4gISFfaXRlbS5zZWxlY3RlZCk7CgogICAgICAgICAgICBpZiAoIXNlbGVjdGVkSXRlbSAmJiB2YWx1ZSkgewogICAgICAgICAgICAgICAgc2VsZWN0ZWRJdGVtID0gdGhpcy5pdGVtcy5maW5kKF9pdGVtID0+IF9pdGVtLnZhbHVlID09PSB2YWx1ZSk7CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIHRoaXMuZm9jdXNlZEl0ZW0gPSB7fTsKCiAgICAgICAgICAgIGlmIChzZWxlY3RlZEl0ZW0pIHsKICAgICAgICAgICAgICAgIHRoaXMuJG5leHRUaWNrKCgpID0+IHsKICAgICAgICAgICAgICAgICAgICB0aGlzLmZvY3VzSXRlbShzZWxlY3RlZEl0ZW0uaWQpOwogICAgICAgICAgICAgICAgICAgIC8vIHRoaXMuZm9jdXNJdGVtKHNlbGVjdGVkSXRlbS5pZCwgdHJ1ZSk7CiAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgfQogICAgICAgIH0sCgogICAgICAgIHNjcm9sbFRvRm9jdXNlZEl0ZW0oKSB7CiAgICAgICAgICAgIGNvbnN0IGlkID0gdGhpcy5mb2N1c2VkSXRlbS5pZDsKICAgICAgICAgICAgY29uc3QgeyAkZWwgfSA9IHRoaXM7CiAgICAgICAgICAgIGNvbnN0IGxpc3Rib3hIZWlnaHQgPSAkZWwuY2xpZW50SGVpZ2h0OwogICAgICAgICAgICBsZXQgZUl0ZW07CgogICAgICAgICAgICBpZiAoaWQgJiYgJGVsLnNjcm9sbEhlaWdodCA+IGxpc3Rib3hIZWlnaHQpIHsKICAgICAgICAgICAgICAgIGVJdGVtID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoaWQpOwogICAgICAgICAgICAgICAgaWYgKGVJdGVtKSB7CiAgICAgICAgICAgICAgICAgICAgY29uc3QgbGlzdGJveFNjcm9sbFRvcCA9ICRlbC5zY3JvbGxUb3A7CiAgICAgICAgICAgICAgICAgICAgY29uc3QgZUl0ZW1PZmZzZXRUb3AgPSBlSXRlbS5vZmZzZXRUb3A7CiAgICAgICAgICAgICAgICAgICAgY29uc3QgZUl0ZW1Cb3R0b20gPSBlSXRlbU9mZnNldFRvcCArIGVJdGVtLm9mZnNldEhlaWdodDsKCiAgICAgICAgICAgICAgICAgICAgaWYgKGVJdGVtQm90dG9tID4gbGlzdGJveFNjcm9sbFRvcCArIGxpc3Rib3hIZWlnaHQpIHsKICAgICAgICAgICAgICAgICAgICAgICAgJGVsLnNjcm9sbFRvcCA9IGVJdGVtQm90dG9tIC0gbGlzdGJveEhlaWdodDsKICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKGVJdGVtT2Zmc2V0VG9wIDwgbGlzdGJveFNjcm9sbFRvcCkgewogICAgICAgICAgICAgICAgICAgICAgICAkZWwuc2Nyb2xsVG9wID0gZUl0ZW1PZmZzZXRUb3A7CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAgICAgICAgfSwKCiAgICAgICAgLyoqCiAgICAgICAgICogQHBhcmFtIHtGTGlzdGJveEl0ZW19IF9pdGVtCiAgICAgICAgICogQHBhcmFtIHtzdHJpbmd9IFtfc2VsZWN0aW9uQWN0aW9uXQogICAgICAgICAqLwogICAgICAgIGVtaXRDaGFuZ2VFdmVudChfaXRlbSwgX3NlbGVjdGlvbkFjdGlvbiA9ICdmb2N1cycpIHsKICAgICAgICAgICAgaWYgKHRoaXMuZGlzYWJsZWQpIHsKICAgICAgICAgICAgICAgIHJldHVybjsKICAgICAgICAgICAgfQoKICAgICAgICAgICAgdGhpcy5pbnB1dFZhbHVlID0gX2l0ZW0udmFsdWUgfHwgJyc7CgogICAgICAgICAgICB0aGlzLiRlbWl0KCdjb21wb25lbnQtY2hhbmdlJywgX2l0ZW0sIF9zZWxlY3Rpb25BY3Rpb24pOwogICAgICAgICAgICB0aGlzLiRlbWl0KCdjaGFuZ2UnLCB0aGlzLmlucHV0VmFsdWUpOwoKICAgICAgICAgICAgaWYgKHRoaXMudmFsaWRhdGVPbkNoYW5nZSkgewogICAgICAgICAgICAgICAgdGhpcy52YWxpZGF0ZSgpOwogICAgICAgICAgICB9CiAgICAgICAgfSwKCiAgICAgICAgLyoqCiAgICAgICAgICogRm9jdXMgZmlyc3QgZm9jdXNhYmxlIGl0ZW0uCiAgICAgICAgICovCiAgICAgICAgZm9jdXNGaXJzdEl0ZW0oKSB7CiAgICAgICAgICAgIGlmICh0aGlzLmRpc2FibGVkKSB7CiAgICAgICAgICAgICAgICByZXR1cm47CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIGNvbnN0IGl0ZW0gPSB0aGlzLml0ZW1zLmZpbmQoX2l0ZW0gPT4gIV9pdGVtLmRpc2FibGVkKTsKCiAgICAgICAgICAgIGlmIChpdGVtKSB7CiAgICAgICAgICAgICAgICB0aGlzLmZvY3VzZWRJdGVtID0gaXRlbTsKICAgICAgICAgICAgfQogICAgICAgIH0sCgogICAgICAgIC8qKgogICAgICAgICAqIEBwYXJhbSB7RXZlbnR9IF9ldmVudAogICAgICAgICAqLwogICAgICAgIG9uQ2xpY2soX2V2ZW50KSB7CiAgICAgICAgICAgIGlmICh0aGlzLmRpc2FibGVkKSB7CiAgICAgICAgICAgICAgICByZXR1cm47CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIGNvbnN0IGVJdGVtID0gX2V2ZW50LnRhcmdldC5jbG9zZXN0KHRoaXMuc2VsZWN0YWJsZUl0ZW1TZWxlY3Rvcik7CgogICAgICAgICAgICBpZiAoZUl0ZW0pIHsKICAgICAgICAgICAgICAgIHRoaXMuZm9jdXNJdGVtKGVJdGVtLmlkLCB0cnVlKTsKICAgICAgICAgICAgfQogICAgICAgIH0sCgogICAgICAgIC8qKgogICAgICAgICAqIEBwYXJhbSB7S2V5Ym9hcmRFdmVudH0gX2V2ZW50CiAgICAgICAgICovCiAgICAgICAgb25LZXlkb3duKF9ldmVudCkgewogICAgICAgICAgICBpZiAodGhpcy5kaXNhYmxlZCkgewogICAgICAgICAgICAgICAgcmV0dXJuOwogICAgICAgICAgICB9CgogICAgICAgICAgICBsZXQgZUl0ZW0gPSBrZXlib2FyZE5hdmlnYXRpb24oewogICAgICAgICAgICAgICAgX2V2ZW50LAogICAgICAgICAgICAgICAgX3NlbGVjdG9yOiB0aGlzLnNlbGVjdGFibGVJdGVtU2VsZWN0b3IsCiAgICAgICAgICAgICAgICBfZGlyZWN0aW9uOiAnYm90aCcsCiAgICAgICAgICAgICAgICBfY2lyY3VsYXI6IHRoaXMuY2lyY3VsYXJOYXZpZ2F0aW9uLAogICAgICAgICAgICAgICAgX3RhcmdldDogZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQodGhpcy5mb2N1c2VkSXRlbS5pZCksCiAgICAgICAgICAgICAgICBfZm9jdXNFbGVtOiBmYWxzZSwKICAgICAgICAgICAgfSk7CgogICAgICAgICAgICBpZiAoIWVJdGVtICYmICF0aGlzLmZvY3VzZWRJdGVtLmlkICYmIChpc0tleSgnQXJyb3dEb3duJywgX2V2ZW50KSB8fCBpc0tleSgnQXJyb3dVcCcsIF9ldmVudCkpKSB7CiAgICAgICAgICAgICAgICB0aGlzLmZvY3VzRmlyc3RJdGVtKCk7CiAgICAgICAgICAgICAgICBlSXRlbSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKHRoaXMuZm9jdXNlZEl0ZW0uaWQpOwogICAgICAgICAgICB9CgogICAgICAgICAgICBpZiAoZUl0ZW0pIHsKICAgICAgICAgICAgICAgIF9ldmVudC5wcmV2ZW50RGVmYXVsdCgpOwogICAgICAgICAgICAgICAgdGhpcy5mb2N1c0l0ZW0oZUl0ZW0uaWQpOwogICAgICAgICAgICB9CiAgICAgICAgfSwKCiAgICAgICAgLyoqCiAgICAgICAgICogQHBhcmFtIHtLZXlib2FyZEV2ZW50fSBfZXZlbnQKICAgICAgICAgKi8KICAgICAgICBvbktleXVwKF9ldmVudCkgewogICAgICAgICAgICBpZiAodGhpcy5kaXNhYmxlZCkgewogICAgICAgICAgICAgICAgcmV0dXJuOwogICAgICAgICAgICB9CgogICAgICAgICAgICAvLyBpZiAoIXRoaXMuc2VsZWN0SW1tZWRpYXRlbHkgJiYgdGhpcy5mb2N1c2VkSXRlbS5pZCAmJiBpc0tleSgnRW50ZXInLCBfZXZlbnQpICYmICF0aGlzLl9maXJzdEtleXVwKSB7CiAgICAgICAgICAgIGlmICh0aGlzLmZvY3VzZWRJdGVtLmlkICYmIGlzS2V5KCdFbnRlcicsIF9ldmVudCkgJiYgIXRoaXMuX2ZpcnN0S2V5dXApIHsKICAgICAgICAgICAgICAgIHRoaXMuZW1pdENoYW5nZUV2ZW50KGNsb25lT2JqZWN0KHRoaXMuZm9jdXNlZEl0ZW0pLCAnZW50ZXJLZXknKTsKICAgICAgICAgICAgfQoKICAgICAgICAgICAgdGhpcy5fZmlyc3RLZXl1cCA9IGZhbHNlOwogICAgICAgIH0sCgogICAgICAgIG9uRm9jdXMoKSB7CiAgICAgICAgICAgIGlmICh0aGlzLmRpc2FibGVkKSB7CiAgICAgICAgICAgICAgICByZXR1cm47CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIHRoaXMuX2ZpcnN0S2V5dXAgPSB0cnVlOwoKICAgICAgICAgICAgaWYgKHRoaXMuZm9jdXNJdGVtT25Gb2N1cyAmJiAhdGhpcy5mb2N1c2VkSXRlbS5pZCkgewogICAgICAgICAgICAgICAgaWYgKHRoaXMudmFsdWUpIHsKICAgICAgICAgICAgICAgICAgICB0aGlzLmZvY3VzSXRlbSh0aGlzLnZhbHVlLCBmYWxzZSwgJ3ZhbHVlJyk7CiAgICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgICAgIHRoaXMuZm9jdXNGaXJzdEl0ZW0oKTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQogICAgICAgIH0sCiAgICB9LAp9Owo="},{"version":3,"sources":["FListbox.vue"],"names":[],"mappings":";AAmDA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"FListbox.vue","sourceRoot":"src/components/core/FListbox","sourcesContent":["<template>\n    <div :id=\"id\" class=\"flistbox\" :class=\"classes\">\n        <slot name=\"top\" v-bind=\"slotProps\">\n            <f-label v-if=\"label\" :id=\"labeledById\" :label=\"label\" />\n        </slot>\n        <ul\n            ref=\"listbox\"\n            role=\"listbox\"\n            class=\"flistbox_list no-markers\"\n            :tabindex=\"disabled ? -1 : 0\"\n            :aria-activedescendant=\"focusedItem.id\"\n            :aria-labelledby=\"ariaLabeledByIds\"\n            :aria-describedby=\"ariaDescribedByIds\"\n            :aria-disabled=\"disabled\"\n            :aria-invalid=\"validationState.invalid\"\n            @click=\"onClick\"\n            @mousedown.prevent\n            @keydown=\"onKeydown\"\n            @keyup=\"onKeyup\"\n            @focus=\"onFocus\"\n        >\n            <li\n                v-for=\"item in items\"\n                :id=\"item.id\"\n                :key=\"item.id\"\n                role=\"option\"\n                :aria-selected=\"item.id === focusedItem.id\"\n                :aria-disabled=\"!!item.disabled\"\n                class=\"flistbox_list_item\"\n            >\n                <slot :item=\"item\"> {{ item.label }} </slot>\n            </li>\n        </ul>\n        <slot name=\"bottom\" v-bind=\"slotProps\">\n            <div v-if=\"validationState.errors.length > 0\" :id=\"errorMsgId\" class=\"ferrormessages\">\n                <div\n                    v-for=\"(msg, idx) in validationState.errors\"\n                    :key=\"`${errorMsgId}_${idx}_err`\"\n                    class=\"ferrormessages_message\"\n                >\n                    {{ msg }}\n                </div>\n            </div>\n            <div v-else-if=\"infoText\" :id=\"infoTextId\" class=\"finfotext\">\n                {{ infoText }}\n            </div>\n        </slot>\n    </div>\n</template>\n\n<script>\nimport { helpersMixin } from '../../../mixins/helpers.js';\nimport { formInputMixin } from '../../../mixins/form-input.js';\nimport { cloneObject } from '../../../utils';\nimport { isKey, keyboardNavigation } from '../../../utils/aria.js';\nimport { selectMixin } from '../../../mixins/select.js';\nimport FLabel from '../FLabel/FLabel.vue';\n\n/**\n * FListbox item.\n * @typedef {Object} FListboxItem\n * @property {string} [value] Specifies the value of listbox item\n * @property {string} [label] Specifies a label for an item\n * @property {boolean} [disabled] Specifies that an item should be disabled\n * @property {boolean} [selected] Specifies that an item should be pre-selected\n */\n\n/**\n * Listbox component created according to WAI-ARIA rules and practices.\n *\n * @mixes selectMixin\n */\nexport default {\n    name: 'FListbox',\n\n    inheritAttrs: false,\n\n    components: { FLabel },\n\n    mixins: [selectMixin, formInputMixin, helpersMixin],\n\n    model: {\n        prop: 'value',\n        event: 'change',\n    },\n\n    props: {\n        /**\n         * Listbox's items\n         * @type {FListboxItem[]}\n         */\n        data: {\n            type: Array,\n            default() {\n                return [];\n            },\n        },\n        /** If `true`, `component-change` event will be fired right on item focus (keyboard movement, click) */\n        selectImmediately: {\n            type: Boolean,\n            default: false,\n        },\n        /** If `true`, first focusable item will be focused */\n        focusItemOnFocus: {\n            type: Boolean,\n            default: false,\n        },\n        /** If `true`, keyboard navigation will be circular (last item -> first item, first item -> last item) */\n        circularNavigation: {\n            type: Boolean,\n            default: false,\n        },\n        horizontal: {\n            type: Boolean,\n            default: false,\n        },\n    },\n\n    data() {\n        return {\n            items: [],\n            focusedItem: {},\n            selectableItemSelector: '.flistbox_list_item:not([aria-disabled=\"true\"])',\n        };\n    },\n\n    computed: {\n        classes() {\n            return {\n                'flistbox-horizontal': this.horizontal,\n            };\n        },\n    },\n\n    watch: {\n        value(_val) {\n            this.inputValue = _val;\n\n            if (this.focusedItem.value !== _val) {\n                this.focusItem(_val, false, 'value');\n            }\n        },\n\n        data: {\n            handler(_value, _oldValue) {\n                if (JSON.stringify(_value) !== JSON.stringify(_oldValue)) {\n                    this.items = this.getItems();\n                }\n            },\n            deep: true,\n        },\n\n        items() {\n            this.setSelected();\n        },\n    },\n\n    created() {\n        this._firstKeyup = true;\n        this.items = this.getItems();\n    },\n\n    methods: {\n        getItems() {\n            const items = cloneObject(this.data);\n\n            this.setIds(items);\n\n            return items;\n        },\n\n        /**\n         * Select item by `_key`.\n         *\n         * @param {*} _value Item value.\n         * @param {boolean} [_selectItem]\n         * @param {string} [_key] Name of item key.\n         */\n        focusItem(_value, _selectItem, _key = 'id') {\n            let item;\n\n            if (_value !== undefined && !this.disabled) {\n                item = this.items.find(_item => _item[_key] === _value);\n\n                // if (item && item.id !== this.focusedItem.id) {\n                if (item && !item.disabled) {\n                    if (this.selectImmediately || _selectItem) {\n                        this.emitChangeEvent(cloneObject(item), _selectItem ? 'click' : 'focus');\n                    }\n\n                    this.focusedItem = item;\n\n                    this.scrollToFocusedItem();\n                }\n            }\n        },\n\n        focus() {\n            const eListbox = this.$refs.listbox;\n\n            if (eListbox && !this.disabled) {\n                eListbox.focus();\n            }\n        },\n\n        /**\n         * Set selected item.\n         */\n        setSelected() {\n            const { value } = this;\n            let selectedItem = this.items.find(_item => !!_item.selected);\n\n            if (!selectedItem && value) {\n                selectedItem = this.items.find(_item => _item.value === value);\n            }\n\n            this.focusedItem = {};\n\n            if (selectedItem) {\n                this.$nextTick(() => {\n                    this.focusItem(selectedItem.id);\n                    // this.focusItem(selectedItem.id, true);\n                });\n            }\n        },\n\n        scrollToFocusedItem() {\n            const id = this.focusedItem.id;\n            const { $el } = this;\n            const listboxHeight = $el.clientHeight;\n            let eItem;\n\n            if (id && $el.scrollHeight > listboxHeight) {\n                eItem = document.getElementById(id);\n                if (eItem) {\n                    const listboxScrollTop = $el.scrollTop;\n                    const eItemOffsetTop = eItem.offsetTop;\n                    const eItemBottom = eItemOffsetTop + eItem.offsetHeight;\n\n                    if (eItemBottom > listboxScrollTop + listboxHeight) {\n                        $el.scrollTop = eItemBottom - listboxHeight;\n                    } else if (eItemOffsetTop < listboxScrollTop) {\n                        $el.scrollTop = eItemOffsetTop;\n                    }\n                }\n            }\n        },\n\n        /**\n         * @param {FListboxItem} _item\n         * @param {string} [_selectionAction]\n         */\n        emitChangeEvent(_item, _selectionAction = 'focus') {\n            if (this.disabled) {\n                return;\n            }\n\n            this.inputValue = _item.value || '';\n\n            this.$emit('component-change', _item, _selectionAction);\n            this.$emit('change', this.inputValue);\n\n            if (this.validateOnChange) {\n                this.validate();\n            }\n        },\n\n        /**\n         * Focus first focusable item.\n         */\n        focusFirstItem() {\n            if (this.disabled) {\n                return;\n            }\n\n            const item = this.items.find(_item => !_item.disabled);\n\n            if (item) {\n                this.focusedItem = item;\n            }\n        },\n\n        /**\n         * @param {Event} _event\n         */\n        onClick(_event) {\n            if (this.disabled) {\n                return;\n            }\n\n            const eItem = _event.target.closest(this.selectableItemSelector);\n\n            if (eItem) {\n                this.focusItem(eItem.id, true);\n            }\n        },\n\n        /**\n         * @param {KeyboardEvent} _event\n         */\n        onKeydown(_event) {\n            if (this.disabled) {\n                return;\n            }\n\n            let eItem = keyboardNavigation({\n                _event,\n                _selector: this.selectableItemSelector,\n                _direction: 'both',\n                _circular: this.circularNavigation,\n                _target: document.getElementById(this.focusedItem.id),\n                _focusElem: false,\n            });\n\n            if (!eItem && !this.focusedItem.id && (isKey('ArrowDown', _event) || isKey('ArrowUp', _event))) {\n                this.focusFirstItem();\n                eItem = document.getElementById(this.focusedItem.id);\n            }\n\n            if (eItem) {\n                _event.preventDefault();\n                this.focusItem(eItem.id);\n            }\n        },\n\n        /**\n         * @param {KeyboardEvent} _event\n         */\n        onKeyup(_event) {\n            if (this.disabled) {\n                return;\n            }\n\n            // if (!this.selectImmediately && this.focusedItem.id && isKey('Enter', _event) && !this._firstKeyup) {\n            if (this.focusedItem.id && isKey('Enter', _event) && !this._firstKeyup) {\n                this.emitChangeEvent(cloneObject(this.focusedItem), 'enterKey');\n            }\n\n            this._firstKeyup = false;\n        },\n\n        onFocus() {\n            if (this.disabled) {\n                return;\n            }\n\n            this._firstKeyup = true;\n\n            if (this.focusItemOnFocus && !this.focusedItem.id) {\n                if (this.value) {\n                    this.focusItem(this.value, false, 'value');\n                } else {\n                    this.focusFirstItem();\n                }\n            }\n        },\n    },\n};\n</script>\n\n<style lang=\"scss\">\n@import \"style\";\n</style>\n"]}]}
{"remainingRequest":"/mnt/websites/ex.nextsmartchain.com/node_modules/vue-loader/lib/index.js??vue-loader-options!/mnt/websites/ex.nextsmartchain.com/src/components/core/FIntersectionObserver/FIntersectionObserver.vue?vue&type=script&lang=js&","dependencies":[{"path":"/mnt/websites/ex.nextsmartchain.com/src/components/core/FIntersectionObserver/FIntersectionObserver.vue","mtime":1657708592666},{"path":"/mnt/websites/ex.nextsmartchain.com/node_modules/babel-loader/lib/index.js","mtime":1655491285588},{"path":"/mnt/websites/ex.nextsmartchain.com/node_modules/cache-loader/dist/cjs.js","mtime":1655491106804},{"path":"/mnt/websites/ex.nextsmartchain.com/node_modules/vue-loader/lib/index.js","mtime":1657708714280}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ci8qKgogKiBJbnRlcnNlY3Rpb25PYnNlcnZlciB3cmFwcGVyCiAqLwpleHBvcnQgZGVmYXVsdCB7CiAgICBuYW1lOiAnRkludGVyc2VjdGlvbk9ic2VydmVyJywKCiAgICBwcm9wczogewogICAgICAgIC8qKiBUYWcgbmFtZSBvZiB0aGUgcm9vdCBlbGVtZW50ICovCiAgICAgICAgdGFnOiB7CiAgICAgICAgICAgIHR5cGU6IFN0cmluZywKICAgICAgICAgICAgZGVmYXVsdDogJ2RpdicsCiAgICAgICAgfSwKICAgICAgICAvKiogU2VsZWN0b3IgZm9yIHJvb3QgZWxlbWVudC4gRGVmYXVsdCBpcyBkb2N1bWVudCAqLwogICAgICAgIHJvb3Q6IHsKICAgICAgICAgICAgdHlwZTogU3RyaW5nLAogICAgICAgICAgICBkZWZhdWx0OiAnJywKICAgICAgICB9LAogICAgICAgIC8qKiBNYXJnaW4gYXJvdW5kIHRoZSByb290ICovCiAgICAgICAgcm9vdE1hcmdpbjogewogICAgICAgICAgICB0eXBlOiBTdHJpbmcsCiAgICAgICAgICAgIGRlZmF1bHQ6ICcnLAogICAgICAgIH0sCiAgICAgICAgLyoqIERvbid0IGVtaXQgZmlyc3QgJ2VudHJ5JyBldmVudCAqLwogICAgICAgIGlnbm9yZUZpcnN0RW50cnk6IHsKICAgICAgICAgICAgdHlwZTogQm9vbGVhbiwKICAgICAgICAgICAgZGVmYXVsdDogZmFsc2UsCiAgICAgICAgfSwKICAgIH0sCgogICAgY3JlYXRlZCgpIHsKICAgICAgICAvKiogQHR5cGUge0ludGVyc2VjdGlvbk9ic2VydmVyfSAqLwogICAgICAgIHRoaXMuX2ludGVyc2VjdGlvbk9ic2VydmVyID0gbnVsbDsKICAgICAgICB0aGlzLl9maXJzdEVudHJ5ID0gdHJ1ZTsKICAgIH0sCgogICAgbW91bnRlZCgpIHsKICAgICAgICB0aGlzLl9pbnRlcnNlY3Rpb25PYnNlcnZlciA9IG5ldyBJbnRlcnNlY3Rpb25PYnNlcnZlcigKICAgICAgICAgICAgX2VudHJ5ID0+IHsKICAgICAgICAgICAgICAgIHRoaXMub25JbnRlcnNlY3Rpb24oX2VudHJ5KTsKICAgICAgICAgICAgfSwKICAgICAgICAgICAgewogICAgICAgICAgICAgICAgcm9vdDogdGhpcy5yb290ID8gZG9jdW1lbnQucXVlcnlTZWxlY3Rvcih0aGlzLnJvb3QpIDogbnVsbCwKICAgICAgICAgICAgICAgIHJvb3RNYXJnaW46IHRoaXMucm9vdE1hcmdpbiB8fCB1bmRlZmluZWQsCiAgICAgICAgICAgIH0KICAgICAgICApOwoKICAgICAgICB0aGlzLl9pbnRlcnNlY3Rpb25PYnNlcnZlci5vYnNlcnZlKHRoaXMuJGVsKTsKICAgIH0sCgogICAgYmVmb3JlRGVzdHJveSgpIHsKICAgICAgICBpZiAodGhpcy5faW50ZXJzZWN0aW9uT2JzZXJ2ZXIpIHsKICAgICAgICAgICAgdGhpcy5faW50ZXJzZWN0aW9uT2JzZXJ2ZXIudW5vYnNlcnZlKHRoaXMuJGVsKTsKICAgICAgICAgICAgdGhpcy5faW50ZXJzZWN0aW9uT2JzZXJ2ZXIgPSBudWxsOwogICAgICAgIH0KICAgIH0sCgogICAgbWV0aG9kczogewogICAgICAgIC8qKgogICAgICAgICAqIEBwYXJhbSB7SW50ZXJzZWN0aW9uT2JzZXJ2ZXJFbnRyeVtdfSBfZW50cmllcwogICAgICAgICAqLwogICAgICAgIG9uSW50ZXJzZWN0aW9uKF9lbnRyaWVzKSB7CiAgICAgICAgICAgIGlmICh0aGlzLmlnbm9yZUZpcnN0RW50cnkgJiYgdGhpcy5fZmlyc3RFbnRyeSkgewogICAgICAgICAgICAgICAgdGhpcy5fZmlyc3RFbnRyeSA9IGZhbHNlOwogICAgICAgICAgICAgICAgcmV0dXJuOwogICAgICAgICAgICB9CgogICAgICAgICAgICB0aGlzLiRlbWl0KCdlbnRyeScsIF9lbnRyaWVzWzBdKTsKICAgICAgICB9LAogICAgfSwKfTsK"},{"version":3,"sources":["FIntersectionObserver.vue"],"names":[],"mappings":";AAOA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA","file":"FIntersectionObserver.vue","sourceRoot":"src/components/core/FIntersectionObserver","sourcesContent":["<template>\n    <component :is=\"tag\" class=\"fintersectionobserver\">\n        <slot></slot>\n    </component>\n</template>\n\n<script>\n/**\n * IntersectionObserver wrapper\n */\nexport default {\n    name: 'FIntersectionObserver',\n\n    props: {\n        /** Tag name of the root element */\n        tag: {\n            type: String,\n            default: 'div',\n        },\n        /** Selector for root element. Default is document */\n        root: {\n            type: String,\n            default: '',\n        },\n        /** Margin around the root */\n        rootMargin: {\n            type: String,\n            default: '',\n        },\n        /** Don't emit first 'entry' event */\n        ignoreFirstEntry: {\n            type: Boolean,\n            default: false,\n        },\n    },\n\n    created() {\n        /** @type {IntersectionObserver} */\n        this._intersectionObserver = null;\n        this._firstEntry = true;\n    },\n\n    mounted() {\n        this._intersectionObserver = new IntersectionObserver(\n            _entry => {\n                this.onIntersection(_entry);\n            },\n            {\n                root: this.root ? document.querySelector(this.root) : null,\n                rootMargin: this.rootMargin || undefined,\n            }\n        );\n\n        this._intersectionObserver.observe(this.$el);\n    },\n\n    beforeDestroy() {\n        if (this._intersectionObserver) {\n            this._intersectionObserver.unobserve(this.$el);\n            this._intersectionObserver = null;\n        }\n    },\n\n    methods: {\n        /**\n         * @param {IntersectionObserverEntry[]} _entries\n         */\n        onIntersection(_entries) {\n            if (this.ignoreFirstEntry && this._firstEntry) {\n                this._firstEntry = false;\n                return;\n            }\n\n            this.$emit('entry', _entries[0]);\n        },\n    },\n};\n</script>\n\n<style scoped></style>\n"]}]}
{"remainingRequest":"/mnt/websites/ex.nextsmartchain.com/node_modules/vue-loader/lib/index.js??vue-loader-options!/mnt/websites/ex.nextsmartchain.com/src/layouts/FBlockDetail.vue?vue&type=script&lang=js&","dependencies":[{"path":"/mnt/websites/ex.nextsmartchain.com/src/layouts/FBlockDetail.vue","mtime":1657708591250},{"path":"/mnt/websites/ex.nextsmartchain.com/node_modules/babel-loader/lib/index.js","mtime":1655491285588},{"path":"/mnt/websites/ex.nextsmartchain.com/node_modules/cache-loader/dist/cjs.js","mtime":1655491106804},{"path":"/mnt/websites/ex.nextsmartchain.com/node_modules/vue-loader/lib/index.js","mtime":1657708714280}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CiAgICBpbXBvcnQgRkNhcmQgZnJvbSAiLi4vY29tcG9uZW50cy9jb3JlL0ZDYXJkL0ZDYXJkLnZ1ZSI7CiAgICBpbXBvcnQgRlRyYW5zYWN0aW9uTGlzdCBmcm9tICIuLi9kYXRhLXRhYmxlcy9GVHJhbnNhY3Rpb25MaXN0LnZ1ZSI7CiAgICBpbXBvcnQgZ3FsIGZyb20gJ2dyYXBocWwtdGFnJzsKICAgIGltcG9ydCB7IFdFSVRvRlRNIH0gZnJvbSAiLi4vdXRpbHMvdHJhbnNhY3Rpb25zLmpzIjsKICAgIGltcG9ydCB7IGZvcm1hdEhleFRvSW50LCB0aW1lc3RhbXBUb0RhdGUsIGZvcm1hdERhdGUgfSBmcm9tICIuLi9maWx0ZXJzLmpzIjsKCiAgICBleHBvcnQgZGVmYXVsdCB7CiAgICAgICAgY29tcG9uZW50czogewogICAgICAgICAgICBGQ2FyZCwKICAgICAgICAgICAgRlRyYW5zYWN0aW9uTGlzdAogICAgICAgIH0sCgogICAgICAgIHByb3BzOiB7CiAgICAgICAgICAgIC8qKiBCbG9jayBudW1iZXIuICovCiAgICAgICAgICAgIGlkOiB7CiAgICAgICAgICAgICAgICB0eXBlOiBOdW1iZXIsCiAgICAgICAgICAgICAgICByZXF1aXJlZDogdHJ1ZSwKICAgICAgICAgICAgICAgIGRlZmF1bHQ6IDAKICAgICAgICAgICAgfQogICAgICAgIH0sCgogICAgICAgIGFwb2xsbzogewogICAgICAgICAgICBibG9jazogewogICAgICAgICAgICAgICAgcXVlcnk6IGdxbGAKICAgICAgICAgICAgICAgICAgICBxdWVyeSBCbG9ja0J5TnVtYmVyKCRudW1iZXI6IExvbmcpIHsKICAgICAgICAgICAgICAgICAgICAgICAgYmxvY2sgKG51bWJlcjogJG51bWJlcikgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgbnVtYmVyCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0cmFuc2FjdGlvbkNvdW50CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBoYXNoCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwYXJlbnQgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGhhc2gKICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRpbWVzdGFtcAogICAgICAgICAgICAgICAgICAgICAgICAgICAgdHhMaXN0IHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBoYXNoCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZnJvbQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRvCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWUKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBnYXNVc2VkCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYmxvY2sgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBudW1iZXIKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGltZXN0YW1wCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgYCwKICAgICAgICAgICAgICAgIHZhcmlhYmxlcygpIHsKICAgICAgICAgICAgICAgICAgICByZXR1cm4gewogICAgICAgICAgICAgICAgICAgICAgICBudW1iZXI6IGAweCR7cGFyc2VJbnQodGhpcy5pZCkudG9TdHJpbmcoMTYpfWAKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgZXJyb3IoX2Vycm9yKSB7CiAgICAgICAgICAgICAgICAgICAgdGhpcy5kQmxvY2tCeU51bWJlckVycm9yID0gX2Vycm9yLm1lc3NhZ2U7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KICAgICAgICB9LAoKICAgICAgICBkYXRhKCkgewogICAgICAgICAgICByZXR1cm4gewogICAgICAgICAgICAgICAgZEJsb2NrQnlOdW1iZXJFcnJvcjogJycsCiAgICAgICAgICAgICAgICBkUmVjb3Jkc0NvdW50OiAwLAogICAgICAgICAgICAgICAgZFRyYW5zYWN0aW9uczogW10KICAgICAgICAgICAgfQogICAgICAgIH0sCgogICAgICAgIGNvbXB1dGVkOiB7CiAgICAgICAgICAgIGNUcmFuc2FjdGlvbkl0ZW1zKCkgewogICAgICAgICAgICAgICAgY29uc3Qge2NCbG9ja30gPSB0aGlzOwoKICAgICAgICAgICAgICAgIGlmIChjQmxvY2spIHsKICAgICAgICAgICAgICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgdnVlL25vLXNpZGUtZWZmZWN0cy1pbi1jb21wdXRlZC1wcm9wZXJ0aWVzCiAgICAgICAgICAgICAgICAgICAgdGhpcy5kUmVjb3Jkc0NvdW50ID0gY0Jsb2NrLnRyYW5zYWN0aW9uQ291bnQ7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgcmV0dXJuIHsKICAgICAgICAgICAgICAgICAgICBhY3Rpb246ICdyZXBsYWNlJywKICAgICAgICAgICAgICAgICAgICBkYXRhOiAoY0Jsb2NrICYmIGNCbG9jay50eExpc3QgPyBjQmxvY2sudHhMaXN0IDogW10pCiAgICAgICAgICAgICAgICB9OwogICAgICAgICAgICB9LAoKICAgICAgICAgICAgY0Jsb2NrKCkgewovKgogICAgICAgICAgICAgICAgaWYgKHRoaXMuYmxvY2spIHsKICAgICAgICAgICAgICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgdnVlL25vLXNpZGUtZWZmZWN0cy1pbi1jb21wdXRlZC1wcm9wZXJ0aWVzCiAgICAgICAgICAgICAgICAgICAgdGhpcy5kVHJhbnNhY3Rpb25zID0gdGhpcy5ibG9jay50eExpc3Q7CiAgICAgICAgICAgICAgICB9CiovCgogICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuYmxvY2sgfHwge3BhcmVudDoge319OwogICAgICAgICAgICB9LAoKICAgICAgICAgICAgY0xvYWRpbmcoKSB7CiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy4kYXBvbGxvLnF1ZXJpZXMuYmxvY2subG9hZGluZzsKICAgICAgICAgICAgfQogICAgICAgIH0sCgogICAgICAgIG1ldGhvZHM6IHsKICAgICAgICAgICAgV0VJVG9GVE0sCiAgICAgICAgICAgIGZvcm1hdEhleFRvSW50LAogICAgICAgICAgICB0aW1lc3RhbXBUb0RhdGUsCiAgICAgICAgICAgIGZvcm1hdERhdGUKICAgICAgICB9CiAgICB9Cg=="},{"version":3,"sources":["FBlockDetail.vue"],"names":[],"mappings":";AA0DA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA","file":"FBlockDetail.vue","sourceRoot":"src/layouts","sourcesContent":["<template>\n    <div class=\"f-block-detail f-data-layout\">\n        <f-card>\n            <template v-if=\"!dBlockByNumberError\">\n                <div class=\"row no-collapse\">\n                    <div class=\"col-4 f-row-label\">{{ $t('view_block_detail.block') }}</div>\n                    <div class=\"col\"><div class=\"break-word\">{{ id }}</div></div>\n                </div>\n                <div class=\"row no-collapse\">\n                    <div class=\"col-4 f-row-label\">{{ $t('view_block_detail.timestamp') }}</div>\n                    <div class=\"col\">\n                        <div v-show=\"cBlock && ('timestamp' in cBlock)\">\n                            <timeago :datetime=\"timestampToDate(cBlock.timestamp)\"></timeago>\n                            ({{ formatDate(timestampToDate(cBlock.timestamp)) }})\n                        </div>\n                    </div>\n                </div>\n                <div class=\"row no-collapse\">\n                    <div class=\"col-4 f-row-label\">{{ $t('view_block_detail.transactions') }}</div>\n                    <div class=\"col\">\n                        <div v-show=\"cBlock && ('transactionCount' in cBlock)\">\n                            <strong>{{ cBlock.transactionCount }}</strong> {{ $t('view_block_detail.transactions_in_block' )}}\n                        </div>\n                    </div>\n                </div>\n                <div class=\"row no-collapse\">\n                    <div class=\"col-4 f-row-label\">{{ $t('view_block_detail.block_hash') }}</div>\n                    <div class=\"col\">\n                        <div v-show=\"cBlock && ('hash' in cBlock)\" class=\"break-word\">{{ cBlock.hash }}</div>\n                    </div>\n                </div>\n                <div class=\"row no-collapse\">\n                    <div class=\"col-4 f-row-label\">{{ $t('view_block_detail.parent_hash') }}</div>\n                    <div class=\"col\">\n                        <div v-show=\"cBlock && cBlock.parent && ('hash' in cBlock.parent)\" class=\"break-word\">{{ cBlock.parent.hash }}</div>\n                    </div>\n                </div>\n            </template>\n\n            <template v-else>\n                <div class=\"query-error\">{{ $t('view_block_detail.block_not_found') }}</div>\n            </template>\n        </f-card>\n\n        <div class=\"f-subsection\" v-if=\"!dBlockByNumberError\">\n            <h2 class=\"h1\">{{ $t('view_block_detail.block_transactions') }} <span v-if=\"dRecordsCount\" class=\"f-records-count\">({{ dRecordsCount }})</span></h2>\n\n            <f-transaction-list\n                :items=\"cTransactionItems\"\n                :hidden-columns=\"['block']\"\n                :loading=\"cLoading\"\n                without-cursor\n            ></f-transaction-list>\n        </div>\n    </div>\n</template>\n\n<script>\n    import FCard from \"../components/core/FCard/FCard.vue\";\n    import FTransactionList from \"../data-tables/FTransactionList.vue\";\n    import gql from 'graphql-tag';\n    import { WEIToFTM } from \"../utils/transactions.js\";\n    import { formatHexToInt, timestampToDate, formatDate } from \"../filters.js\";\n\n    export default {\n        components: {\n            FCard,\n            FTransactionList\n        },\n\n        props: {\n            /** Block number. */\n            id: {\n                type: Number,\n                required: true,\n                default: 0\n            }\n        },\n\n        apollo: {\n            block: {\n                query: gql`\n                    query BlockByNumber($number: Long) {\n                        block (number: $number) {\n                            number\n                            transactionCount\n                            hash\n                            parent {\n                                hash\n                            }\n                            timestamp\n                            txList {\n                                hash\n                                from\n                                to\n                                value\n                                gasUsed\n                                block {\n                                    number\n                                    timestamp\n                                }\n                            }\n                        }\n                    }\n                `,\n                variables() {\n                    return {\n                        number: `0x${parseInt(this.id).toString(16)}`\n                    }\n                },\n                error(_error) {\n                    this.dBlockByNumberError = _error.message;\n                }\n            }\n        },\n\n        data() {\n            return {\n                dBlockByNumberError: '',\n                dRecordsCount: 0,\n                dTransactions: []\n            }\n        },\n\n        computed: {\n            cTransactionItems() {\n                const {cBlock} = this;\n\n                if (cBlock) {\n                    // eslint-disable-next-line vue/no-side-effects-in-computed-properties\n                    this.dRecordsCount = cBlock.transactionCount;\n                }\n\n                return {\n                    action: 'replace',\n                    data: (cBlock && cBlock.txList ? cBlock.txList : [])\n                };\n            },\n\n            cBlock() {\n/*\n                if (this.block) {\n                    // eslint-disable-next-line vue/no-side-effects-in-computed-properties\n                    this.dTransactions = this.block.txList;\n                }\n*/\n\n                return this.block || {parent: {}};\n            },\n\n            cLoading() {\n                return this.$apollo.queries.block.loading;\n            }\n        },\n\n        methods: {\n            WEIToFTM,\n            formatHexToInt,\n            timestampToDate,\n            formatDate\n        }\n    }\n</script>\n\n<style lang=\"scss\">\n    .f-block-detail {\n        .num-block {\n            h2 {\n                text-align: center;\n                margin-top: 16px;\n                margin-bottom: 4px;\n            }\n\n            .num {\n                text-align: center;\n                font-weight: bold;\n                font-size: $fs48;\n            }\n        }\n    }\n</style>\n"]}]}
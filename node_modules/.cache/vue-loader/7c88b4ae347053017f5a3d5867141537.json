{"remainingRequest":"/mnt/websites/ex.nextsmartchain.com/node_modules/vue-loader/lib/index.js??vue-loader-options!/mnt/websites/ex.nextsmartchain.com/src/components/FSearchBox.vue?vue&type=style&index=0&id=2a152294&prod&lang=scss&","dependencies":[{"path":"/mnt/websites/ex.nextsmartchain.com/src/components/FSearchBox.vue","mtime":1657708593350},{"path":"/mnt/websites/ex.nextsmartchain.com/node_modules/css-loader/dist/cjs.js","mtime":1655491291170},{"path":"/mnt/websites/ex.nextsmartchain.com/node_modules/vue-loader/lib/loaders/stylePostLoader.js","mtime":1657708714280},{"path":"/mnt/websites/ex.nextsmartchain.com/node_modules/postcss-loader/src/index.js","mtime":1655491291810},{"path":"/mnt/websites/ex.nextsmartchain.com/node_modules/sass-loader/dist/cjs.js","mtime":1657625857833},{"path":"/mnt/websites/ex.nextsmartchain.com/node_modules/cache-loader/dist/cjs.js","mtime":1655491106804},{"path":"/mnt/websites/ex.nextsmartchain.com/node_modules/vue-loader/lib/index.js","mtime":1657708714280}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ci5mLXNlYXJjaC1ib3ggewogICAgLS1mLXNlYXJjaC1ib3gtaW5wdXQtYm94LXNoYWRvdzogI3skZWxldjMtc2hhZG93fTsKICAgIC0tZi1zZWFyY2gtYm94LWlucHV0LWNvbG9yOiAjMDAwOwogICAgLS1mLXNlYXJjaC1ib3gtaW5wdXQtYmFja2dyb3VuZC1jb2xvcjogI3skc2Vjb25kYXJ5LWNvbG9yLWxpZ2h0ZXN0fTsKICAgIC0tZi1zZWFyY2gtYm94LWlucHV0LXBsYWNlaG9sZGVyLWNvbG9yOiAjeyRncmV5LWNvbG9yLWxpZ2h0ZXJ9OwogICAgLS1mLXNlYXJjaC1ib3gtYnV0dG9uLWhvdmVyLWNvbG9yOiAjZmZmOwoKICAgIGRpc3BsYXk6IGlubGluZS1ibG9jazsKICAgIHotaW5kZXg6IDQ7CgogICAgZm9ybSB7CiAgICAgICAgZGlzcGxheTogaW5saW5lLWJsb2NrOwogICAgICAgIHBvc2l0aW9uOiByZWxhdGl2ZTsKICAgICAgICB3aWR0aDogMTAwJTsKICAgICAgICAvKm1hcmdpbjogMCBhdXRvOyovCgogICAgICAgIC8qdHJhbnNpdGlvbjogYWxsICR0cmFuc2l0aW9uLWxlbmd0aCBlYXNlOyovCiAgICB9CgogICAgaW5wdXQ6bm90KC5kZWYpOm5vdChbdHlwZT1zdWJtaXRdKS5sYXJnZSB7CiAgICAgICAgd2lkdGg6IDEwMCU7CiAgICAgICAgaGVpZ2h0OiAzLjVyZW07CiAgICAgICAgcGFkZGluZy1pbmxpbmUtZW5kOiA0OHB4OwogICAgICAgIHRleHQtYWxpZ246IGNlbnRlcjsKICAgICAgICBib3JkZXItcmFkaXVzOiA0cHggIWltcG9ydGFudDsKICAgICAgICBvdXRsaW5lOiBub25lOwogICAgICAgIGJveC1zaGFkb3c6IHZhcigtLWYtc2VhcmNoLWJveC1pbnB1dC1ib3gtc2hhZG93KTsKICAgICAgICAvKmJhY2tncm91bmQtY29sb3I6IHRyYW5zcGFyZW50OyovCgogICAgICAgICY6bm90KDpmb2N1cykgewogICAgICAgICAgICBib3JkZXItY29sb3I6IHRyYW5zcGFyZW50OwogICAgICAgIH0KCiAgICAgICAgJjo6cGxhY2Vob2xkZXIgewogICAgICAgICAgICBjb2xvcjogdmFyKC0tZi1zZWFyY2gtYm94LWlucHV0LXBsYWNlaG9sZGVyLWNvbG9yKTsKICAgICAgICB9CiAgICB9CgogICAgYnV0dG9uW3R5cGU9InN1Ym1pdCJdIHsKICAgICAgICBwb3NpdGlvbjogYWJzb2x1dGU7CiAgICAgICAgdG9wOiA2cHg7CiAgICAgICAgcmlnaHQ6IDZweDsKICAgICAgICBvdXRsaW5lOiBub25lOwogICAgfQoKICAgIGJ1dHRvblt0eXBlPSJzdWJtaXQiXTpmb2N1cyB7CiAgICAgICAgY29sb3I6ICR0aGVtZS1jb2xvciAhaW1wb3J0YW50OwogICAgICAgIGJhY2tncm91bmQtY29sb3I6IHRyYW5zcGFyZW50ICFpbXBvcnRhbnQ7CiAgICB9CgogICAgJi5leHBhbmRhYmxlIHsKICAgICAgICB3aWR0aDogNTZweDsKICAgICAgICB0cmFuc2l0aW9uOiBhbGwgJHRyYW5zaXRpb24tbGVuZ3RoIGVhc2U7CgogICAgICAgIGlucHV0Om5vdCguZGVmKTpub3QoW3R5cGU9c3VibWl0XSkubGFyZ2UgewogICAgICAgICAgICBwYWRkaW5nLWlubGluZS1lbmQ6IDA7CgogICAgICAgICAgICAmOjpwbGFjZWhvbGRlciB7CiAgICAgICAgICAgICAgICBjb2xvcjogdHJhbnNwYXJlbnQ7CiAgICAgICAgICAgIH0KICAgICAgICB9CgogICAgICAgIGZvcm0gewogICAgICAgIH0KCiAgICAgICAgJi5leHBhbmRlZCB7CiAgICAgICAgICAgIG1hcmdpbi1pbmxpbmUtc3RhcnQ6IDA7CgogICAgICAgICAgICBpbnB1dDpub3QoLmRlZik6bm90KFt0eXBlPXN1Ym1pdF0pLmxhcmdlIHsKICAgICAgICAgICAgICAgIC8qcGFkZGluZy1pbmxpbmUtZW5kOiA0OHB4OyovCgogICAgICAgICAgICAgICAgJjo6cGxhY2Vob2xkZXIgewogICAgICAgICAgICAgICAgICAgIGNvbG9yOiB2YXIoLS1mLXNlYXJjaC1ib3gtaW5wdXQtcGxhY2Vob2xkZXItY29sb3IpOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAgICAgICAgfQogICAgfQoKICAgICYuc21hbGwgewogICAgICAgIGlucHV0Om5vdCguZGVmKTpub3QoW3R5cGU9c3VibWl0XSkubGFyZ2UgewogICAgICAgICAgICBoZWlnaHQ6IDQ0cHg7CiAgICAgICAgfQoKICAgICAgICBidXR0b25bdHlwZT0ic3VibWl0Il0gewogICAgICAgICAgICB0b3A6IDA7CiAgICAgICAgICAgIHJpZ2h0OiAwOwogICAgICAgIH0KCiAgICAgICAgJi5leHBhbmRhYmxlIHsKICAgICAgICAgICAgd2lkdGg6IDQ0cHg7CgogICAgICAgICAgICBpbnB1dDpub3QoLmRlZik6bm90KFt0eXBlPXN1Ym1pdF0pLmxhcmdlIHsKICAgICAgICAgICAgICAgIGNvbG9yOiB2YXIoLS1mLXNlYXJjaC1ib3gtaW5wdXQtY29sb3IpOwogICAgICAgICAgICAgICAgYmFja2dyb3VuZC1jb2xvcjogdmFyKC0tZi1zZWFyY2gtYm94LWlucHV0LWJhY2tncm91bmQtY29sb3IpOwogICAgICAgICAgICAgICAgYm9yZGVyLWNvbG9yOiB0cmFuc3BhcmVudDsKICAgICAgICAgICAgICAgIHRyYW5zaXRpb246IGJhY2tncm91bmQtY29sb3IgJHRyYW5zaXRpb24tbGVuZ3RoIGVhc2U7CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgICY6bm90KC5leHBhbmRlZCkgewogICAgICAgICAgICAgICAgYnV0dG9uW3R5cGU9InN1Ym1pdCJdOmhvdmVyIHsKICAgICAgICAgICAgICAgICAgICBiYWNrZ3JvdW5kLWNvbG9yOiB2YXIoLS1mLXNlYXJjaC1ib3gtYnV0dG9uLWhvdmVyLWNvbG9yKSAhaW1wb3J0YW50OwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAgICAgICAgfQogICAgfQp9Cgouc2VhcmNoLWJveC1vbi1hbmltLWVuZCAuZi1zZWFyY2gtYm94LmV4cGFuZGFibGUuZXhwYW5kZWQgaW5wdXQ6bm90KC5kZWYpOm5vdChbdHlwZT1zdWJtaXRdKS5sYXJnZSB7CiAgICBwYWRkaW5nLWlubGluZS1lbmQ6IDQ4cHg7Cn0K"},{"version":3,"sources":["FSearchBox.vue"],"names":[],"mappings":";AAyZA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA","file":"FSearchBox.vue","sourceRoot":"src/components","sourcesContent":["<template>\n    <div class=\"f-search-box\" :class=\"cCssClass\" :style=\"inlineStyle\">\n        <form action=\"\" autocomplete=\"off\" @submit.prevent=\"onSubmit\">\n            <input\n                type=\"search\"\n                name=\"search\"\n                class=\"inp large w-full\"\n                :placeholder=\"$t('view_home.search_input_placeholder')\"\n                :aria-label=\"$t('view_home.search_input_placeholder')\"\n                v-model=\"searchText\"\n                @focus=\"onFocus\"\n                @blur=\"onBlur\"\n            >\n            <button type=\"submit\" class=\"btn light large same-size round\" :class=\"{'no-hover': expandable}\" :aria-label=\"$t('view_home.search_button_label')\">\n                <icon data=\"@/assets/svg/search.svg\" width=\"20\" height=\"20\"></icon>\n            </button>\n        </form>\n\n        <f-window\n            ref=\"alertWindow\"\n            modal\n            :title=\"$t('alert')\"\n            style=\"max-width: 680px;\"\n            class=\"double-body-padding\"\n            :z-index=\"14\"\n            animation-in=\"scale-center-enter-active\"\n            animation-out=\"scale-center-leave-active\"\n        >\n            {{ $t('alerts.bad_search_string') }}\n        </f-window>\n    </div>\n</template>\n\n<script>\n    import events from \"../mixins/events.js\";\n    import { throttle } from \"../utils\";\n    import { clientInfo } from \"../utils/client-info.js\";\n    import {getTypeByStr} from \"../utils/transactions.js\";\n    import FWindow from \"./core/FWindow/FWindow.vue\";\n    import {isRTLDir} from \"@/utils/DOM.js\";\n\n    export default {\n        components: {FWindow},\n        mixins: [events],\n\n        props: {\n            /** Is search box expandable? */\n            expandable: {\n                type: Boolean,\n                default: false\n            },\n\n            /** Is search box expanded? */\n            expanded: {\n                type: Boolean,\n                default: false\n            }\n        },\n\n        data() {\n            return {\n                /** Inline style used for expand/collapse. */\n                inlineStyle: {\n                    position: '',\n                    top: '',\n                    left: '',\n                    right: '',\n                    width: '',\n                    transform: ''\n                },\n                /** Search input value. */\n                searchText: '',\n                /** Is search box expanded? */\n                dExpanded: this.expanded\n            }\n        },\n\n        watch: {\n            dExpanded() {\n                if (this.expandable) {\n                    if (this.dExpanded) {\n                        this.expand();\n                    } else {\n                        this.collapse();\n                    }\n                }\n            }\n        },\n\n        computed: {\n            /**\n             * Container's css classes.\n             */\n            cCssClass() {\n                return {\n                    'expandable': this.expandable,\n                    'expanded': this.dExpanded\n                }\n            },\n\n            /**\n             * Property is set to `true`, if 'menu-mobile' breakpoint is reached.\n             *\n             * @return {Boolean}\n             */\n            cMobileView() {\n                const menuBreakpoint = this.$store.state.breakpoints['menu-mobile'];\n\n                return (menuBreakpoint && menuBreakpoint.matches);\n            }\n        },\n\n        mounted() {\n            if (this.expandable) {\n                this.bindEvent(window, 'blur', () => {this.blurInput(true);});\n\n                if (clientInfo.mobile) {\n                    this.bindEvent(window, 'orientationchange', () => {this.blurInput(true);}, 300, true);\n                } else {\n                    this.bindEvent(window, 'resize', throttle(() => {this.blurInput(true);}, 300, true));\n                }\n            }\n        },\n\n        methods: {\n            /**\n             * Process search string.\n             *\n             * @param {string} _text\n             */\n            search(_text) {\n                const type = getTypeByStr(_text);\n                let routeName = '';\n\n                switch (type) {\n                    case 'transaction_hash':\n                        routeName = 'transaction-detail';\n                        break;\n                    case 'address':\n                        routeName = 'address-detail';\n                        break;\n                    case 'block':\n                        routeName = 'block-detail';\n                        break;\n                    default:\n                        this.$refs.alertWindow.show();\n                }\n\n                if (routeName) {\n                    this.$router.push({name: routeName, params: {id: _text}}, null, () => {});\n                }\n            },\n\n            expand() {\n                const parentElem = this.$el.parentNode;\n\n                if (!parentElem) {\n                    return;\n                }\n\n                const RTLDir = isRTLDir();\n                const inlineStyle = this.inlineStyle;\n\n                inlineStyle.position = '';\n                inlineStyle.top = '';\n                inlineStyle.left = '';\n                inlineStyle.right = '';\n\n                const winWidth = window.innerWidth;\n                const parentElemRect = parentElem.getBoundingClientRect();\n                const elRect = this.$el.getBoundingClientRect();\n                let width = 0;\n                let tx = 0;\n\n                if (RTLDir) {\n                    width = (this.cMobileView ? winWidth * 0.98 : -(elRect.right - parentElemRect.right + elRect.width));\n                    tx = (this.cMobileView ? elRect.right - winWidth * 0.01 : elRect.right - parentElemRect.right);\n                } else {\n                    width = (this.cMobileView ? winWidth * 0.98 : (elRect.left - parentElemRect.left + elRect.width));\n                    tx = (this.cMobileView ? elRect.left - winWidth * 0.01 : elRect.left - parentElemRect.left);\n                }\n                // const width = parentElemRect.width * 0.98;\n                // const tx = elRect.left - (parentElemRect.left + ((parentElemRect.width - width) / 2));\n\n                document.body.classList.add('search-box-on');\n\n                inlineStyle.position = 'fixed';\n                inlineStyle.top = `${elRect.top}px`;\n                if (RTLDir) {\n                    // inlineStyle.left = `0px`;\n                    inlineStyle.left = `${elRect.right}px`;\n                    // inlineStyle.right = `${elRect.right}px`;\n                } else {\n                    inlineStyle.left = `${elRect.left}px`;\n                }\n                inlineStyle.transform = `translateX(-${tx}px)`;\n\n                inlineStyle.width = `${width}px`;\n\n                setTimeout(() => {\n                    document.body.classList.add('search-box-on-anim-end');\n                }, 250);\n            },\n\n            collapse() {\n                const inlineStyle = this.inlineStyle;\n\n                inlineStyle.width = '';\n                inlineStyle.transform = '';\n\n                document.body.classList.remove('search-box-on-anim-end');\n\n                setTimeout(() => {\n                    document.body.classList.remove('search-box-on');\n\n                    inlineStyle.position = '';\n                    inlineStyle.top = '';\n                    inlineStyle.left = '';\n                    inlineStyle.right = '';\n                }, 250);\n            },\n\n            /**\n             * Trigger focus event on search input.\n             */\n            focusInput() {\n                const eInput = this.$el.querySelector('input');\n\n                if (eInput) {\n                    eInput.focus();\n                }\n            },\n\n            /**\n             * Trigger blur event on search input.\n             *\n             * @param {boolean} [_clear]\n             */\n            blurInput(_clear) {\n                const eInput = this.$el.querySelector('input');\n\n                if (_clear) {\n                    this.dExpanded = false;\n                    this.searchText = '';\n                }\n\n                if (eInput) {\n                    eInput.blur();\n                }\n            },\n\n            /**\n             * Triggered on form submit event.\n             */\n            onSubmit() {\n                let searchText;\n\n                if (!this.dExpanded) {\n                    this.focusInput();\n                } else {\n                    searchText = this.searchText.trim();\n\n                    if (searchText) {\n                        this.search(searchText);\n                    }\n\n                    this.searchText = '';\n                    // if (this.expandable) {\n                        this.blurInput();\n                        // this.dExpanded = false;\n                    // }\n                }\n            },\n\n            /**\n             * Triggered on search input focus event.\n             */\n            onFocus() {\n                this.dExpanded = true;\n            },\n\n            /**\n             * Triggered on search input blur event.\n             */\n            onBlur() {\n                if (this.expandable && this.dExpanded) {\n                    setTimeout(() => {\n                        this.dExpanded = false;\n                        this.searchText = '';\n                    }, 150);\n                }\n            }\n        }\n    }\n</script>\n\n<style lang=\"scss\">\n    .f-search-box {\n        --f-search-box-input-box-shadow: #{$elev3-shadow};\n        --f-search-box-input-color: #000;\n        --f-search-box-input-background-color: #{$secondary-color-lightest};\n        --f-search-box-input-placeholder-color: #{$grey-color-lighter};\n        --f-search-box-button-hover-color: #fff;\n\n        display: inline-block;\n        z-index: 4;\n\n        form {\n            display: inline-block;\n            position: relative;\n            width: 100%;\n            /*margin: 0 auto;*/\n\n            /*transition: all $transition-length ease;*/\n        }\n\n        input:not(.def):not([type=submit]).large {\n            width: 100%;\n            height: 3.5rem;\n            padding-inline-end: 48px;\n            text-align: center;\n            border-radius: 4px !important;\n            outline: none;\n            box-shadow: var(--f-search-box-input-box-shadow);\n            /*background-color: transparent;*/\n\n            &:not(:focus) {\n                border-color: transparent;\n            }\n\n            &::placeholder {\n                color: var(--f-search-box-input-placeholder-color);\n            }\n        }\n\n        button[type=\"submit\"] {\n            position: absolute;\n            top: 6px;\n            right: 6px;\n            outline: none;\n        }\n\n        button[type=\"submit\"]:focus {\n            color: $theme-color !important;\n            background-color: transparent !important;\n        }\n\n        &.expandable {\n            width: 56px;\n            transition: all $transition-length ease;\n\n            input:not(.def):not([type=submit]).large {\n                padding-inline-end: 0;\n\n                &::placeholder {\n                    color: transparent;\n                }\n            }\n\n            form {\n            }\n\n            &.expanded {\n                margin-inline-start: 0;\n\n                input:not(.def):not([type=submit]).large {\n                    /*padding-inline-end: 48px;*/\n\n                    &::placeholder {\n                        color: var(--f-search-box-input-placeholder-color);\n                    }\n                }\n            }\n        }\n\n        &.small {\n            input:not(.def):not([type=submit]).large {\n                height: 44px;\n            }\n\n            button[type=\"submit\"] {\n                top: 0;\n                right: 0;\n            }\n\n            &.expandable {\n                width: 44px;\n\n                input:not(.def):not([type=submit]).large {\n                    color: var(--f-search-box-input-color);\n                    background-color: var(--f-search-box-input-background-color);\n                    border-color: transparent;\n                    transition: background-color $transition-length ease;\n                }\n\n                &:not(.expanded) {\n                    button[type=\"submit\"]:hover {\n                        background-color: var(--f-search-box-button-hover-color) !important;\n                    }\n                }\n            }\n        }\n    }\n\n    .search-box-on-anim-end .f-search-box.expandable.expanded input:not(.def):not([type=submit]).large {\n        padding-inline-end: 48px;\n    }\n</style>\n"]}]}
{"remainingRequest":"/mnt/websites/ex.nextsmartchain.com/node_modules/vue-loader/lib/index.js??vue-loader-options!/mnt/websites/ex.nextsmartchain.com/src/components/core/FInput/FInput.vue?vue&type=script&lang=js&","dependencies":[{"path":"/mnt/websites/ex.nextsmartchain.com/src/components/core/FInput/FInput.vue","mtime":1657708592758},{"path":"/mnt/websites/ex.nextsmartchain.com/node_modules/babel-loader/lib/index.js","mtime":1655491285588},{"path":"/mnt/websites/ex.nextsmartchain.com/node_modules/cache-loader/dist/cjs.js","mtime":1655491106804},{"path":"/mnt/websites/ex.nextsmartchain.com/node_modules/vue-loader/lib/index.js","mtime":1657708714280}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CmltcG9ydCB7IGlucHV0TWl4aW4gfSBmcm9tICcuLi8uLi8uLi9taXhpbnMvaW5wdXQuanMnOwppbXBvcnQgeyBoZWxwZXJzTWl4aW4gfSBmcm9tICcuLi8uLi8uLi9taXhpbnMvaGVscGVycy5qcyc7CmltcG9ydCB7IGdldFVuaXF1ZUlkIH0gZnJvbSAnLi4vLi4vLi4vdXRpbHMnOwppbXBvcnQgeyBldmVudEJ1c01peGluIH0gZnJvbSAnLi4vLi4vLi4vbWl4aW5zL2V2ZW50LWJ1cy5qcyc7CgpleHBvcnQgZGVmYXVsdCB7CiAgICBtaXhpbnM6IFtpbnB1dE1peGluLCBoZWxwZXJzTWl4aW4sIGV2ZW50QnVzTWl4aW5dLAoKICAgIHByb3BzOiB7CiAgICAgICAgLy8gdXNlIHRleHRhcmVhIGluc3RlYWQgb2YgaW5wdXQgZWxlbWVudAogICAgICAgIGlzVGV4dGFyZWE6IHsKICAgICAgICAgICAgdHlwZTogQm9vbGVhbiwKICAgICAgICAgICAgZGVmYXVsdDogZmFsc2UsCiAgICAgICAgfSwKICAgICAgICAvLyBpbnB1dCB0eXBlCiAgICAgICAgdHlwZTogewogICAgICAgICAgICB0eXBlOiBTdHJpbmcsCiAgICAgICAgICAgIGRlZmF1bHQ6ICd0ZXh0JywKICAgICAgICB9LAogICAgICAgIC8vIGN1c3RvbSB2YWxpZGF0b3IgZnVuY3Rpb24KICAgICAgICB2YWxpZGF0b3I6IHsKICAgICAgICAgICAgdHlwZTogRnVuY3Rpb24sCiAgICAgICAgICAgIGRlZmF1bHQ6IG51bGwsCiAgICAgICAgfSwKICAgICAgICAvLyBzaXplIG9mIGlucHV0LCAnbGFyZ2UnIHwgJ3NtYWxsJwogICAgICAgIGZpZWxkU2l6ZTogewogICAgICAgICAgICB0eXBlOiBTdHJpbmcsCiAgICAgICAgICAgIGRlZmF1bHQ6ICcnLAogICAgICAgIH0sCiAgICAgICAgLy8gdmFsaWRhdGUgb24gaW5wdXQgZXZlbnQgYXMgd2VsbAogICAgICAgIHZhbGlkYXRlT25JbnB1dDogewogICAgICAgICAgICB0eXBlOiBCb29sZWFuLAogICAgICAgICAgICBkZWZhdWx0OiBmYWxzZSwKICAgICAgICB9LAogICAgfSwKCiAgICBkYXRhKCkgewogICAgICAgIHJldHVybiB7CiAgICAgICAgICAgIHZhbDogdGhpcy52YWx1ZSwKICAgICAgICAgICAgaXNJbnZhbGlkOiB0aGlzLmludmFsaWQsCiAgICAgICAgICAgIGhhc0ZvY3VzOiBmYWxzZSwKICAgICAgICAgICAgZXJybXNnc2xvdDogJ3N1ZmZpeCcsCiAgICAgICAgICAgIGFyaWFEZXNjcmliZWRCeTogbnVsbCwKICAgICAgICB9OwogICAgfSwKCiAgICBjb21wdXRlZDogewogICAgICAgIGNsYXNzZXMoKSB7CiAgICAgICAgICAgIHJldHVybiB7CiAgICAgICAgICAgICAgICAncHJlZml4LXNsb3QnOiB0aGlzLmhhc1Nsb3QoJ3ByZWZpeCcpLAogICAgICAgICAgICAgICAgJ3N1ZmZpeC1zbG90JzogdGhpcy5oYXNTbG90KCdzdWZmaXgnKSwKICAgICAgICAgICAgICAgICdib3R0b20tc2xvdCc6IHRoaXMuaGFzU2xvdCgnYm90dG9tJyksCiAgICAgICAgICAgICAgICAnaXMtdGV4dGFyZWEnOiB0aGlzLmlzVGV4dGFyZWEsCiAgICAgICAgICAgIH07CiAgICAgICAgfSwKCiAgICAgICAgaW5wQ2xhc3NlcygpIHsKICAgICAgICAgICAgcmV0dXJuIHsKICAgICAgICAgICAgICAgIGZvY3VzOiB0aGlzLmhhc0ZvY3VzLAogICAgICAgICAgICAgICAgaW52YWxpZDogdGhpcy5pc0ludmFsaWQsCiAgICAgICAgICAgICAgICBsYXJnZTogdGhpcy5maWVsZFNpemUgPT09ICdsYXJnZScsCiAgICAgICAgICAgICAgICBzbWFsbDogdGhpcy5maWVsZFNpemUgPT09ICdzbWFsbCcsCiAgICAgICAgICAgICAgICByZWFkb25seTogdGhpcy5yZWFkb25seSwKICAgICAgICAgICAgICAgIGRpc2FibGVkOiB0aGlzLmRpc2FibGVkLAogICAgICAgICAgICB9OwogICAgICAgIH0sCgogICAgICAgIGZJbnB1dFByb3BzKCkgewogICAgICAgICAgICByZXR1cm4gewogICAgICAgICAgICAgICAgLi4udGhpcy5pbnB1dFByb3BzLAogICAgICAgICAgICAgICAgbGFiZWw6IHRoaXMubGFiZWwsCiAgICAgICAgICAgICAgICBpc1RleHRhcmVhOiB0aGlzLmlzVGV4dGFyZWEsCiAgICAgICAgICAgICAgICB2YWxpZGF0b3I6IHRoaXMudmFsaWRhdG9yLAogICAgICAgICAgICAgICAgZmllbGRTaXplOiB0aGlzLmZpZWxkU2l6ZSwKICAgICAgICAgICAgICAgIHZhbGlkYXRlT25JbnB1dDogdGhpcy52YWxpZGF0ZU9uSW5wdXQsCiAgICAgICAgICAgICAgICBoaWRlSW5mb09uRXJyb3I6IHRoaXMuaGlkZUluZm9PbkVycm9yLAogICAgICAgICAgICB9OwogICAgICAgIH0sCgogICAgICAgIHNsb3RQcm9wcygpIHsKICAgICAgICAgICAgcmV0dXJuIHsKICAgICAgICAgICAgICAgIHNob3dFcnJvck1lc3NhZ2U6IHRoaXMuaXNJbnZhbGlkLAogICAgICAgICAgICAgICAgc2hvd0luZm9NZXNzYWdlOiB0aGlzLnNob3dJbmZvTWVzc2FnZSwKICAgICAgICAgICAgfTsKICAgICAgICB9LAoKICAgICAgICBzaG93SW5mb01lc3NhZ2UoKSB7CiAgICAgICAgICAgIHJldHVybiB0aGlzLmhpZGVJbmZvT25FcnJvciA/ICF0aGlzLmlzSW52YWxpZCA6IHRydWU7CiAgICAgICAgfSwKICAgIH0sCgogICAgd2F0Y2g6IHsKICAgICAgICB2YWx1ZShfdmFsKSB7CiAgICAgICAgICAgIHRoaXMudmFsID0gX3ZhbDsKICAgICAgICB9LAoKICAgICAgICBpc0ludmFsaWQoKSB7CiAgICAgICAgICAgIHRoaXMuc2V0QXJpYURlc2NyaWJlZEJ5KCk7CiAgICAgICAgfSwKICAgIH0sCgogICAgbW91bnRlZCgpIHsKICAgICAgICB0aGlzLnNldEFyaWFEZXNjcmliZWRCeSgpOwogICAgfSwKCiAgICBtZXRob2RzOiB7CiAgICAgICAgLyoqCiAgICAgICAgICogU2V0IGFyaWEtZGVzY3JpYmVkYnkgYXR0cmlidXRlIGFjY29yZGluZyB0byBgaXNJbnZhbGlkYCBwcm9wZXJ0eSBpZiBGTWVzc2FnZSBjaGlsZCBjb21wb25lbnQgZXhpc3RzLgogICAgICAgICAqLwogICAgICAgIHNldEFyaWFEZXNjcmliZWRCeSgpIHsKICAgICAgICAgICAgY29uc3QgZUlucHV0ID0gdGhpcy4kcmVmcy5pbnB1dDsKICAgICAgICAgICAgbGV0IGZNZXNzYWdlOwoKICAgICAgICAgICAgaWYgKHRoaXMuaXNJbnZhbGlkKSB7CiAgICAgICAgICAgICAgICBmTWVzc2FnZSA9IHRoaXMuZ2V0Rk1lc3NhZ2UoJ2Vycm9yJyk7CiAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICBmTWVzc2FnZSA9IHRoaXMuZ2V0Rk1lc3NhZ2UoJ2luZm8nKTsKICAgICAgICAgICAgICAgIC8vIGVJbnB1dC5zZXRDdXN0b21WYWxpZGl0eSgnJyk7CiAgICAgICAgICAgICAgICAvLyB0aGlzLmFyaWFEZXNjcmliZWRCeSA9IG51bGw7CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIGlmIChmTWVzc2FnZSkgewogICAgICAgICAgICAgICAgLy8gc2V0IGN1c3RvbSBlcnJvciBtZXNzYWdlCiAgICAgICAgICAgICAgICBpZiAodGhpcy5pc0ludmFsaWQpIHsKICAgICAgICAgICAgICAgICAgICBlSW5wdXQuc2V0Q3VzdG9tVmFsaWRpdHkoZk1lc3NhZ2UuZ2V0TWVzc2FnZSgpKTsKICAgICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAgICAgZUlucHV0LnNldEN1c3RvbVZhbGlkaXR5KCcnKTsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICBjb25zdCBpZCA9IGdldFVuaXF1ZUlkKCk7CiAgICAgICAgICAgICAgICBmTWVzc2FnZS4kZWwuaWQgPSBpZDsKICAgICAgICAgICAgICAgIHRoaXMuYXJpYURlc2NyaWJlZEJ5ID0gaWQ7CiAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICB0aGlzLmFyaWFEZXNjcmliZWRCeSA9IG51bGw7CiAgICAgICAgICAgIH0KICAgICAgICB9LAoKICAgICAgICB2YWxpZGF0ZShfc2V0RXJyb3IpIHsKICAgICAgICAgICAgaWYgKHRoaXMudmFsaWRhdG9yKSB7CiAgICAgICAgICAgICAgICB0aGlzLmlzSW52YWxpZCA9ICF0aGlzLnZhbGlkYXRvcih0aGlzLnZhbCk7CgogICAgICAgICAgICAgICAgaWYgKF9zZXRFcnJvcikgewogICAgICAgICAgICAgICAgICAgIHRoaXMuc2V0QXJpYURlc2NyaWJlZEJ5KCk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KICAgICAgICB9LAoKICAgICAgICAvKioKICAgICAgICAgKiBHZXQgRk1lc3NhZ2UgY2hpbGQgY29tcG9uZW50IGJ5IHR5cGUuCiAgICAgICAgICoKICAgICAgICAgKiBAcGFyYW0ge3N0cmluZ30gX3R5cGUKICAgICAgICAgKiBAcmV0dXJuIHtudWxsfCp8VnVlfQogICAgICAgICAqLwogICAgICAgIGdldEZNZXNzYWdlKF90eXBlKSB7CiAgICAgICAgICAgIGNvbnN0IGZNZXNzYWdlcyA9IHRoaXMuZmluZENoaWxkcmVuQnlOYW1lKCdmLW1lc3NhZ2UnKTsKICAgICAgICAgICAgbGV0IGZNZXNzYWdlID0gbnVsbDsKCiAgICAgICAgICAgIGZvciAobGV0IGkgPSAwLCBsZW4xID0gZk1lc3NhZ2VzLmxlbmd0aDsgaSA8IGxlbjE7IGkrKykgewogICAgICAgICAgICAgICAgZk1lc3NhZ2UgPSBmTWVzc2FnZXNbaV07CiAgICAgICAgICAgICAgICBpZiAoZk1lc3NhZ2UgJiYgZk1lc3NhZ2UuJHByb3BzLnR5cGUgPT09IF90eXBlKSB7CiAgICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIHJldHVybiBmTWVzc2FnZTsKICAgICAgICB9LAoKICAgICAgICAvKioKICAgICAgICAgKiBAcGFyYW0ge0V2ZW50fSBfZXZlbnQKICAgICAgICAgKi8KICAgICAgICBvbkNsaWNrKF9ldmVudCkgewogICAgICAgICAgICBpZiAoX2V2ZW50LnRhcmdldCAhPT0gdGhpcy4kcmVmcy5pbnB1dCkgewogICAgICAgICAgICAgICAgdGhpcy4kcmVmcy5pbnB1dC5mb2N1cygpOwogICAgICAgICAgICB9CiAgICAgICAgfSwKCiAgICAgICAgLyoqCiAgICAgICAgICogQHBhcmFtIHtFdmVudH0gX2V2ZW50CiAgICAgICAgICovCiAgICAgICAgb25JbnB1dChfZXZlbnQpIHsKICAgICAgICAgICAgdGhpcy52YWwgPSBfZXZlbnQudGFyZ2V0LnZhbHVlOwogICAgICAgICAgICB0aGlzLiRlbWl0KCdpbnB1dCcsIF9ldmVudC50YXJnZXQudmFsdWUpOwoKICAgICAgICAgICAgaWYgKHRoaXMudmFsaWRhdGVPbklucHV0KSB7CiAgICAgICAgICAgICAgICB0aGlzLnZhbGlkYXRlKCk7CiAgICAgICAgICAgIH0KICAgICAgICB9LAoKICAgICAgICBvbkNoYW5nZSgpIHsKICAgICAgICAgICAgdGhpcy52YWxpZGF0ZSgpOwogICAgICAgIH0sCgogICAgICAgIG9uRm9jdXMoKSB7CiAgICAgICAgICAgIHRoaXMuaGFzRm9jdXMgPSB0cnVlOwogICAgICAgIH0sCgogICAgICAgIG9uQmx1cigpIHsKICAgICAgICAgICAgdGhpcy5oYXNGb2N1cyA9IGZhbHNlOwogICAgICAgIH0sCiAgICB9LAp9Owo="},{"version":3,"sources":["FInput.vue"],"names":[],"mappings":";AA0CA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA","file":"FInput.vue","sourceRoot":"src/components/core/FInput","sourcesContent":["<template>\n    <span :id=\"id\" class=\"f-input\" :class=\"classes\" @click=\"onClick\">\n        <slot name=\"top\" v-bind=\"slotProps\">\n            <label :for=\"`${id}-f-inp`\">{{ label }}</label>\n        </slot>\n        <span class=\"inp\" :class=\"inpClasses\">\n            <slot name=\"prefix\"></slot>\n            <template v-if=\"isTextarea\">\n                <textarea\n                    :id=\"`${id}-f-inp`\"\n                    ref=\"input\"\n                    v-bind=\"inputProps\"\n                    :value=\"val\"\n                    :aria-invalid=\"isInvalid\"\n                    :aria-describedby=\"ariaDescribedBy\"\n                    @input=\"onInput\"\n                    @change=\"onChange\"\n                    @focus=\"onFocus\"\n                    @blur=\"onBlur\"\n                ></textarea>\n            </template>\n            <template v-else>\n                <input\n                    :id=\"`${id}-f-inp`\"\n                    ref=\"input\"\n                    v-bind=\"inputProps\"\n                    :value=\"val\"\n                    :aria-invalid=\"isInvalid\"\n                    :aria-describedby=\"ariaDescribedBy\"\n                    @input=\"onInput\"\n                    @change=\"onChange\"\n                    @focus=\"onFocus\"\n                    @blur=\"onBlur\"\n                />\n            </template>\n            <slot name=\"suffix\"></slot>\n        </span>\n        <slot name=\"bottom\" v-bind=\"slotProps\"></slot>\n    </span>\n</template>\n\n<script>\nimport { inputMixin } from '../../../mixins/input.js';\nimport { helpersMixin } from '../../../mixins/helpers.js';\nimport { getUniqueId } from '../../../utils';\nimport { eventBusMixin } from '../../../mixins/event-bus.js';\n\nexport default {\n    mixins: [inputMixin, helpersMixin, eventBusMixin],\n\n    props: {\n        // use textarea instead of input element\n        isTextarea: {\n            type: Boolean,\n            default: false,\n        },\n        // input type\n        type: {\n            type: String,\n            default: 'text',\n        },\n        // custom validator function\n        validator: {\n            type: Function,\n            default: null,\n        },\n        // size of input, 'large' | 'small'\n        fieldSize: {\n            type: String,\n            default: '',\n        },\n        // validate on input event as well\n        validateOnInput: {\n            type: Boolean,\n            default: false,\n        },\n    },\n\n    data() {\n        return {\n            val: this.value,\n            isInvalid: this.invalid,\n            hasFocus: false,\n            errmsgslot: 'suffix',\n            ariaDescribedBy: null,\n        };\n    },\n\n    computed: {\n        classes() {\n            return {\n                'prefix-slot': this.hasSlot('prefix'),\n                'suffix-slot': this.hasSlot('suffix'),\n                'bottom-slot': this.hasSlot('bottom'),\n                'is-textarea': this.isTextarea,\n            };\n        },\n\n        inpClasses() {\n            return {\n                focus: this.hasFocus,\n                invalid: this.isInvalid,\n                large: this.fieldSize === 'large',\n                small: this.fieldSize === 'small',\n                readonly: this.readonly,\n                disabled: this.disabled,\n            };\n        },\n\n        fInputProps() {\n            return {\n                ...this.inputProps,\n                label: this.label,\n                isTextarea: this.isTextarea,\n                validator: this.validator,\n                fieldSize: this.fieldSize,\n                validateOnInput: this.validateOnInput,\n                hideInfoOnError: this.hideInfoOnError,\n            };\n        },\n\n        slotProps() {\n            return {\n                showErrorMessage: this.isInvalid,\n                showInfoMessage: this.showInfoMessage,\n            };\n        },\n\n        showInfoMessage() {\n            return this.hideInfoOnError ? !this.isInvalid : true;\n        },\n    },\n\n    watch: {\n        value(_val) {\n            this.val = _val;\n        },\n\n        isInvalid() {\n            this.setAriaDescribedBy();\n        },\n    },\n\n    mounted() {\n        this.setAriaDescribedBy();\n    },\n\n    methods: {\n        /**\n         * Set aria-describedby attribute according to `isInvalid` property if FMessage child component exists.\n         */\n        setAriaDescribedBy() {\n            const eInput = this.$refs.input;\n            let fMessage;\n\n            if (this.isInvalid) {\n                fMessage = this.getFMessage('error');\n            } else {\n                fMessage = this.getFMessage('info');\n                // eInput.setCustomValidity('');\n                // this.ariaDescribedBy = null;\n            }\n\n            if (fMessage) {\n                // set custom error message\n                if (this.isInvalid) {\n                    eInput.setCustomValidity(fMessage.getMessage());\n                } else {\n                    eInput.setCustomValidity('');\n                }\n\n                const id = getUniqueId();\n                fMessage.$el.id = id;\n                this.ariaDescribedBy = id;\n            } else {\n                this.ariaDescribedBy = null;\n            }\n        },\n\n        validate(_setError) {\n            if (this.validator) {\n                this.isInvalid = !this.validator(this.val);\n\n                if (_setError) {\n                    this.setAriaDescribedBy();\n                }\n            }\n        },\n\n        /**\n         * Get FMessage child component by type.\n         *\n         * @param {string} _type\n         * @return {null|*|Vue}\n         */\n        getFMessage(_type) {\n            const fMessages = this.findChildrenByName('f-message');\n            let fMessage = null;\n\n            for (let i = 0, len1 = fMessages.length; i < len1; i++) {\n                fMessage = fMessages[i];\n                if (fMessage && fMessage.$props.type === _type) {\n                    break;\n                }\n            }\n\n            return fMessage;\n        },\n\n        /**\n         * @param {Event} _event\n         */\n        onClick(_event) {\n            if (_event.target !== this.$refs.input) {\n                this.$refs.input.focus();\n            }\n        },\n\n        /**\n         * @param {Event} _event\n         */\n        onInput(_event) {\n            this.val = _event.target.value;\n            this.$emit('input', _event.target.value);\n\n            if (this.validateOnInput) {\n                this.validate();\n            }\n        },\n\n        onChange() {\n            this.validate();\n        },\n\n        onFocus() {\n            this.hasFocus = true;\n        },\n\n        onBlur() {\n            this.hasFocus = false;\n        },\n    },\n};\n</script>\n\n<style lang=\"scss\">\n@import 'style';\n</style>\n"]}]}
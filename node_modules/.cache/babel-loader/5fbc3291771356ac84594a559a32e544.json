{"remainingRequest":"/mnt/websites/ex.nextsmartchain.com/node_modules/thread-loader/dist/cjs.js!/mnt/websites/ex.nextsmartchain.com/node_modules/babel-loader/lib/index.js!/mnt/websites/ex.nextsmartchain.com/node_modules/cache-loader/dist/cjs.js??ref--1-0!/mnt/websites/ex.nextsmartchain.com/node_modules/vue-loader/lib/index.js??vue-loader-options!/mnt/websites/ex.nextsmartchain.com/src/components/core/FListbox/FListbox.vue?vue&type=script&lang=js&","dependencies":[{"path":"/mnt/websites/ex.nextsmartchain.com/src/components/core/FListbox/FListbox.vue","mtime":1657708592494},{"path":"/mnt/websites/ex.nextsmartchain.com/babel.config.js","mtime":1657708595230},{"path":"/mnt/websites/ex.nextsmartchain.com/node_modules/cache-loader/dist/cjs.js","mtime":1655491106804},{"path":"/mnt/websites/ex.nextsmartchain.com/node_modules/thread-loader/dist/cjs.js","mtime":1655491285854},{"path":"/mnt/websites/ex.nextsmartchain.com/node_modules/babel-loader/lib/index.js","mtime":1655491285588},{"path":"/mnt/websites/ex.nextsmartchain.com/node_modules/cache-loader/dist/cjs.js","mtime":1655491106804},{"path":"/mnt/websites/ex.nextsmartchain.com/node_modules/vue-loader/lib/index.js","mtime":1657708714280}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuanNvbi5zdHJpbmdpZnkuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5maW5kLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LnRvLXN0cmluZy5qcyI7CmltcG9ydCB7IGhlbHBlcnNNaXhpbiB9IGZyb20gJy4uLy4uLy4uL21peGlucy9oZWxwZXJzLmpzJzsKaW1wb3J0IHsgZm9ybUlucHV0TWl4aW4gfSBmcm9tICcuLi8uLi8uLi9taXhpbnMvZm9ybS1pbnB1dC5qcyc7CmltcG9ydCB7IGNsb25lT2JqZWN0IH0gZnJvbSAnLi4vLi4vLi4vdXRpbHMnOwppbXBvcnQgeyBpc0tleSwga2V5Ym9hcmROYXZpZ2F0aW9uIH0gZnJvbSAnLi4vLi4vLi4vdXRpbHMvYXJpYS5qcyc7CmltcG9ydCB7IHNlbGVjdE1peGluIH0gZnJvbSAnLi4vLi4vLi4vbWl4aW5zL3NlbGVjdC5qcyc7CmltcG9ydCBGTGFiZWwgZnJvbSAnLi4vRkxhYmVsL0ZMYWJlbC52dWUnOwovKioKICogRkxpc3Rib3ggaXRlbS4KICogQHR5cGVkZWYge09iamVjdH0gRkxpc3Rib3hJdGVtCiAqIEBwcm9wZXJ0eSB7c3RyaW5nfSBbdmFsdWVdIFNwZWNpZmllcyB0aGUgdmFsdWUgb2YgbGlzdGJveCBpdGVtCiAqIEBwcm9wZXJ0eSB7c3RyaW5nfSBbbGFiZWxdIFNwZWNpZmllcyBhIGxhYmVsIGZvciBhbiBpdGVtCiAqIEBwcm9wZXJ0eSB7Ym9vbGVhbn0gW2Rpc2FibGVkXSBTcGVjaWZpZXMgdGhhdCBhbiBpdGVtIHNob3VsZCBiZSBkaXNhYmxlZAogKiBAcHJvcGVydHkge2Jvb2xlYW59IFtzZWxlY3RlZF0gU3BlY2lmaWVzIHRoYXQgYW4gaXRlbSBzaG91bGQgYmUgcHJlLXNlbGVjdGVkCiAqLwoKLyoqCiAqIExpc3Rib3ggY29tcG9uZW50IGNyZWF0ZWQgYWNjb3JkaW5nIHRvIFdBSS1BUklBIHJ1bGVzIGFuZCBwcmFjdGljZXMuCiAqCiAqIEBtaXhlcyBzZWxlY3RNaXhpbgogKi8KCmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAnRkxpc3Rib3gnLAogIGluaGVyaXRBdHRyczogZmFsc2UsCiAgY29tcG9uZW50czogewogICAgRkxhYmVsOiBGTGFiZWwKICB9LAogIG1peGluczogW3NlbGVjdE1peGluLCBmb3JtSW5wdXRNaXhpbiwgaGVscGVyc01peGluXSwKICBtb2RlbDogewogICAgcHJvcDogJ3ZhbHVlJywKICAgIGV2ZW50OiAnY2hhbmdlJwogIH0sCiAgcHJvcHM6IHsKICAgIC8qKgogICAgICogTGlzdGJveCdzIGl0ZW1zCiAgICAgKiBAdHlwZSB7Rkxpc3Rib3hJdGVtW119CiAgICAgKi8KICAgIGRhdGE6IHsKICAgICAgdHlwZTogQXJyYXksCiAgICAgIGRlZmF1bHQ6IGZ1bmN0aW9uIF9kZWZhdWx0KCkgewogICAgICAgIHJldHVybiBbXTsKICAgICAgfQogICAgfSwKCiAgICAvKiogSWYgYHRydWVgLCBgY29tcG9uZW50LWNoYW5nZWAgZXZlbnQgd2lsbCBiZSBmaXJlZCByaWdodCBvbiBpdGVtIGZvY3VzIChrZXlib2FyZCBtb3ZlbWVudCwgY2xpY2spICovCiAgICBzZWxlY3RJbW1lZGlhdGVseTogewogICAgICB0eXBlOiBCb29sZWFuLAogICAgICBkZWZhdWx0OiBmYWxzZQogICAgfSwKCiAgICAvKiogSWYgYHRydWVgLCBmaXJzdCBmb2N1c2FibGUgaXRlbSB3aWxsIGJlIGZvY3VzZWQgKi8KICAgIGZvY3VzSXRlbU9uRm9jdXM6IHsKICAgICAgdHlwZTogQm9vbGVhbiwKICAgICAgZGVmYXVsdDogZmFsc2UKICAgIH0sCgogICAgLyoqIElmIGB0cnVlYCwga2V5Ym9hcmQgbmF2aWdhdGlvbiB3aWxsIGJlIGNpcmN1bGFyIChsYXN0IGl0ZW0gLT4gZmlyc3QgaXRlbSwgZmlyc3QgaXRlbSAtPiBsYXN0IGl0ZW0pICovCiAgICBjaXJjdWxhck5hdmlnYXRpb246IHsKICAgICAgdHlwZTogQm9vbGVhbiwKICAgICAgZGVmYXVsdDogZmFsc2UKICAgIH0sCiAgICBob3Jpem9udGFsOiB7CiAgICAgIHR5cGU6IEJvb2xlYW4sCiAgICAgIGRlZmF1bHQ6IGZhbHNlCiAgICB9CiAgfSwKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgaXRlbXM6IFtdLAogICAgICBmb2N1c2VkSXRlbToge30sCiAgICAgIHNlbGVjdGFibGVJdGVtU2VsZWN0b3I6ICcuZmxpc3Rib3hfbGlzdF9pdGVtOm5vdChbYXJpYS1kaXNhYmxlZD0idHJ1ZSJdKScKICAgIH07CiAgfSwKICBjb21wdXRlZDogewogICAgY2xhc3NlczogZnVuY3Rpb24gY2xhc3NlcygpIHsKICAgICAgcmV0dXJuIHsKICAgICAgICAnZmxpc3Rib3gtaG9yaXpvbnRhbCc6IHRoaXMuaG9yaXpvbnRhbAogICAgICB9OwogICAgfQogIH0sCiAgd2F0Y2g6IHsKICAgIHZhbHVlOiBmdW5jdGlvbiB2YWx1ZShfdmFsKSB7CiAgICAgIHRoaXMuaW5wdXRWYWx1ZSA9IF92YWw7CgogICAgICBpZiAodGhpcy5mb2N1c2VkSXRlbS52YWx1ZSAhPT0gX3ZhbCkgewogICAgICAgIHRoaXMuZm9jdXNJdGVtKF92YWwsIGZhbHNlLCAndmFsdWUnKTsKICAgICAgfQogICAgfSwKICAgIGRhdGE6IHsKICAgICAgaGFuZGxlcjogZnVuY3Rpb24gaGFuZGxlcihfdmFsdWUsIF9vbGRWYWx1ZSkgewogICAgICAgIGlmIChKU09OLnN0cmluZ2lmeShfdmFsdWUpICE9PSBKU09OLnN0cmluZ2lmeShfb2xkVmFsdWUpKSB7CiAgICAgICAgICB0aGlzLml0ZW1zID0gdGhpcy5nZXRJdGVtcygpOwogICAgICAgIH0KICAgICAgfSwKICAgICAgZGVlcDogdHJ1ZQogICAgfSwKICAgIGl0ZW1zOiBmdW5jdGlvbiBpdGVtcygpIHsKICAgICAgdGhpcy5zZXRTZWxlY3RlZCgpOwogICAgfQogIH0sCiAgY3JlYXRlZDogZnVuY3Rpb24gY3JlYXRlZCgpIHsKICAgIHRoaXMuX2ZpcnN0S2V5dXAgPSB0cnVlOwogICAgdGhpcy5pdGVtcyA9IHRoaXMuZ2V0SXRlbXMoKTsKICB9LAogIG1ldGhvZHM6IHsKICAgIGdldEl0ZW1zOiBmdW5jdGlvbiBnZXRJdGVtcygpIHsKICAgICAgdmFyIGl0ZW1zID0gY2xvbmVPYmplY3QodGhpcy5kYXRhKTsKICAgICAgdGhpcy5zZXRJZHMoaXRlbXMpOwogICAgICByZXR1cm4gaXRlbXM7CiAgICB9LAoKICAgIC8qKgogICAgICogU2VsZWN0IGl0ZW0gYnkgYF9rZXlgLgogICAgICoKICAgICAqIEBwYXJhbSB7Kn0gX3ZhbHVlIEl0ZW0gdmFsdWUuCiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtfc2VsZWN0SXRlbV0KICAgICAqIEBwYXJhbSB7c3RyaW5nfSBbX2tleV0gTmFtZSBvZiBpdGVtIGtleS4KICAgICAqLwogICAgZm9jdXNJdGVtOiBmdW5jdGlvbiBmb2N1c0l0ZW0oX3ZhbHVlLCBfc2VsZWN0SXRlbSkgewogICAgICB2YXIgX2tleSA9IGFyZ3VtZW50cy5sZW5ndGggPiAyICYmIGFyZ3VtZW50c1syXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzJdIDogJ2lkJzsKCiAgICAgIHZhciBpdGVtOwoKICAgICAgaWYgKF92YWx1ZSAhPT0gdW5kZWZpbmVkICYmICF0aGlzLmRpc2FibGVkKSB7CiAgICAgICAgaXRlbSA9IHRoaXMuaXRlbXMuZmluZChmdW5jdGlvbiAoX2l0ZW0pIHsKICAgICAgICAgIHJldHVybiBfaXRlbVtfa2V5XSA9PT0gX3ZhbHVlOwogICAgICAgIH0pOyAvLyBpZiAoaXRlbSAmJiBpdGVtLmlkICE9PSB0aGlzLmZvY3VzZWRJdGVtLmlkKSB7CgogICAgICAgIGlmIChpdGVtICYmICFpdGVtLmRpc2FibGVkKSB7CiAgICAgICAgICBpZiAodGhpcy5zZWxlY3RJbW1lZGlhdGVseSB8fCBfc2VsZWN0SXRlbSkgewogICAgICAgICAgICB0aGlzLmVtaXRDaGFuZ2VFdmVudChjbG9uZU9iamVjdChpdGVtKSwgX3NlbGVjdEl0ZW0gPyAnY2xpY2snIDogJ2ZvY3VzJyk7CiAgICAgICAgICB9CgogICAgICAgICAgdGhpcy5mb2N1c2VkSXRlbSA9IGl0ZW07CiAgICAgICAgICB0aGlzLnNjcm9sbFRvRm9jdXNlZEl0ZW0oKTsKICAgICAgICB9CiAgICAgIH0KICAgIH0sCiAgICBmb2N1czogZnVuY3Rpb24gZm9jdXMoKSB7CiAgICAgIHZhciBlTGlzdGJveCA9IHRoaXMuJHJlZnMubGlzdGJveDsKCiAgICAgIGlmIChlTGlzdGJveCAmJiAhdGhpcy5kaXNhYmxlZCkgewogICAgICAgIGVMaXN0Ym94LmZvY3VzKCk7CiAgICAgIH0KICAgIH0sCgogICAgLyoqCiAgICAgKiBTZXQgc2VsZWN0ZWQgaXRlbS4KICAgICAqLwogICAgc2V0U2VsZWN0ZWQ6IGZ1bmN0aW9uIHNldFNlbGVjdGVkKCkgewogICAgICB2YXIgX3RoaXMgPSB0aGlzOwoKICAgICAgdmFyIHZhbHVlID0gdGhpcy52YWx1ZTsKICAgICAgdmFyIHNlbGVjdGVkSXRlbSA9IHRoaXMuaXRlbXMuZmluZChmdW5jdGlvbiAoX2l0ZW0pIHsKICAgICAgICByZXR1cm4gISFfaXRlbS5zZWxlY3RlZDsKICAgICAgfSk7CgogICAgICBpZiAoIXNlbGVjdGVkSXRlbSAmJiB2YWx1ZSkgewogICAgICAgIHNlbGVjdGVkSXRlbSA9IHRoaXMuaXRlbXMuZmluZChmdW5jdGlvbiAoX2l0ZW0pIHsKICAgICAgICAgIHJldHVybiBfaXRlbS52YWx1ZSA9PT0gdmFsdWU7CiAgICAgICAgfSk7CiAgICAgIH0KCiAgICAgIHRoaXMuZm9jdXNlZEl0ZW0gPSB7fTsKCiAgICAgIGlmIChzZWxlY3RlZEl0ZW0pIHsKICAgICAgICB0aGlzLiRuZXh0VGljayhmdW5jdGlvbiAoKSB7CiAgICAgICAgICBfdGhpcy5mb2N1c0l0ZW0oc2VsZWN0ZWRJdGVtLmlkKTsgLy8gdGhpcy5mb2N1c0l0ZW0oc2VsZWN0ZWRJdGVtLmlkLCB0cnVlKTsKCiAgICAgICAgfSk7CiAgICAgIH0KICAgIH0sCiAgICBzY3JvbGxUb0ZvY3VzZWRJdGVtOiBmdW5jdGlvbiBzY3JvbGxUb0ZvY3VzZWRJdGVtKCkgewogICAgICB2YXIgaWQgPSB0aGlzLmZvY3VzZWRJdGVtLmlkOwogICAgICB2YXIgJGVsID0gdGhpcy4kZWw7CiAgICAgIHZhciBsaXN0Ym94SGVpZ2h0ID0gJGVsLmNsaWVudEhlaWdodDsKICAgICAgdmFyIGVJdGVtOwoKICAgICAgaWYgKGlkICYmICRlbC5zY3JvbGxIZWlnaHQgPiBsaXN0Ym94SGVpZ2h0KSB7CiAgICAgICAgZUl0ZW0gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChpZCk7CgogICAgICAgIGlmIChlSXRlbSkgewogICAgICAgICAgdmFyIGxpc3Rib3hTY3JvbGxUb3AgPSAkZWwuc2Nyb2xsVG9wOwogICAgICAgICAgdmFyIGVJdGVtT2Zmc2V0VG9wID0gZUl0ZW0ub2Zmc2V0VG9wOwogICAgICAgICAgdmFyIGVJdGVtQm90dG9tID0gZUl0ZW1PZmZzZXRUb3AgKyBlSXRlbS5vZmZzZXRIZWlnaHQ7CgogICAgICAgICAgaWYgKGVJdGVtQm90dG9tID4gbGlzdGJveFNjcm9sbFRvcCArIGxpc3Rib3hIZWlnaHQpIHsKICAgICAgICAgICAgJGVsLnNjcm9sbFRvcCA9IGVJdGVtQm90dG9tIC0gbGlzdGJveEhlaWdodDsKICAgICAgICAgIH0gZWxzZSBpZiAoZUl0ZW1PZmZzZXRUb3AgPCBsaXN0Ym94U2Nyb2xsVG9wKSB7CiAgICAgICAgICAgICRlbC5zY3JvbGxUb3AgPSBlSXRlbU9mZnNldFRvcDsKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0KICAgIH0sCgogICAgLyoqCiAgICAgKiBAcGFyYW0ge0ZMaXN0Ym94SXRlbX0gX2l0ZW0KICAgICAqIEBwYXJhbSB7c3RyaW5nfSBbX3NlbGVjdGlvbkFjdGlvbl0KICAgICAqLwogICAgZW1pdENoYW5nZUV2ZW50OiBmdW5jdGlvbiBlbWl0Q2hhbmdlRXZlbnQoX2l0ZW0pIHsKICAgICAgdmFyIF9zZWxlY3Rpb25BY3Rpb24gPSBhcmd1bWVudHMubGVuZ3RoID4gMSAmJiBhcmd1bWVudHNbMV0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1sxXSA6ICdmb2N1cyc7CgogICAgICBpZiAodGhpcy5kaXNhYmxlZCkgewogICAgICAgIHJldHVybjsKICAgICAgfQoKICAgICAgdGhpcy5pbnB1dFZhbHVlID0gX2l0ZW0udmFsdWUgfHwgJyc7CiAgICAgIHRoaXMuJGVtaXQoJ2NvbXBvbmVudC1jaGFuZ2UnLCBfaXRlbSwgX3NlbGVjdGlvbkFjdGlvbik7CiAgICAgIHRoaXMuJGVtaXQoJ2NoYW5nZScsIHRoaXMuaW5wdXRWYWx1ZSk7CgogICAgICBpZiAodGhpcy52YWxpZGF0ZU9uQ2hhbmdlKSB7CiAgICAgICAgdGhpcy52YWxpZGF0ZSgpOwogICAgICB9CiAgICB9LAoKICAgIC8qKgogICAgICogRm9jdXMgZmlyc3QgZm9jdXNhYmxlIGl0ZW0uCiAgICAgKi8KICAgIGZvY3VzRmlyc3RJdGVtOiBmdW5jdGlvbiBmb2N1c0ZpcnN0SXRlbSgpIHsKICAgICAgaWYgKHRoaXMuZGlzYWJsZWQpIHsKICAgICAgICByZXR1cm47CiAgICAgIH0KCiAgICAgIHZhciBpdGVtID0gdGhpcy5pdGVtcy5maW5kKGZ1bmN0aW9uIChfaXRlbSkgewogICAgICAgIHJldHVybiAhX2l0ZW0uZGlzYWJsZWQ7CiAgICAgIH0pOwoKICAgICAgaWYgKGl0ZW0pIHsKICAgICAgICB0aGlzLmZvY3VzZWRJdGVtID0gaXRlbTsKICAgICAgfQogICAgfSwKCiAgICAvKioKICAgICAqIEBwYXJhbSB7RXZlbnR9IF9ldmVudAogICAgICovCiAgICBvbkNsaWNrOiBmdW5jdGlvbiBvbkNsaWNrKF9ldmVudCkgewogICAgICBpZiAodGhpcy5kaXNhYmxlZCkgewogICAgICAgIHJldHVybjsKICAgICAgfQoKICAgICAgdmFyIGVJdGVtID0gX2V2ZW50LnRhcmdldC5jbG9zZXN0KHRoaXMuc2VsZWN0YWJsZUl0ZW1TZWxlY3Rvcik7CgogICAgICBpZiAoZUl0ZW0pIHsKICAgICAgICB0aGlzLmZvY3VzSXRlbShlSXRlbS5pZCwgdHJ1ZSk7CiAgICAgIH0KICAgIH0sCgogICAgLyoqCiAgICAgKiBAcGFyYW0ge0tleWJvYXJkRXZlbnR9IF9ldmVudAogICAgICovCiAgICBvbktleWRvd246IGZ1bmN0aW9uIG9uS2V5ZG93bihfZXZlbnQpIHsKICAgICAgaWYgKHRoaXMuZGlzYWJsZWQpIHsKICAgICAgICByZXR1cm47CiAgICAgIH0KCiAgICAgIHZhciBlSXRlbSA9IGtleWJvYXJkTmF2aWdhdGlvbih7CiAgICAgICAgX2V2ZW50OiBfZXZlbnQsCiAgICAgICAgX3NlbGVjdG9yOiB0aGlzLnNlbGVjdGFibGVJdGVtU2VsZWN0b3IsCiAgICAgICAgX2RpcmVjdGlvbjogJ2JvdGgnLAogICAgICAgIF9jaXJjdWxhcjogdGhpcy5jaXJjdWxhck5hdmlnYXRpb24sCiAgICAgICAgX3RhcmdldDogZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQodGhpcy5mb2N1c2VkSXRlbS5pZCksCiAgICAgICAgX2ZvY3VzRWxlbTogZmFsc2UKICAgICAgfSk7CgogICAgICBpZiAoIWVJdGVtICYmICF0aGlzLmZvY3VzZWRJdGVtLmlkICYmIChpc0tleSgnQXJyb3dEb3duJywgX2V2ZW50KSB8fCBpc0tleSgnQXJyb3dVcCcsIF9ldmVudCkpKSB7CiAgICAgICAgdGhpcy5mb2N1c0ZpcnN0SXRlbSgpOwogICAgICAgIGVJdGVtID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQodGhpcy5mb2N1c2VkSXRlbS5pZCk7CiAgICAgIH0KCiAgICAgIGlmIChlSXRlbSkgewogICAgICAgIF9ldmVudC5wcmV2ZW50RGVmYXVsdCgpOwoKICAgICAgICB0aGlzLmZvY3VzSXRlbShlSXRlbS5pZCk7CiAgICAgIH0KICAgIH0sCgogICAgLyoqCiAgICAgKiBAcGFyYW0ge0tleWJvYXJkRXZlbnR9IF9ldmVudAogICAgICovCiAgICBvbktleXVwOiBmdW5jdGlvbiBvbktleXVwKF9ldmVudCkgewogICAgICBpZiAodGhpcy5kaXNhYmxlZCkgewogICAgICAgIHJldHVybjsKICAgICAgfSAvLyBpZiAoIXRoaXMuc2VsZWN0SW1tZWRpYXRlbHkgJiYgdGhpcy5mb2N1c2VkSXRlbS5pZCAmJiBpc0tleSgnRW50ZXInLCBfZXZlbnQpICYmICF0aGlzLl9maXJzdEtleXVwKSB7CgoKICAgICAgaWYgKHRoaXMuZm9jdXNlZEl0ZW0uaWQgJiYgaXNLZXkoJ0VudGVyJywgX2V2ZW50KSAmJiAhdGhpcy5fZmlyc3RLZXl1cCkgewogICAgICAgIHRoaXMuZW1pdENoYW5nZUV2ZW50KGNsb25lT2JqZWN0KHRoaXMuZm9jdXNlZEl0ZW0pLCAnZW50ZXJLZXknKTsKICAgICAgfQoKICAgICAgdGhpcy5fZmlyc3RLZXl1cCA9IGZhbHNlOwogICAgfSwKICAgIG9uRm9jdXM6IGZ1bmN0aW9uIG9uRm9jdXMoKSB7CiAgICAgIGlmICh0aGlzLmRpc2FibGVkKSB7CiAgICAgICAgcmV0dXJuOwogICAgICB9CgogICAgICB0aGlzLl9maXJzdEtleXVwID0gdHJ1ZTsKCiAgICAgIGlmICh0aGlzLmZvY3VzSXRlbU9uRm9jdXMgJiYgIXRoaXMuZm9jdXNlZEl0ZW0uaWQpIHsKICAgICAgICBpZiAodGhpcy52YWx1ZSkgewogICAgICAgICAgdGhpcy5mb2N1c0l0ZW0odGhpcy52YWx1ZSwgZmFsc2UsICd2YWx1ZScpOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICB0aGlzLmZvY3VzRmlyc3RJdGVtKCk7CiAgICAgICAgfQogICAgICB9CiAgICB9CiAgfQp9Ow=="},{"version":3,"mappings":";;;AAmDA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AACA;EACAA,gBADA;EAGAC,mBAHA;EAKAC;IAAAC;EAAA,CALA;EAOAC,mDAPA;EASAC;IACAC,aADA;IAEAC;EAFA,CATA;EAcAC;IACA;AACA;AACA;AACA;IACAC;MACAC,WADA;MAEAC,OAFA,sBAEA;QACA;MACA;IAJA,CALA;;IAWA;IACAC;MACAF,aADA;MAEAC;IAFA,CAZA;;IAgBA;IACAE;MACAH,aADA;MAEAC;IAFA,CAjBA;;IAqBA;IACAG;MACAJ,aADA;MAEAC;IAFA,CAtBA;IA0BAI;MACAL,aADA;MAEAC;IAFA;EA1BA,CAdA;EA8CAF,IA9CA,kBA8CA;IACA;MACAO,SADA;MAEAC,eAFA;MAGAC;IAHA;EAKA,CApDA;EAsDAC;IACAC,OADA,qBACA;MACA;QACA;MADA;IAGA;EALA,CAtDA;EA8DAC;IACAC,KADA,iBACAC,IADA,EACA;MACA;;MAEA;QACA;MACA;IACA,CAPA;IASAd;MACAe,OADA,mBACAC,MADA,EACAC,SADA,EACA;QACA;UACA;QACA;MACA,CALA;MAMAC;IANA,CATA;IAkBAX,KAlBA,mBAkBA;MACA;IACA;EApBA,CA9DA;EAqFAY,OArFA,qBAqFA;IACA;IACA;EACA,CAxFA;EA0FAC;IACAC,QADA,sBACA;MACA;MAEA;MAEA;IACA,CAPA;;IASA;AACA;AACA;AACA;AACA;AACA;AACA;IACAC,SAhBA,qBAgBAN,MAhBA,EAgBAO,WAhBA,EAgBA;MAAA;;MACA;;MAEA;QACAC;UAAA;QAAA,GADA,CAGA;;QACA;UACA;YACA;UACA;;UAEA;UAEA;QACA;MACA;IACA,CAjCA;IAmCAC,KAnCA,mBAmCA;MACA;;MAEA;QACAC;MACA;IACA,CAzCA;;IA2CA;AACA;AACA;IACAC,WA9CA,yBA8CA;MAAA;;MACA;MACA;QAAA;MAAA;;MAEA;QACAC;UAAA;QAAA;MACA;;MAEA;;MAEA;QACA;UACA,iCADA,CAEA;;QACA,CAHA;MAIA;IACA,CA9DA;IAgEAC,mBAhEA,iCAgEA;MACA;MACA;MACA;MACA;;MAEA;QACAC;;QACA;UACA;UACA;UACA;;UAEA;YACAC;UACA,CAFA,MAEA;YACAA;UACA;QACA;MACA;IACA,CApFA;;IAsFA;AACA;AACA;AACA;IACAC,eA1FA,2BA0FAC,KA1FA,EA0FA;MAAA;;MACA;QACA;MACA;;MAEA;MAEA;MACA;;MAEA;QACA;MACA;IACA,CAvGA;;IAyGA;AACA;AACA;IACAC,cA5GA,4BA4GA;MACA;QACA;MACA;;MAEA;QAAA;MAAA;;MAEA;QACA;MACA;IACA,CAtHA;;IAwHA;AACA;AACA;IACAC,OA3HA,mBA2HAC,MA3HA,EA2HA;MACA;QACA;MACA;;MAEA;;MAEA;QACA;MACA;IACA,CArIA;;IAuIA;AACA;AACA;IACAC,SA1IA,qBA0IAD,MA1IA,EA0IA;MACA;QACA;MACA;;MAEA;QACAA,cADA;QAEAE,sCAFA;QAGAC,kBAHA;QAIAC,kCAJA;QAKAC,qDALA;QAMAC;MANA;;MASA;QACA;QACAZ;MACA;;MAEA;QACAM;;QACA;MACA;IACA,CAjKA;;IAmKA;AACA;AACA;IACAO,OAtKA,mBAsKAP,MAtKA,EAsKA;MACA;QACA;MACA,CAHA,CAKA;;;MACA;QACA;MACA;;MAEA;IACA,CAjLA;IAmLAQ,OAnLA,qBAmLA;MACA;QACA;MACA;;MAEA;;MAEA;QACA;UACA;QACA,CAFA,MAEA;UACA;QACA;MACA;IACA;EAjMA;AA1FA","names":["name","inheritAttrs","components","FLabel","mixins","model","prop","event","props","data","type","default","selectImmediately","focusItemOnFocus","circularNavigation","horizontal","items","focusedItem","selectableItemSelector","computed","classes","watch","value","_val","handler","_value","_oldValue","deep","created","methods","getItems","focusItem","_selectItem","item","focus","eListbox","setSelected","selectedItem","scrollToFocusedItem","eItem","$el","emitChangeEvent","_item","focusFirstItem","onClick","_event","onKeydown","_selector","_direction","_circular","_target","_focusElem","onKeyup","onFocus"],"sourceRoot":"src/components/core/FListbox","sources":["FListbox.vue"],"sourcesContent":["<template>\n    <div :id=\"id\" class=\"flistbox\" :class=\"classes\">\n        <slot name=\"top\" v-bind=\"slotProps\">\n            <f-label v-if=\"label\" :id=\"labeledById\" :label=\"label\" />\n        </slot>\n        <ul\n            ref=\"listbox\"\n            role=\"listbox\"\n            class=\"flistbox_list no-markers\"\n            :tabindex=\"disabled ? -1 : 0\"\n            :aria-activedescendant=\"focusedItem.id\"\n            :aria-labelledby=\"ariaLabeledByIds\"\n            :aria-describedby=\"ariaDescribedByIds\"\n            :aria-disabled=\"disabled\"\n            :aria-invalid=\"validationState.invalid\"\n            @click=\"onClick\"\n            @mousedown.prevent\n            @keydown=\"onKeydown\"\n            @keyup=\"onKeyup\"\n            @focus=\"onFocus\"\n        >\n            <li\n                v-for=\"item in items\"\n                :id=\"item.id\"\n                :key=\"item.id\"\n                role=\"option\"\n                :aria-selected=\"item.id === focusedItem.id\"\n                :aria-disabled=\"!!item.disabled\"\n                class=\"flistbox_list_item\"\n            >\n                <slot :item=\"item\"> {{ item.label }} </slot>\n            </li>\n        </ul>\n        <slot name=\"bottom\" v-bind=\"slotProps\">\n            <div v-if=\"validationState.errors.length > 0\" :id=\"errorMsgId\" class=\"ferrormessages\">\n                <div\n                    v-for=\"(msg, idx) in validationState.errors\"\n                    :key=\"`${errorMsgId}_${idx}_err`\"\n                    class=\"ferrormessages_message\"\n                >\n                    {{ msg }}\n                </div>\n            </div>\n            <div v-else-if=\"infoText\" :id=\"infoTextId\" class=\"finfotext\">\n                {{ infoText }}\n            </div>\n        </slot>\n    </div>\n</template>\n\n<script>\nimport { helpersMixin } from '../../../mixins/helpers.js';\nimport { formInputMixin } from '../../../mixins/form-input.js';\nimport { cloneObject } from '../../../utils';\nimport { isKey, keyboardNavigation } from '../../../utils/aria.js';\nimport { selectMixin } from '../../../mixins/select.js';\nimport FLabel from '../FLabel/FLabel.vue';\n\n/**\n * FListbox item.\n * @typedef {Object} FListboxItem\n * @property {string} [value] Specifies the value of listbox item\n * @property {string} [label] Specifies a label for an item\n * @property {boolean} [disabled] Specifies that an item should be disabled\n * @property {boolean} [selected] Specifies that an item should be pre-selected\n */\n\n/**\n * Listbox component created according to WAI-ARIA rules and practices.\n *\n * @mixes selectMixin\n */\nexport default {\n    name: 'FListbox',\n\n    inheritAttrs: false,\n\n    components: { FLabel },\n\n    mixins: [selectMixin, formInputMixin, helpersMixin],\n\n    model: {\n        prop: 'value',\n        event: 'change',\n    },\n\n    props: {\n        /**\n         * Listbox's items\n         * @type {FListboxItem[]}\n         */\n        data: {\n            type: Array,\n            default() {\n                return [];\n            },\n        },\n        /** If `true`, `component-change` event will be fired right on item focus (keyboard movement, click) */\n        selectImmediately: {\n            type: Boolean,\n            default: false,\n        },\n        /** If `true`, first focusable item will be focused */\n        focusItemOnFocus: {\n            type: Boolean,\n            default: false,\n        },\n        /** If `true`, keyboard navigation will be circular (last item -> first item, first item -> last item) */\n        circularNavigation: {\n            type: Boolean,\n            default: false,\n        },\n        horizontal: {\n            type: Boolean,\n            default: false,\n        },\n    },\n\n    data() {\n        return {\n            items: [],\n            focusedItem: {},\n            selectableItemSelector: '.flistbox_list_item:not([aria-disabled=\"true\"])',\n        };\n    },\n\n    computed: {\n        classes() {\n            return {\n                'flistbox-horizontal': this.horizontal,\n            };\n        },\n    },\n\n    watch: {\n        value(_val) {\n            this.inputValue = _val;\n\n            if (this.focusedItem.value !== _val) {\n                this.focusItem(_val, false, 'value');\n            }\n        },\n\n        data: {\n            handler(_value, _oldValue) {\n                if (JSON.stringify(_value) !== JSON.stringify(_oldValue)) {\n                    this.items = this.getItems();\n                }\n            },\n            deep: true,\n        },\n\n        items() {\n            this.setSelected();\n        },\n    },\n\n    created() {\n        this._firstKeyup = true;\n        this.items = this.getItems();\n    },\n\n    methods: {\n        getItems() {\n            const items = cloneObject(this.data);\n\n            this.setIds(items);\n\n            return items;\n        },\n\n        /**\n         * Select item by `_key`.\n         *\n         * @param {*} _value Item value.\n         * @param {boolean} [_selectItem]\n         * @param {string} [_key] Name of item key.\n         */\n        focusItem(_value, _selectItem, _key = 'id') {\n            let item;\n\n            if (_value !== undefined && !this.disabled) {\n                item = this.items.find(_item => _item[_key] === _value);\n\n                // if (item && item.id !== this.focusedItem.id) {\n                if (item && !item.disabled) {\n                    if (this.selectImmediately || _selectItem) {\n                        this.emitChangeEvent(cloneObject(item), _selectItem ? 'click' : 'focus');\n                    }\n\n                    this.focusedItem = item;\n\n                    this.scrollToFocusedItem();\n                }\n            }\n        },\n\n        focus() {\n            const eListbox = this.$refs.listbox;\n\n            if (eListbox && !this.disabled) {\n                eListbox.focus();\n            }\n        },\n\n        /**\n         * Set selected item.\n         */\n        setSelected() {\n            const { value } = this;\n            let selectedItem = this.items.find(_item => !!_item.selected);\n\n            if (!selectedItem && value) {\n                selectedItem = this.items.find(_item => _item.value === value);\n            }\n\n            this.focusedItem = {};\n\n            if (selectedItem) {\n                this.$nextTick(() => {\n                    this.focusItem(selectedItem.id);\n                    // this.focusItem(selectedItem.id, true);\n                });\n            }\n        },\n\n        scrollToFocusedItem() {\n            const id = this.focusedItem.id;\n            const { $el } = this;\n            const listboxHeight = $el.clientHeight;\n            let eItem;\n\n            if (id && $el.scrollHeight > listboxHeight) {\n                eItem = document.getElementById(id);\n                if (eItem) {\n                    const listboxScrollTop = $el.scrollTop;\n                    const eItemOffsetTop = eItem.offsetTop;\n                    const eItemBottom = eItemOffsetTop + eItem.offsetHeight;\n\n                    if (eItemBottom > listboxScrollTop + listboxHeight) {\n                        $el.scrollTop = eItemBottom - listboxHeight;\n                    } else if (eItemOffsetTop < listboxScrollTop) {\n                        $el.scrollTop = eItemOffsetTop;\n                    }\n                }\n            }\n        },\n\n        /**\n         * @param {FListboxItem} _item\n         * @param {string} [_selectionAction]\n         */\n        emitChangeEvent(_item, _selectionAction = 'focus') {\n            if (this.disabled) {\n                return;\n            }\n\n            this.inputValue = _item.value || '';\n\n            this.$emit('component-change', _item, _selectionAction);\n            this.$emit('change', this.inputValue);\n\n            if (this.validateOnChange) {\n                this.validate();\n            }\n        },\n\n        /**\n         * Focus first focusable item.\n         */\n        focusFirstItem() {\n            if (this.disabled) {\n                return;\n            }\n\n            const item = this.items.find(_item => !_item.disabled);\n\n            if (item) {\n                this.focusedItem = item;\n            }\n        },\n\n        /**\n         * @param {Event} _event\n         */\n        onClick(_event) {\n            if (this.disabled) {\n                return;\n            }\n\n            const eItem = _event.target.closest(this.selectableItemSelector);\n\n            if (eItem) {\n                this.focusItem(eItem.id, true);\n            }\n        },\n\n        /**\n         * @param {KeyboardEvent} _event\n         */\n        onKeydown(_event) {\n            if (this.disabled) {\n                return;\n            }\n\n            let eItem = keyboardNavigation({\n                _event,\n                _selector: this.selectableItemSelector,\n                _direction: 'both',\n                _circular: this.circularNavigation,\n                _target: document.getElementById(this.focusedItem.id),\n                _focusElem: false,\n            });\n\n            if (!eItem && !this.focusedItem.id && (isKey('ArrowDown', _event) || isKey('ArrowUp', _event))) {\n                this.focusFirstItem();\n                eItem = document.getElementById(this.focusedItem.id);\n            }\n\n            if (eItem) {\n                _event.preventDefault();\n                this.focusItem(eItem.id);\n            }\n        },\n\n        /**\n         * @param {KeyboardEvent} _event\n         */\n        onKeyup(_event) {\n            if (this.disabled) {\n                return;\n            }\n\n            // if (!this.selectImmediately && this.focusedItem.id && isKey('Enter', _event) && !this._firstKeyup) {\n            if (this.focusedItem.id && isKey('Enter', _event) && !this._firstKeyup) {\n                this.emitChangeEvent(cloneObject(this.focusedItem), 'enterKey');\n            }\n\n            this._firstKeyup = false;\n        },\n\n        onFocus() {\n            if (this.disabled) {\n                return;\n            }\n\n            this._firstKeyup = true;\n\n            if (this.focusItemOnFocus && !this.focusedItem.id) {\n                if (this.value) {\n                    this.focusItem(this.value, false, 'value');\n                } else {\n                    this.focusFirstItem();\n                }\n            }\n        },\n    },\n};\n</script>\n\n<style lang=\"scss\">\n@import \"style\";\n</style>\n"]}]}
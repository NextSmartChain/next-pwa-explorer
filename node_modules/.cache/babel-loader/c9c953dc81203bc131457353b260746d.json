{"remainingRequest":"/mnt/websites/ex.nextsmartchain.com/node_modules/thread-loader/dist/cjs.js!/mnt/websites/ex.nextsmartchain.com/node_modules/babel-loader/lib/index.js!/mnt/websites/ex.nextsmartchain.com/node_modules/cache-loader/dist/cjs.js??ref--1-0!/mnt/websites/ex.nextsmartchain.com/node_modules/vue-loader/lib/index.js??vue-loader-options!/mnt/websites/ex.nextsmartchain.com/src/layouts/FBlockDetail.vue?vue&type=script&lang=js&","dependencies":[{"path":"/mnt/websites/ex.nextsmartchain.com/src/layouts/FBlockDetail.vue","mtime":1657708591250},{"path":"/mnt/websites/ex.nextsmartchain.com/babel.config.js","mtime":1657708595230},{"path":"/mnt/websites/ex.nextsmartchain.com/node_modules/cache-loader/dist/cjs.js","mtime":1655491106804},{"path":"/mnt/websites/ex.nextsmartchain.com/node_modules/thread-loader/dist/cjs.js","mtime":1655491285854},{"path":"/mnt/websites/ex.nextsmartchain.com/node_modules/babel-loader/lib/index.js","mtime":1655491285588},{"path":"/mnt/websites/ex.nextsmartchain.com/node_modules/cache-loader/dist/cjs.js","mtime":1655491106804},{"path":"/mnt/websites/ex.nextsmartchain.com/node_modules/vue-loader/lib/index.js","mtime":1657708714280}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF90YWdnZWRUZW1wbGF0ZUxpdGVyYWwgZnJvbSAiL21udC93ZWJzaXRlcy9leC5uZXh0c21hcnRjaGFpbi5jb20vbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL3RhZ2dlZFRlbXBsYXRlTGl0ZXJhbC5qcyI7Cgp2YXIgX3RlbXBsYXRlT2JqZWN0OwoKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMubnVtYmVyLmNvbnN0cnVjdG9yLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LnRvLXN0cmluZy5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnJlZ2V4cC50by1zdHJpbmcuanMiOwppbXBvcnQgRkNhcmQgZnJvbSAiLi4vY29tcG9uZW50cy9jb3JlL0ZDYXJkL0ZDYXJkLnZ1ZSI7CmltcG9ydCBGVHJhbnNhY3Rpb25MaXN0IGZyb20gIi4uL2RhdGEtdGFibGVzL0ZUcmFuc2FjdGlvbkxpc3QudnVlIjsKaW1wb3J0IGdxbCBmcm9tICdncmFwaHFsLXRhZyc7CmltcG9ydCB7IFdFSVRvRlRNIH0gZnJvbSAiLi4vdXRpbHMvdHJhbnNhY3Rpb25zLmpzIjsKaW1wb3J0IHsgZm9ybWF0SGV4VG9JbnQsIHRpbWVzdGFtcFRvRGF0ZSwgZm9ybWF0RGF0ZSB9IGZyb20gIi4uL2ZpbHRlcnMuanMiOwpleHBvcnQgZGVmYXVsdCB7CiAgY29tcG9uZW50czogewogICAgRkNhcmQ6IEZDYXJkLAogICAgRlRyYW5zYWN0aW9uTGlzdDogRlRyYW5zYWN0aW9uTGlzdAogIH0sCiAgcHJvcHM6IHsKICAgIC8qKiBCbG9jayBudW1iZXIuICovCiAgICBpZDogewogICAgICB0eXBlOiBOdW1iZXIsCiAgICAgIHJlcXVpcmVkOiB0cnVlLAogICAgICBkZWZhdWx0OiAwCiAgICB9CiAgfSwKICBhcG9sbG86IHsKICAgIGJsb2NrOiB7CiAgICAgIHF1ZXJ5OiBncWwoX3RlbXBsYXRlT2JqZWN0IHx8IChfdGVtcGxhdGVPYmplY3QgPSBfdGFnZ2VkVGVtcGxhdGVMaXRlcmFsKFsiXG4gICAgICAgICAgICAgICAgICAgIHF1ZXJ5IEJsb2NrQnlOdW1iZXIoJG51bWJlcjogTG9uZykge1xuICAgICAgICAgICAgICAgICAgICAgICAgYmxvY2sgKG51bWJlcjogJG51bWJlcikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG51bWJlclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRyYW5zYWN0aW9uQ291bnRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBoYXNoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcGFyZW50IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaGFzaFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aW1lc3RhbXBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0eExpc3Qge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBoYXNoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZyb21cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdG9cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWVcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZ2FzVXNlZFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBibG9jayB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBudW1iZXJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRpbWVzdGFtcFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgIl0pKSksCiAgICAgIHZhcmlhYmxlczogZnVuY3Rpb24gdmFyaWFibGVzKCkgewogICAgICAgIHJldHVybiB7CiAgICAgICAgICBudW1iZXI6ICIweCIuY29uY2F0KHBhcnNlSW50KHRoaXMuaWQpLnRvU3RyaW5nKDE2KSkKICAgICAgICB9OwogICAgICB9LAogICAgICBlcnJvcjogZnVuY3Rpb24gZXJyb3IoX2Vycm9yKSB7CiAgICAgICAgdGhpcy5kQmxvY2tCeU51bWJlckVycm9yID0gX2Vycm9yLm1lc3NhZ2U7CiAgICAgIH0KICAgIH0KICB9LAogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBkQmxvY2tCeU51bWJlckVycm9yOiAnJywKICAgICAgZFJlY29yZHNDb3VudDogMCwKICAgICAgZFRyYW5zYWN0aW9uczogW10KICAgIH07CiAgfSwKICBjb21wdXRlZDogewogICAgY1RyYW5zYWN0aW9uSXRlbXM6IGZ1bmN0aW9uIGNUcmFuc2FjdGlvbkl0ZW1zKCkgewogICAgICB2YXIgY0Jsb2NrID0gdGhpcy5jQmxvY2s7CgogICAgICBpZiAoY0Jsb2NrKSB7CiAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIHZ1ZS9uby1zaWRlLWVmZmVjdHMtaW4tY29tcHV0ZWQtcHJvcGVydGllcwogICAgICAgIHRoaXMuZFJlY29yZHNDb3VudCA9IGNCbG9jay50cmFuc2FjdGlvbkNvdW50OwogICAgICB9CgogICAgICByZXR1cm4gewogICAgICAgIGFjdGlvbjogJ3JlcGxhY2UnLAogICAgICAgIGRhdGE6IGNCbG9jayAmJiBjQmxvY2sudHhMaXN0ID8gY0Jsb2NrLnR4TGlzdCA6IFtdCiAgICAgIH07CiAgICB9LAogICAgY0Jsb2NrOiBmdW5jdGlvbiBjQmxvY2soKSB7CiAgICAgIC8qCiAgICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5ibG9jaykgewogICAgICAgICAgICAgICAgICAgICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSB2dWUvbm8tc2lkZS1lZmZlY3RzLWluLWNvbXB1dGVkLXByb3BlcnRpZXMKICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmRUcmFuc2FjdGlvbnMgPSB0aGlzLmJsb2NrLnR4TGlzdDsKICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgKi8KICAgICAgcmV0dXJuIHRoaXMuYmxvY2sgfHwgewogICAgICAgIHBhcmVudDoge30KICAgICAgfTsKICAgIH0sCiAgICBjTG9hZGluZzogZnVuY3Rpb24gY0xvYWRpbmcoKSB7CiAgICAgIHJldHVybiB0aGlzLiRhcG9sbG8ucXVlcmllcy5ibG9jay5sb2FkaW5nOwogICAgfQogIH0sCiAgbWV0aG9kczogewogICAgV0VJVG9GVE06IFdFSVRvRlRNLAogICAgZm9ybWF0SGV4VG9JbnQ6IGZvcm1hdEhleFRvSW50LAogICAgdGltZXN0YW1wVG9EYXRlOiB0aW1lc3RhbXBUb0RhdGUsCiAgICBmb3JtYXREYXRlOiBmb3JtYXREYXRlCiAgfQp9Ow=="},{"version":3,"mappings":";;;;;;;AA0DA;AACA;AACA;AACA;AACA;AAEA;EACAA;IACAC,YADA;IAEAC;EAFA,CADA;EAMAC;IACA;IACAC;MACAC,YADA;MAEAC,cAFA;MAGAC;IAHA;EAFA,CANA;EAeAC;IACAC;MACAC,k7BADA;MAyBAC,SAzBA,uBAyBA;QACA;UACAC;QADA;MAGA,CA7BA;MA8BAC,KA9BA,iBA8BAC,MA9BA,EA8BA;QACA;MACA;IAhCA;EADA,CAfA;EAoDAC,IApDA,kBAoDA;IACA;MACAC,uBADA;MAEAC,gBAFA;MAGAC;IAHA;EAKA,CA1DA;EA4DAC;IACAC,iBADA,+BACA;MACA;;MAEA;QACA;QACA;MACA;;MAEA;QACAC,iBADA;QAEAN;MAFA;IAIA,CAbA;IAeAO,MAfA,oBAeA;MACA;AACA;AACA;AACA;AACA;AACA;MAEA;QAAAC;MAAA;IACA,CAxBA;IA0BAC,QA1BA,sBA0BA;MACA;IACA;EA5BA,CA5DA;EA2FAC;IACAC,kBADA;IAEAC,8BAFA;IAGAC,gCAHA;IAIAC;EAJA;AA3FA","names":["components","FCard","FTransactionList","props","id","type","required","default","apollo","block","query","variables","number","error","_error","data","dBlockByNumberError","dRecordsCount","dTransactions","computed","cTransactionItems","action","cBlock","parent","cLoading","methods","WEIToFTM","formatHexToInt","timestampToDate","formatDate"],"sourceRoot":"src/layouts","sources":["FBlockDetail.vue"],"sourcesContent":["<template>\n    <div class=\"f-block-detail f-data-layout\">\n        <f-card>\n            <template v-if=\"!dBlockByNumberError\">\n                <div class=\"row no-collapse\">\n                    <div class=\"col-4 f-row-label\">{{ $t('view_block_detail.block') }}</div>\n                    <div class=\"col\"><div class=\"break-word\">{{ id }}</div></div>\n                </div>\n                <div class=\"row no-collapse\">\n                    <div class=\"col-4 f-row-label\">{{ $t('view_block_detail.timestamp') }}</div>\n                    <div class=\"col\">\n                        <div v-show=\"cBlock && ('timestamp' in cBlock)\">\n                            <timeago :datetime=\"timestampToDate(cBlock.timestamp)\"></timeago>\n                            ({{ formatDate(timestampToDate(cBlock.timestamp)) }})\n                        </div>\n                    </div>\n                </div>\n                <div class=\"row no-collapse\">\n                    <div class=\"col-4 f-row-label\">{{ $t('view_block_detail.transactions') }}</div>\n                    <div class=\"col\">\n                        <div v-show=\"cBlock && ('transactionCount' in cBlock)\">\n                            <strong>{{ cBlock.transactionCount }}</strong> {{ $t('view_block_detail.transactions_in_block' )}}\n                        </div>\n                    </div>\n                </div>\n                <div class=\"row no-collapse\">\n                    <div class=\"col-4 f-row-label\">{{ $t('view_block_detail.block_hash') }}</div>\n                    <div class=\"col\">\n                        <div v-show=\"cBlock && ('hash' in cBlock)\" class=\"break-word\">{{ cBlock.hash }}</div>\n                    </div>\n                </div>\n                <div class=\"row no-collapse\">\n                    <div class=\"col-4 f-row-label\">{{ $t('view_block_detail.parent_hash') }}</div>\n                    <div class=\"col\">\n                        <div v-show=\"cBlock && cBlock.parent && ('hash' in cBlock.parent)\" class=\"break-word\">{{ cBlock.parent.hash }}</div>\n                    </div>\n                </div>\n            </template>\n\n            <template v-else>\n                <div class=\"query-error\">{{ $t('view_block_detail.block_not_found') }}</div>\n            </template>\n        </f-card>\n\n        <div class=\"f-subsection\" v-if=\"!dBlockByNumberError\">\n            <h2 class=\"h1\">{{ $t('view_block_detail.block_transactions') }} <span v-if=\"dRecordsCount\" class=\"f-records-count\">({{ dRecordsCount }})</span></h2>\n\n            <f-transaction-list\n                :items=\"cTransactionItems\"\n                :hidden-columns=\"['block']\"\n                :loading=\"cLoading\"\n                without-cursor\n            ></f-transaction-list>\n        </div>\n    </div>\n</template>\n\n<script>\n    import FCard from \"../components/core/FCard/FCard.vue\";\n    import FTransactionList from \"../data-tables/FTransactionList.vue\";\n    import gql from 'graphql-tag';\n    import { WEIToFTM } from \"../utils/transactions.js\";\n    import { formatHexToInt, timestampToDate, formatDate } from \"../filters.js\";\n\n    export default {\n        components: {\n            FCard,\n            FTransactionList\n        },\n\n        props: {\n            /** Block number. */\n            id: {\n                type: Number,\n                required: true,\n                default: 0\n            }\n        },\n\n        apollo: {\n            block: {\n                query: gql`\n                    query BlockByNumber($number: Long) {\n                        block (number: $number) {\n                            number\n                            transactionCount\n                            hash\n                            parent {\n                                hash\n                            }\n                            timestamp\n                            txList {\n                                hash\n                                from\n                                to\n                                value\n                                gasUsed\n                                block {\n                                    number\n                                    timestamp\n                                }\n                            }\n                        }\n                    }\n                `,\n                variables() {\n                    return {\n                        number: `0x${parseInt(this.id).toString(16)}`\n                    }\n                },\n                error(_error) {\n                    this.dBlockByNumberError = _error.message;\n                }\n            }\n        },\n\n        data() {\n            return {\n                dBlockByNumberError: '',\n                dRecordsCount: 0,\n                dTransactions: []\n            }\n        },\n\n        computed: {\n            cTransactionItems() {\n                const {cBlock} = this;\n\n                if (cBlock) {\n                    // eslint-disable-next-line vue/no-side-effects-in-computed-properties\n                    this.dRecordsCount = cBlock.transactionCount;\n                }\n\n                return {\n                    action: 'replace',\n                    data: (cBlock && cBlock.txList ? cBlock.txList : [])\n                };\n            },\n\n            cBlock() {\n/*\n                if (this.block) {\n                    // eslint-disable-next-line vue/no-side-effects-in-computed-properties\n                    this.dTransactions = this.block.txList;\n                }\n*/\n\n                return this.block || {parent: {}};\n            },\n\n            cLoading() {\n                return this.$apollo.queries.block.loading;\n            }\n        },\n\n        methods: {\n            WEIToFTM,\n            formatHexToInt,\n            timestampToDate,\n            formatDate\n        }\n    }\n</script>\n\n<style lang=\"scss\">\n    .f-block-detail {\n        .num-block {\n            h2 {\n                text-align: center;\n                margin-top: 16px;\n                margin-bottom: 4px;\n            }\n\n            .num {\n                text-align: center;\n                font-weight: bold;\n                font-size: $fs48;\n            }\n        }\n    }\n</style>\n"]}]}
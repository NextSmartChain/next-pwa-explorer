{"remainingRequest":"/mnt/websites/ex.nextsmartchain.com/node_modules/thread-loader/dist/cjs.js!/mnt/websites/ex.nextsmartchain.com/node_modules/babel-loader/lib/index.js!/mnt/websites/ex.nextsmartchain.com/node_modules/cache-loader/dist/cjs.js??ref--1-0!/mnt/websites/ex.nextsmartchain.com/node_modules/vue-loader/lib/index.js??vue-loader-options!/mnt/websites/ex.nextsmartchain.com/src/data-tables/AddressDelegationList.vue?vue&type=script&lang=js&","dependencies":[{"path":"/mnt/websites/ex.nextsmartchain.com/src/data-tables/AddressDelegationList.vue","mtime":1657708591770},{"path":"/mnt/websites/ex.nextsmartchain.com/babel.config.js","mtime":1657708595230},{"path":"/mnt/websites/ex.nextsmartchain.com/node_modules/cache-loader/dist/cjs.js","mtime":1655491106804},{"path":"/mnt/websites/ex.nextsmartchain.com/node_modules/thread-loader/dist/cjs.js","mtime":1655491285854},{"path":"/mnt/websites/ex.nextsmartchain.com/node_modules/babel-loader/lib/index.js","mtime":1655491285588},{"path":"/mnt/websites/ex.nextsmartchain.com/node_modules/cache-loader/dist/cjs.js","mtime":1655491106804},{"path":"/mnt/websites/ex.nextsmartchain.com/node_modules/vue-loader/lib/index.js","mtime":1657708714280}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9yZWdlbmVyYXRvclJ1bnRpbWUgZnJvbSAiL21udC93ZWJzaXRlcy9leC5uZXh0c21hcnRjaGFpbi5jb20vbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL3JlZ2VuZXJhdG9yUnVudGltZS5qcyI7CmltcG9ydCBfb2JqZWN0U3ByZWFkIGZyb20gIi9tbnQvd2Vic2l0ZXMvZXgubmV4dHNtYXJ0Y2hhaW4uY29tL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9vYmplY3RTcHJlYWQyLmpzIjsKaW1wb3J0IF9hc3luY1RvR2VuZXJhdG9yIGZyb20gIi9tbnQvd2Vic2l0ZXMvZXgubmV4dHNtYXJ0Y2hhaW4uY29tL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9hc3luY1RvR2VuZXJhdG9yLmpzIjsKaW1wb3J0IF90YWdnZWRUZW1wbGF0ZUxpdGVyYWwgZnJvbSAiL21udC93ZWJzaXRlcy9leC5uZXh0c21hcnRjaGFpbi5jb20vbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL3RhZ2dlZFRlbXBsYXRlTGl0ZXJhbC5qcyI7Cgp2YXIgX3RlbXBsYXRlT2JqZWN0LCBfdGVtcGxhdGVPYmplY3QyOwoKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMubnVtYmVyLmNvbnN0cnVjdG9yLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LnRvLXN0cmluZy5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL3dlYi5kb20tY29sbGVjdGlvbnMuZm9yLWVhY2guanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5maW5kLmpzIjsKaW1wb3J0IEZEYXRhVGFibGUgZnJvbSAnQC9jb21wb25lbnRzL2NvcmUvRkRhdGFUYWJsZS9GRGF0YVRhYmxlLnZ1ZSc7CmltcG9ydCBncWwgZnJvbSAnZ3JhcGhxbC10YWcnOwppbXBvcnQgeyBjbG9uZU9iamVjdCB9IGZyb20gJ0AvdXRpbHMnOwppbXBvcnQgeyBmb3JtYXREYXRlLCBmb3JtYXRIZXhUb0ludCwgdGltZXN0YW1wVG9EYXRlIH0gZnJvbSAnQC9maWx0ZXJzLmpzJzsKaW1wb3J0IHsgV0VJVG9GVE0gfSBmcm9tICdAL3V0aWxzL3RyYW5zYWN0aW9ucy5qcyc7CmltcG9ydCBGVG9rZW5WYWx1ZSBmcm9tICJAL2NvbXBvbmVudHMvY29yZS9GVG9rZW5WYWx1ZS9GVG9rZW5WYWx1ZS52dWUiOyAvLyBpbXBvcnQgeyBmb3JtYXRIZXhUb0ludCB9IGZyb20gJ0AvZmlsdGVycy5qcyc7CgpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogJ0FkZHJlc3NEZWxlZ2F0aW9uTGlzdCcsCiAgY29tcG9uZW50czogewogICAgRlRva2VuVmFsdWU6IEZUb2tlblZhbHVlLAogICAgRkRhdGFUYWJsZTogRkRhdGFUYWJsZQogIH0sCiAgcHJvcHM6IHsKICAgIC8qKiAqLwogICAgYWNjb3VudEFkZHJlc3M6IHsKICAgICAgdHlwZTogU3RyaW5nLAogICAgICBkZWZhdWx0OiAnJywKICAgICAgcmVxdWlyZWQ6IHRydWUKICAgIH0sCgogICAgLyoqIE51bWJlciBvZiBpdGVtcyBwZXIgcGFnZS4gKi8KICAgIGl0ZW1zUGVyUGFnZTogewogICAgICB0eXBlOiBOdW1iZXIsCiAgICAgIGRlZmF1bHQ6IDI1CiAgICB9CiAgfSwKICBhcG9sbG86IHsKICAgIGRlbGVnYXRpb25zQnlBZGRyZXNzOiB7CiAgICAgIHF1ZXJ5OiBncWwoX3RlbXBsYXRlT2JqZWN0IHx8IChfdGVtcGxhdGVPYmplY3QgPSBfdGFnZ2VkVGVtcGxhdGVMaXRlcmFsKFsiXG4gICAgICAgICAgICAgICAgcXVlcnkgRGVsZWdhdGlvbnNCeUFkZHJlc3MoJGFkZHJlc3M6IEFkZHJlc3MhLCAkY3Vyc29yOiBDdXJzb3IsICRjb3VudDogSW50ISkge1xuICAgICAgICAgICAgICAgICAgICBkZWxlZ2F0aW9uc0J5QWRkcmVzcyhhZGRyZXNzOiAkYWRkcmVzcywgY3Vyc29yOiAkY3Vyc29yLCBjb3VudDogJGNvdW50KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBwYWdlSW5mbyB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZmlyc3RcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsYXN0XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaGFzTmV4dFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGhhc1ByZXZpb3VzXG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB0b3RhbENvdW50XG4gICAgICAgICAgICAgICAgICAgICAgICBlZGdlcyB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY3Vyc29yXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVsZWdhdGlvbiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRvU3Rha2VySWRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY3JlYXRlZFRpbWVcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYW1vdW50XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlzRGVsZWdhdGlvbkxvY2tlZFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsb2NrZWRGcm9tRXBvY2hcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbG9ja2VkVW50aWxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcGVuZGluZ1Jld2FyZHMge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYW1vdW50XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAiXSkpKSwKICAgICAgdmFyaWFibGVzOiBmdW5jdGlvbiB2YXJpYWJsZXMoKSB7CiAgICAgICAgcmV0dXJuIHsKICAgICAgICAgIGFkZHJlc3M6IHRoaXMuYWNjb3VudEFkZHJlc3MsCiAgICAgICAgICBjb3VudDogdGhpcy5pdGVtc1BlclBhZ2UsCiAgICAgICAgICBjdXJzb3I6IG51bGwKICAgICAgICB9OwogICAgICB9LAogICAgICByZXN1bHQ6IGZ1bmN0aW9uIHJlc3VsdChfZGF0YSwgX2tleSkgewogICAgICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL19yZWdlbmVyYXRvclJ1bnRpbWUoKS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUoKSB7CiAgICAgICAgICB2YXIgZGF0YSwgZWRnZXMsIGksIGxlbjEsIHN0YWtlcnM7CiAgICAgICAgICByZXR1cm4gX3JlZ2VuZXJhdG9yUnVudGltZSgpLndyYXAoZnVuY3Rpb24gX2NhbGxlZSQoX2NvbnRleHQpIHsKICAgICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0LnByZXYgPSBfY29udGV4dC5uZXh0KSB7CiAgICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICAgIGlmICghKF9rZXkgPT09ICdkZWxlZ2F0aW9uc0J5QWRkcmVzcycpKSB7CiAgICAgICAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDEzOwogICAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgICBkYXRhID0gY2xvbmVPYmplY3QoX2RhdGEuZGF0YS5kZWxlZ2F0aW9uc0J5QWRkcmVzcyk7CiAgICAgICAgICAgICAgICAgIGVkZ2VzID0gZGF0YS5lZGdlczsKCiAgICAgICAgICAgICAgICAgIGlmICghKGVkZ2VzICYmIGVkZ2VzLmxlbmd0aCA+IDAgJiYgZWRnZXNbMF0uaWQgJiYgX3RoaXMuZEl0ZW1zLmxlbmd0aCA+IDApKSB7CiAgICAgICAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDU7CiAgICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5hYnJ1cHQoInJldHVybiIpOwoKICAgICAgICAgICAgICAgIGNhc2UgNToKICAgICAgICAgICAgICAgICAgX3RoaXMuaGFzTmV4dCA9IGRhdGEucGFnZUluZm8uaGFzTmV4dDsKCiAgICAgICAgICAgICAgICAgIGlmIChfdGhpcy5kSXRlbXMubGVuZ3RoID09PSAwKSB7CiAgICAgICAgICAgICAgICAgICAgX3RoaXMuZEl0ZW1zID0gZWRnZXM7CiAgICAgICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAgICAgZm9yIChpID0gMCwgbGVuMSA9IGVkZ2VzLmxlbmd0aDsgaSA8IGxlbjE7IGkrKykgewogICAgICAgICAgICAgICAgICAgICAgX3RoaXMuZEl0ZW1zLnB1c2goZWRnZXNbaV0pOwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgICAgX3RoaXMudG90YWxDb3VudCA9IGRhdGEudG90YWxDb3VudDsKCiAgICAgICAgICAgICAgICAgIF90aGlzLiRlbWl0KCdyZWNvcmRzLWNvdW50JywgZm9ybWF0SGV4VG9JbnQoX3RoaXMudG90YWxDb3VudCkpOwoKICAgICAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDExOwogICAgICAgICAgICAgICAgICByZXR1cm4gX3RoaXMuZmV0Y2hTdGFrZXJzKCk7CgogICAgICAgICAgICAgICAgY2FzZSAxMToKICAgICAgICAgICAgICAgICAgc3Rha2VycyA9IF9jb250ZXh0LnNlbnQ7CgogICAgICAgICAgICAgICAgICBpZiAoc3Rha2VycyAmJiBzdGFrZXJzLmxlbmd0aCA+IDApIHsKICAgICAgICAgICAgICAgICAgICAvLyBkYXRhLmVkZ2VzWzBdLmRlbGVnYXRpb24uX3ZhbGlkYXRvciA9ICd3ZXJ3ZXInOwogICAgICAgICAgICAgICAgICAgIGVkZ2VzLmZvckVhY2goZnVuY3Rpb24gKF9pdGVtKSB7CiAgICAgICAgICAgICAgICAgICAgICBfaXRlbS5kZWxlZ2F0aW9uID0gX29iamVjdFNwcmVhZChfb2JqZWN0U3ByZWFkKHt9LCBfaXRlbS5kZWxlZ2F0aW9uKSwge30sIHsKICAgICAgICAgICAgICAgICAgICAgICAgX3ZhbGlkYXRvcjogc3Rha2Vycy5maW5kKGZ1bmN0aW9uIChfc3Rha2VyKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIF9zdGFrZXIuaWQgPT09IF9pdGVtLmRlbGVnYXRpb24udG9TdGFrZXJJZDsKICAgICAgICAgICAgICAgICAgICAgICAgfSkKICAgICAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgY2FzZSAxMzoKICAgICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5zdG9wKCk7CiAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAgICAgICAgICB9LCBfY2FsbGVlKTsKICAgICAgICB9KSkoKTsKICAgICAgfSwKICAgICAgZXJyb3I6IGZ1bmN0aW9uIGVycm9yKF9lcnJvcikgewogICAgICAgIHRoaXMuZGVsZWdhdGlvbnNCeUFkZHJlc3NFcnJvciA9IF9lcnJvci5tZXNzYWdlOwogICAgICB9CiAgICB9CiAgfSwKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgY29sdW1uczogW3sKICAgICAgICBuYW1lOiAnY3JlYXRlZFRpbWUnLAogICAgICAgIGxhYmVsOiAnRGVsZWdhdGlvbiBUaW1lJywKICAgICAgICBpdGVtUHJvcDogJ2RlbGVnYXRpb24uY3JlYXRlZFRpbWUnLAogICAgICAgIGZvcm1hdHRlcjogZnVuY3Rpb24gZm9ybWF0dGVyKF92YWx1ZSkgewogICAgICAgICAgcmV0dXJuIGZvcm1hdERhdGUodGltZXN0YW1wVG9EYXRlKF92YWx1ZSksIHRydWUsIHRydWUpOwogICAgICAgIH0KICAgICAgfSwgewogICAgICAgIG5hbWU6ICd2YWxpZGF0b3InLAogICAgICAgIGxhYmVsOiAnVmFsaWRhdG9yJywKICAgICAgICBpdGVtUHJvcDogJ2RlbGVnYXRpb24uX3ZhbGlkYXRvcicsCiAgICAgICAgLy8gZm9ybWF0dGVyOiAoX3ZhbHVlLCBfaXRlbSkgPT4gX2l0ZW0uX3ZhbGlkYXRvciwKICAgICAgICB3aWR0aDogJzE1MHB4JwogICAgICB9LCB7CiAgICAgICAgbmFtZTogJ2Ftb3VudCcsCiAgICAgICAgbGFiZWw6ICdBbW91bnQgKE5FWFQpJywKICAgICAgICBpdGVtUHJvcDogJ2RlbGVnYXRpb24uYW1vdW50JywKICAgICAgICBmb3JtYXR0ZXI6IGZ1bmN0aW9uIGZvcm1hdHRlcihfdmFsdWUpIHsKICAgICAgICAgIHJldHVybiBXRUlUb0ZUTShfdmFsdWUpOwogICAgICAgIH0sCiAgICAgICAgd2lkdGg6ICcxNjBweCcsCiAgICAgICAgY3NzQ2xhc3M6ICdhbGlnbi1lbmQnCiAgICAgIH0sIHsKICAgICAgICBuYW1lOiAncmV3YXJkcycsCiAgICAgICAgbGFiZWw6ICdQZW5kaW5nIFJld2FyZHMgKE5FWFQpJywKICAgICAgICBpdGVtUHJvcDogJ2RlbGVnYXRpb24ucGVuZGluZ1Jld2FyZHMnLAogICAgICAgIGZvcm1hdHRlcjogZnVuY3Rpb24gZm9ybWF0dGVyKF92YWx1ZSkgewogICAgICAgICAgcmV0dXJuIF92YWx1ZSA/IFdFSVRvRlRNKF92YWx1ZS5hbW91bnQpIDogJy0nOwogICAgICAgIH0sCiAgICAgICAgd2lkdGg6ICcyMDBweCcsCiAgICAgICAgY3NzQ2xhc3M6ICdhbGlnbi1lbmQnCiAgICAgIH0sIHsKICAgICAgICBuYW1lOiAnJywKICAgICAgICBsYWJlbDogJ0V4cGlyYXRpb24gVGltZScsCiAgICAgICAgaXRlbVByb3A6ICdkZWxlZ2F0aW9uLmxvY2tlZFVudGlsJywKICAgICAgICBmb3JtYXR0ZXI6IGZ1bmN0aW9uIGZvcm1hdHRlcihfdmFsdWUpIHsKICAgICAgICAgIHJldHVybiBmb3JtYXREYXRlKHRpbWVzdGFtcFRvRGF0ZShfdmFsdWUpLCB0cnVlLCB0cnVlKSB8fCAnLSc7CiAgICAgICAgfQogICAgICB9XSwKICAgICAgZEl0ZW1zOiBbXSwKICAgICAgaGFzTmV4dDogZmFsc2UsCiAgICAgIGRlbGVnYXRpb25zQnlBZGRyZXNzRXJyb3I6ICcnLAogICAgICB0b3RhbENvdW50OiAwCiAgICB9OwogIH0sCiAgY29tcHV0ZWQ6IHsKICAgIC8qKgogICAgICogUHJvcGVydHkgaXMgc2V0IHRvIGB0cnVlYCwgaWYgJ2FjY291bnQtdHJhbnNhY3Rpb24tbGlzdC1kdC1tb2JpbGUtdmlldycgYnJlYWtwb2ludCBpcyByZWFjaGVkLgogICAgICoKICAgICAqIEByZXR1cm4ge0Jvb2xlYW59CiAgICAgKi8KICAgIG1vYmlsZVZpZXc6IGZ1bmN0aW9uIG1vYmlsZVZpZXcoKSB7CiAgICAgIHZhciBkYXRhVGFibGVCcmVha3BvaW50ID0gdGhpcy4kc3RvcmUuc3RhdGUuYnJlYWtwb2ludHNbJ3RyYW5zYWN0aW9uLWxpc3QtZHQtbW9iaWxlLXZpZXcnXTsKICAgICAgcmV0dXJuIGRhdGFUYWJsZUJyZWFrcG9pbnQgJiYgZGF0YVRhYmxlQnJlYWtwb2ludC5tYXRjaGVzOwogICAgfSwKICAgIGxvYWRpbmc6IGZ1bmN0aW9uIGxvYWRpbmcoKSB7CiAgICAgIHJldHVybiB0aGlzLiRhcG9sbG8ucXVlcmllcy5kZWxlZ2F0aW9uc0J5QWRkcmVzcy5sb2FkaW5nOwogICAgfQogIH0sCiAgd2F0Y2g6IHsKICAgIGFjY291bnRBZGRyZXNzOiBmdW5jdGlvbiBhY2NvdW50QWRkcmVzcygpIHsKICAgICAgdGhpcy5kSXRlbXMgPSBbXTsKICAgIH0KICB9LAogIG1ldGhvZHM6IHsKICAgIGZldGNoU3Rha2VyczogZnVuY3Rpb24gZmV0Y2hTdGFrZXJzKCkgewogICAgICB2YXIgX3RoaXMyID0gdGhpczsKCiAgICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL19yZWdlbmVyYXRvclJ1bnRpbWUoKS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUyKCkgewogICAgICAgIHZhciBkYXRhOwogICAgICAgIHJldHVybiBfcmVnZW5lcmF0b3JSdW50aW1lKCkud3JhcChmdW5jdGlvbiBfY2FsbGVlMiQoX2NvbnRleHQyKSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0Mi5wcmV2ID0gX2NvbnRleHQyLm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICBfY29udGV4dDIubmV4dCA9IDI7CiAgICAgICAgICAgICAgICByZXR1cm4gX3RoaXMyLiRhcG9sbG8ucXVlcnkoewogICAgICAgICAgICAgICAgICBxdWVyeTogZ3FsKF90ZW1wbGF0ZU9iamVjdDIgfHwgKF90ZW1wbGF0ZU9iamVjdDIgPSBfdGFnZ2VkVGVtcGxhdGVMaXRlcmFsKFsiXG4gICAgICAgICAgICAgICAgICAgIHF1ZXJ5IFN0YWtlcnMge1xuICAgICAgICAgICAgICAgICAgICAgICAgc3Rha2VycyB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdGFrZXJBZGRyZXNzXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc3Rha2VySW5mbyB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5hbWVcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgd2Vic2l0ZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb250YWN0XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxvZ29VcmxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAiXSkpKSwKICAgICAgICAgICAgICAgICAgZmV0Y2hQb2xpY3k6ICduZXR3b3JrLW9ubHknCiAgICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgICAgY2FzZSAyOgogICAgICAgICAgICAgICAgZGF0YSA9IF9jb250ZXh0Mi5zZW50OwogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0Mi5hYnJ1cHQoInJldHVybiIsIGRhdGEuZGF0YS5zdGFrZXJzKTsKCiAgICAgICAgICAgICAgY2FzZSA0OgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQyLnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWUyKTsKICAgICAgfSkpKCk7CiAgICB9LAogICAgZmV0Y2hNb3JlOiBmdW5jdGlvbiBmZXRjaE1vcmUoKSB7CiAgICAgIHZhciBkZWxlZ2F0aW9uc0J5QWRkcmVzcyA9IHRoaXMuZGVsZWdhdGlvbnNCeUFkZHJlc3M7CgogICAgICBpZiAoZGVsZWdhdGlvbnNCeUFkZHJlc3MgJiYgZGVsZWdhdGlvbnNCeUFkZHJlc3MucGFnZUluZm8gJiYgZGVsZWdhdGlvbnNCeUFkZHJlc3MucGFnZUluZm8uaGFzTmV4dCkgewogICAgICAgIHZhciBjdXJzb3IgPSBkZWxlZ2F0aW9uc0J5QWRkcmVzcy5wYWdlSW5mby5sYXN0OwogICAgICAgIHRoaXMuJGFwb2xsby5xdWVyaWVzLmRlbGVnYXRpb25zQnlBZGRyZXNzLmZldGNoTW9yZSh7CiAgICAgICAgICB2YXJpYWJsZXM6IHsKICAgICAgICAgICAgY3Vyc29yOiBjdXJzb3IsCiAgICAgICAgICAgIGNvdW50OiB0aGlzLml0ZW1zUGVyUGFnZQogICAgICAgICAgfSwKICAgICAgICAgIHVwZGF0ZVF1ZXJ5OiBmdW5jdGlvbiB1cGRhdGVRdWVyeShwcmV2aW91c1Jlc3VsdCwgX3JlZikgewogICAgICAgICAgICB2YXIgZmV0Y2hNb3JlUmVzdWx0ID0gX3JlZi5mZXRjaE1vcmVSZXN1bHQ7CiAgICAgICAgICAgIHJldHVybiBmZXRjaE1vcmVSZXN1bHQ7CiAgICAgICAgICB9CiAgICAgICAgfSk7CiAgICAgIH0KICAgIH0KICB9Cn07"},{"version":3,"mappings":";;;;;;;;;;;AAmFA;AACA;AACA;AACA;AACA;AACA,wE,CACA;;AAEA;EACAA,6BADA;EAGAC;IAAAC;IAAAC;EAAA,CAHA;EAKAC;IACA;IACAC;MACAC,YADA;MAEAC,WAFA;MAGAC;IAHA,CAFA;;IAOA;IACAC;MACAH,YADA;MAEAC;IAFA;EARA,CALA;EAmBAG;IACAC;MACAC,0nCADA;MA4BAC,SA5BA,uBA4BA;QACA;UACAC,4BADA;UAEAC,wBAFA;UAGAC;QAHA;MAKA,CAlCA;MAmCAC,MAnCA,kBAmCAC,KAnCA,EAmCAC,IAnCA,EAmCA;QAAA;;QAAA;UAAA;UAAA;YAAA;cAAA;gBAAA;kBAAA,MAGAA,+BAHA;oBAAA;oBAAA;kBAAA;;kBAIAC;kBAEAC,KANA,GAMAD,UANA;;kBAAA,MAQAC,mEARA;oBAAA;oBAAA;kBAAA;;kBAAA;;gBAAA;kBAYA;;kBAEA;oBACA;kBACA,CAFA,MAEA;oBACA;sBACA;oBACA;kBACA;;kBAEA;;kBACA;;kBAvBA;kBAAA,OAyBA,oBAzBA;;gBAAA;kBAyBAC,OAzBA;;kBA0BA;oBACA;oBACAD;sBACAE,mDACAA,gBADA;wBAEAC;0BAAA;wBAAA;sBAFA;oBAIA,CALA;kBAMA;;gBAlCA;gBAAA;kBAAA;cAAA;YAAA;UAAA;QAAA;MAoCA,CAvEA;MAwEAC,KAxEA,iBAwEAC,MAxEA,EAwEA;QACA;MACA;IA1EA;EADA,CAnBA;EAkGAN,IAlGA,kBAkGA;IACA;MACAO,UACA;QACA3B,mBADA;QAEA4B,wBAFA;QAGAC,kCAHA;QAIAC;UAAA;QAAA;MAJA,CADA,EAOA;QACA9B,iBADA;QAEA4B,kBAFA;QAGAC,iCAHA;QAIA;QACAE;MALA,CAPA,EAcA;QACA/B,cADA;QAEA4B,sBAFA;QAGAC,6BAHA;QAIAC;UAAA;QAAA,CAJA;QAKAC,cALA;QAMAC;MANA,CAdA,EAsBA;QACAhC,eADA;QAEA4B,+BAFA;QAGAC,qCAHA;QAIAC;UAAA;QAAA,CAJA;QAKAC,cALA;QAMAC;MANA,CAtBA,EA8BA;QACAhC,QADA;QAEA4B,wBAFA;QAGAC,kCAHA;QAIAC;UAAA;QAAA;MAJA,CA9BA,CADA;MAsCAG,UAtCA;MAuCAC,cAvCA;MAwCAC,6BAxCA;MAyCAC;IAzCA;EA2CA,CA9IA;EAgJAC;IACA;AACA;AACA;AACA;AACA;IACAC,UANA,wBAMA;MACA;MAEA;IACA,CAVA;IAYAC,OAZA,qBAYA;MACA;IACA;EAdA,CAhJA;EAiKAC;IACAnC,cADA,4BACA;MACA;IACA;EAHA,CAjKA;EAuKAoC;IACAC,YADA,0BACA;MAAA;;MAAA;QAAA;QAAA;UAAA;YAAA;cAAA;gBAAA;gBAAA,OACA;kBACA9B,khBADA;kBAeA+B;gBAfA,EADA;;cAAA;gBACAvB,IADA;gBAAA,kCAmBAA,iBAnBA;;cAAA;cAAA;gBAAA;YAAA;UAAA;QAAA;MAAA;IAoBA,CArBA;IAuBAwB,SAvBA,uBAuBA;MACA;;MAEA;QACA;QAEA;UACA/B;YACAG,cADA;YAEAD;UAFA,CADA;UAKA8B;YAAA;YACA;UACA;QAPA;MASA;IACA;EAvCA;AAvKA","names":["name","components","FTokenValue","FDataTable","props","accountAddress","type","default","required","itemsPerPage","apollo","delegationsByAddress","query","variables","address","count","cursor","result","_data","_key","data","edges","stakers","_item","_validator","error","_error","columns","label","itemProp","formatter","width","cssClass","dItems","hasNext","delegationsByAddressError","totalCount","computed","mobileView","loading","watch","methods","fetchStakers","fetchPolicy","fetchMore","updateQuery"],"sourceRoot":"src/data-tables","sources":["AddressDelegationList.vue"],"sourcesContent":["<template>\n    <div class=\"address-delegation-list-dt\">\n        <template v-if=\"!delegationsByAddressError\">\n            <f-data-table\n                :columns=\"columns\"\n                :items=\"dItems\"\n                :disable-infinite-scroll=\"!hasNext\"\n                :mobile-view=\"mobileView\"\n                :loading=\"loading\"\n                first-m-v-column-width=\"5\"\n                infinite-scroll\n                fixed-header\n                class=\"f-data-table-body-bg-color\"\n                @fetch-more=\"fetchMore\"\n            >\n                <template v-slot:column-validator=\"{ value, item, column }\">\n                    <div v-if=\"column\" class=\"row no-collapse no-vert-col-padding\">\n                        <div class=\"col-5 f-row-label\">{{ column.label }}</div>\n                        <div class=\"col break-word\">\n                            <template v-if=\"value\">\n                                {{ value.stakerInfo && value.stakerInfo.name ? value.stakerInfo.name : 'Unknown' }},\n                                {{ value.id | formatHexToInt }}\n                            </template>\n                        </div>\n                    </div>\n                    <template v-else-if=\"value\">\n                        {{ value.stakerInfo && value.stakerInfo.name ? value.stakerInfo.name : 'Unknown' }},\n                        {{ value.id | formatHexToInt }}\n                    </template>\n                </template>\n\n                <template v-slot:column-amount=\"{ value, item, column }\">\n                    <div v-if=\"column\" class=\"row no-collapse no-vert-col-padding\">\n                        <div class=\"col-5 f-row-label\">{{ column.label }}</div>\n                        <div class=\"col break-word\">\n                            <f-token-value\n                                :value=\"value\"\n                                :decimals=\"2\"\n                                :use-placeholder=\"false\"\n                                no-currency\n                            />\n                        </div>\n                    </div>\n                    <template v-else>\n                        <f-token-value\n                            :value=\"value\"\n                            :decimals=\"2\"\n                            :use-placeholder=\"false\"\n                            no-currency\n                        />\n                    </template>\n                </template>\n\n                <template v-slot:column-rewards=\"{ value, item, column }\">\n                    <div v-if=\"column\" class=\"row no-collapse no-vert-col-padding\">\n                        <div class=\"col-5 f-row-label\">{{ column.label }}</div>\n                        <div class=\"col break-word\">\n                            <f-token-value\n                                :value=\"value\"\n                                :decimals=\"2\"\n                                :use-placeholder=\"false\"\n                                no-currency\n                            />\n                        </div>\n                    </div>\n                    <template v-else>\n                        <f-token-value\n                            :value=\"value\"\n                            :decimals=\"2\"\n                            :use-placeholder=\"false\"\n                            no-currency\n                        />\n                    </template>\n                </template>\n            </f-data-table>\n        </template>\n        <template v-else>\n            <div class=\"query-error\">{{ delegationsByAddressError }}</div>\n        </template>\n    </div>\n</template>\n\n<script>\nimport FDataTable from '@/components/core/FDataTable/FDataTable.vue';\nimport gql from 'graphql-tag';\nimport { cloneObject } from '@/utils';\nimport { formatDate, formatHexToInt, timestampToDate } from '@/filters.js';\nimport { WEIToFTM } from '@/utils/transactions.js';\nimport FTokenValue from \"@/components/core/FTokenValue/FTokenValue.vue\";\n// import { formatHexToInt } from '@/filters.js';\n\nexport default {\n    name: 'AddressDelegationList',\n\n    components: {FTokenValue, FDataTable },\n\n    props: {\n        /** */\n        accountAddress: {\n            type: String,\n            default: '',\n            required: true,\n        },\n        /** Number of items per page. */\n        itemsPerPage: {\n            type: Number,\n            default: 25,\n        },\n    },\n\n    apollo: {\n        delegationsByAddress: {\n            query: gql`\n                query DelegationsByAddress($address: Address!, $cursor: Cursor, $count: Int!) {\n                    delegationsByAddress(address: $address, cursor: $cursor, count: $count) {\n                        pageInfo {\n                            first\n                            last\n                            hasNext\n                            hasPrevious\n                        }\n                        totalCount\n                        edges {\n                            cursor\n                            delegation {\n                                toStakerId\n                                createdTime\n                                amount\n                                isDelegationLocked\n                                lockedFromEpoch\n                                lockedUntil\n                                pendingRewards {\n                                    amount\n                                }\n                            }\n                        }\n                    }\n                }\n            `,\n            variables() {\n                return {\n                    address: this.accountAddress,\n                    count: this.itemsPerPage,\n                    cursor: null,\n                };\n            },\n            async result(_data, _key) {\n                let data;\n\n                if (_key === 'delegationsByAddress') {\n                    data = cloneObject(_data.data.delegationsByAddress);\n\n                    const edges = data.edges;\n\n                    if (edges && edges.length > 0 && edges[0].id && this.dItems.length > 0) {\n                        return;\n                    }\n\n                    this.hasNext = data.pageInfo.hasNext;\n\n                    if (this.dItems.length === 0) {\n                        this.dItems = edges;\n                    } else {\n                        for (let i = 0, len1 = edges.length; i < len1; i++) {\n                            this.dItems.push(edges[i]);\n                        }\n                    }\n\n                    this.totalCount = data.totalCount;\n                    this.$emit('records-count', formatHexToInt(this.totalCount));\n\n                    const stakers = await this.fetchStakers();\n                    if (stakers && stakers.length > 0) {\n                        // data.edges[0].delegation._validator = 'werwer';\n                        edges.forEach((_item) => {\n                            _item.delegation = {\n                                ..._item.delegation,\n                                _validator: stakers.find((_staker) => _staker.id === _item.delegation.toStakerId),\n                            };\n                        });\n                    }\n                }\n            },\n            error(_error) {\n                this.delegationsByAddressError = _error.message;\n            },\n        },\n    },\n\n    data() {\n        return {\n            columns: [\n                {\n                    name: 'createdTime',\n                    label: 'Delegation Time',\n                    itemProp: 'delegation.createdTime',\n                    formatter: (_value) => formatDate(timestampToDate(_value), true, true),\n                },\n                {\n                    name: 'validator',\n                    label: 'Validator',\n                    itemProp: 'delegation._validator',\n                    // formatter: (_value, _item) => _item._validator,\n                    width: '150px',\n                },\n                {\n                    name: 'amount',\n                    label: 'Amount (NEXT)',\n                    itemProp: 'delegation.amount',\n                    formatter: (_value) => WEIToFTM(_value),\n                    width: '160px',\n                    cssClass: 'align-end',\n                },\n                {\n                    name: 'rewards',\n                    label: 'Pending Rewards (NEXT)',\n                    itemProp: 'delegation.pendingRewards',\n                    formatter: (_value) => (_value ? WEIToFTM(_value.amount) : '-'),\n                    width: '200px',\n                    cssClass: 'align-end',\n                },\n                {\n                    name: '',\n                    label: 'Expiration Time',\n                    itemProp: 'delegation.lockedUntil',\n                    formatter: (_value) => formatDate(timestampToDate(_value), true, true) || '-',\n                },\n            ],\n            dItems: [],\n            hasNext: false,\n            delegationsByAddressError: '',\n            totalCount: 0,\n        };\n    },\n\n    computed: {\n        /**\n         * Property is set to `true`, if 'account-transaction-list-dt-mobile-view' breakpoint is reached.\n         *\n         * @return {Boolean}\n         */\n        mobileView() {\n            const dataTableBreakpoint = this.$store.state.breakpoints['transaction-list-dt-mobile-view'];\n\n            return dataTableBreakpoint && dataTableBreakpoint.matches;\n        },\n\n        loading() {\n            return this.$apollo.queries.delegationsByAddress.loading;\n        },\n    },\n\n    watch: {\n        accountAddress() {\n            this.dItems = [];\n        },\n    },\n\n    methods: {\n        async fetchStakers() {\n            const data = await this.$apollo.query({\n                query: gql`\n                    query Stakers {\n                        stakers {\n                            id\n                            stakerAddress\n                            stakerInfo {\n                                name\n                                website\n                                contact\n                                logoUrl\n                            }\n                        }\n                    }\n                `,\n                fetchPolicy: 'network-only',\n            });\n\n            return data.data.stakers;\n        },\n\n        fetchMore() {\n            const { delegationsByAddress } = this;\n\n            if (delegationsByAddress && delegationsByAddress.pageInfo && delegationsByAddress.pageInfo.hasNext) {\n                const cursor = delegationsByAddress.pageInfo.last;\n\n                this.$apollo.queries.delegationsByAddress.fetchMore({\n                    variables: {\n                        cursor,\n                        count: this.itemsPerPage,\n                    },\n                    updateQuery: (previousResult, { fetchMoreResult }) => {\n                        return fetchMoreResult;\n                    },\n                });\n            }\n        },\n    },\n};\n</script>\n"]}]}
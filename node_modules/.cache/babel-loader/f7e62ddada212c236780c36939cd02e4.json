{"remainingRequest":"/mnt/websites/ex.nextsmartchain.com/node_modules/thread-loader/dist/cjs.js!/mnt/websites/ex.nextsmartchain.com/node_modules/babel-loader/lib/index.js!/mnt/websites/ex.nextsmartchain.com/node_modules/cache-loader/dist/cjs.js??ref--1-0!/mnt/websites/ex.nextsmartchain.com/node_modules/vue-loader/lib/index.js??vue-loader-options!/mnt/websites/ex.nextsmartchain.com/src/data-tables/AssetList.vue?vue&type=script&lang=js&","dependencies":[{"path":"/mnt/websites/ex.nextsmartchain.com/src/data-tables/AssetList.vue","mtime":1657708591718},{"path":"/mnt/websites/ex.nextsmartchain.com/babel.config.js","mtime":1657708595230},{"path":"/mnt/websites/ex.nextsmartchain.com/node_modules/cache-loader/dist/cjs.js","mtime":1655491106804},{"path":"/mnt/websites/ex.nextsmartchain.com/node_modules/thread-loader/dist/cjs.js","mtime":1655491285854},{"path":"/mnt/websites/ex.nextsmartchain.com/node_modules/babel-loader/lib/index.js","mtime":1655491285588},{"path":"/mnt/websites/ex.nextsmartchain.com/node_modules/cache-loader/dist/cjs.js","mtime":1655491106804},{"path":"/mnt/websites/ex.nextsmartchain.com/node_modules/vue-loader/lib/index.js","mtime":1657708714280}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9yZWdlbmVyYXRvclJ1bnRpbWUgZnJvbSAiL21udC93ZWJzaXRlcy9leC5uZXh0c21hcnRjaGFpbi5jb20vbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL3JlZ2VuZXJhdG9yUnVudGltZS5qcyI7CmltcG9ydCBfYXN5bmNUb0dlbmVyYXRvciBmcm9tICIvbW50L3dlYnNpdGVzL2V4Lm5leHRzbWFydGNoYWluLmNvbS9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vYXN5bmNUb0dlbmVyYXRvci5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLm51bWJlci50by1maXhlZC5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLm9iamVjdC50by1zdHJpbmcuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5zdHJpbmcuaXRlcmF0b3IuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy93ZWIuZG9tLWNvbGxlY3Rpb25zLml0ZXJhdG9yLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZmlsdGVyLmpzIjsKaW1wb3J0IEZEYXRhVGFibGUgZnJvbSAnLi4vY29tcG9uZW50cy9jb3JlL0ZEYXRhVGFibGUvRkRhdGFUYWJsZS52dWUnOwppbXBvcnQgRkNyeXB0b1N5bWJvbCBmcm9tICcuLi9jb21wb25lbnRzL2NvcmUvRkNyeXB0b1N5bWJvbC9GQ3J5cHRvU3ltYm9sLnZ1ZSc7CmltcG9ydCB7IHN0cmluZ1NvcnQgfSBmcm9tICcuLi91dGlscy9hcnJheS1zb3J0aW5nLmpzJzsKaW1wb3J0IHsgZm9ybWF0TnVtYmVyQnlMb2NhbGUgfSBmcm9tICcuLi9maWx0ZXJzLmpzJzsKaW1wb3J0IHsgTUFYX1RPS0VOX0RFQ0lNQUxTX0lOX1RBQkxFUyB9IGZyb20gIi4uL3BsdWdpbnMvZGVmaS9kZWZpLmpzIjsKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICdBc3NldExpc3QnLAogIGNvbXBvbmVudHM6IHsKICAgIEZDcnlwdG9TeW1ib2w6IEZDcnlwdG9TeW1ib2wsCiAgICBGRGF0YVRhYmxlOiBGRGF0YVRhYmxlCiAgfSwKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgdmFyIF90aGlzID0gdGhpczsKCiAgICByZXR1cm4gewogICAgICAvKiogQHR5cGUge1tEZWZpVG9rZW5dfSAqLwogICAgICB0b2tlbnM6IFtdLAoKICAgICAgLyoqIEB0eXBlIHtEZUZpfSAqLwogICAgICAvLyBkZWZpOiB0aGlzLiRkZWZpLAogICAgICBjb2x1bW5zOiBbewogICAgICAgIG5hbWU6ICdhc3NldCcsCiAgICAgICAgbGFiZWw6IHRoaXMuJHQoJ3ZpZXdfYXNzZXRzLmFzc2V0JyksCiAgICAgICAgc29ydEZ1bmM6IGZ1bmN0aW9uIHNvcnRGdW5jKF9pdGVtUHJvcCkgewogICAgICAgICAgdmFyIF9kaXJlY3Rpb24gPSBhcmd1bWVudHMubGVuZ3RoID4gMSAmJiBhcmd1bWVudHNbMV0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1sxXSA6ICdhc2MnOwoKICAgICAgICAgIHJldHVybiBmdW5jdGlvbiAoX2EsIF9iKSB7CiAgICAgICAgICAgIHZhciBhID0gX2Euc3ltYm9sOwogICAgICAgICAgICB2YXIgYiA9IF9iLnN5bWJvbDsKICAgICAgICAgICAgcmV0dXJuIChfZGlyZWN0aW9uID09PSAnZGVzYycgPyAtMSA6IDEpICogc3RyaW5nU29ydChhLCBiKTsKICAgICAgICAgIH07CiAgICAgICAgfSwKICAgICAgICBzb3J0RGlyOiAnZGVzYycsCiAgICAgICAgd2lkdGg6ICcxNDBweCcKICAgICAgfSwgewogICAgICAgIG5hbWU6ICduYW1lJywKICAgICAgICBsYWJlbDogdGhpcy4kdCgndmlld19hc3NldHMubmFtZScpIC8vIGNzc0NsYXNzOiAnYWxpZ24tY2VudGVyJywKCiAgICAgIH0sIHsKICAgICAgICBuYW1lOiAnYWRkcmVzcycsCiAgICAgICAgbGFiZWw6IHRoaXMuJHQoJ3ZpZXdfYXNzZXRzLmhhc2gnKSAvLyBjc3NDbGFzczogJ2FsaWduLWNlbnRlcicsCgogICAgICB9LCB7CiAgICAgICAgbmFtZTogJ3ByaWNlJywKICAgICAgICBsYWJlbDogdGhpcy4kdCgndmlld19hc3NldHMucHJpY2UnKSwKICAgICAgICBmb3JtYXR0ZXI6IGZ1bmN0aW9uIGZvcm1hdHRlcihfdmFsdWUsIF9pdGVtKSB7CiAgICAgICAgICByZXR1cm4gJyQnICsgZm9ybWF0TnVtYmVyQnlMb2NhbGUoX3RoaXMuJGRlZmkuZnJvbVRva2VuVmFsdWUoX3ZhbHVlLCBfaXRlbSksIF90aGlzLiRkZWZpLmdldFRva2VuRGVjaW1hbHMoX2l0ZW0sIE1BWF9UT0tFTl9ERUNJTUFMU19JTl9UQUJMRVMpICsgMSk7CiAgICAgICAgfQogICAgICB9LCB7CiAgICAgICAgbmFtZTogJ3RvdGFsU3VwcGx5JywKICAgICAgICBsYWJlbDogdGhpcy4kdCgndmlld19hc3NldHMudG90YWxfc3VwcGx5JyksCiAgICAgICAgZm9ybWF0dGVyOiBmdW5jdGlvbiBmb3JtYXR0ZXIoX3ZhbHVlLCBfaXRlbSkgewogICAgICAgICAgcmV0dXJuIGZvcm1hdE51bWJlckJ5TG9jYWxlKF90aGlzLiRkZWZpLmZyb21Ub2tlblZhbHVlKF92YWx1ZSwgX2l0ZW0pLnRvRml4ZWQoMCksIDAgLy8gdGhpcy4kZGVmaS5nZXRUb2tlbkRlY2ltYWxzKF9pdGVtLCBNQVhfVE9LRU5fREVDSU1BTFNfSU5fVEFCTEVTKQogICAgICAgICAgKTsKICAgICAgICB9CiAgICAgIH0sIHsKICAgICAgICBuYW1lOiAnbWFya2V0Q2FwJywKICAgICAgICBsYWJlbDogdGhpcy4kdCgndmlld19hc3NldHMubWFya2V0X2NhcCcpLAogICAgICAgIGl0ZW1Qcm9wOiAndG90YWxTdXBwbHknLAogICAgICAgIGZvcm1hdHRlcjogZnVuY3Rpb24gZm9ybWF0dGVyKF92YWx1ZSwgX2l0ZW0pIHsKICAgICAgICAgIHZhciB2YWx1ZSA9IF90aGlzLiRkZWZpLmZyb21Ub2tlblZhbHVlKF92YWx1ZSwgX2l0ZW0pOwoKICAgICAgICAgIHZhciBwcmljZSA9IF90aGlzLiRkZWZpLmZyb21Ub2tlblZhbHVlKF9pdGVtLnByaWNlLCBfaXRlbSk7CgogICAgICAgICAgcmV0dXJuICckJyArIGZvcm1hdE51bWJlckJ5TG9jYWxlKCh2YWx1ZSAqIHByaWNlKS50b0ZpeGVkKDApLCAwKTsKICAgICAgICB9CiAgICAgIH0KICAgICAgLyoKICAgICAgICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgICAgICAgICBuYW1lOiAnZGVjaW1hbHMnLAogICAgICAgICAgICAgICAgICAgICAgICAgIGxhYmVsOiAnRGVjaW1hbHMnLAogICAgICAgICAgICAgICAgICAgICAgfSwKICAgICAgKi8KICAgICAgXQogICAgfTsKICB9LAogIGNyZWF0ZWQ6IGZ1bmN0aW9uIGNyZWF0ZWQoKSB7CiAgICB0aGlzLmluaXQoKTsKICB9LAogIG1ldGhvZHM6IHsKICAgIGluaXQ6IGZ1bmN0aW9uIGluaXQoKSB7CiAgICAgIHZhciBfdGhpczIgPSB0aGlzOwoKICAgICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovX3JlZ2VuZXJhdG9yUnVudGltZSgpLm1hcmsoZnVuY3Rpb24gX2NhbGxlZSgpIHsKICAgICAgICB2YXIgJGRlZmksIHJlc3VsdDsKICAgICAgICByZXR1cm4gX3JlZ2VuZXJhdG9yUnVudGltZSgpLndyYXAoZnVuY3Rpb24gX2NhbGxlZSQoX2NvbnRleHQpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQucHJldiA9IF9jb250ZXh0Lm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICAkZGVmaSA9IF90aGlzMi4kZGVmaTsKICAgICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSAzOwogICAgICAgICAgICAgICAgcmV0dXJuIFByb21pc2UuYWxsKFskZGVmaS5mZXRjaFRva2VucygpLCAkZGVmaS5pbml0KCldKTsKCiAgICAgICAgICAgICAgY2FzZSAzOgogICAgICAgICAgICAgICAgcmVzdWx0ID0gX2NvbnRleHQuc2VudDsKICAgICAgICAgICAgICAgIF90aGlzMi50b2tlbnMgPSByZXN1bHRbMF0uZmlsdGVyKGZ1bmN0aW9uIChfaXRlbSkgewogICAgICAgICAgICAgICAgICByZXR1cm4gX2l0ZW0uaXNBY3RpdmUgJiYgX2l0ZW0uc3ltYm9sICE9PSAnTkVYVCc7CiAgICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgICAgICBfdGhpczIuJGVtaXQoJ3JlY29yZHMtY291bnQnLCBfdGhpczIudG9rZW5zLmxlbmd0aCk7CgogICAgICAgICAgICAgIGNhc2UgNjoKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0LnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWUpOwogICAgICB9KSkoKTsKICAgIH0KICB9Cn07"},{"version":3,"mappings":";;;;;;;AAwDA;AACA;AACA;AACA;AACA;AAEA;EACAA,iBADA;EAGAC;IAAAC;IAAAC;EAAA,CAHA;EAKAC,IALA,kBAKA;IAAA;;IACA;MACA;MACAC,UAFA;;MAGA;MACA;MACAC,UACA;QACAN,aADA;QAEAO,mCAFA;QAGAC;UAAA;;UACA;YACA;YACA;YAEA;UACA,CALA;QAMA,CAVA;QAWAC,eAXA;QAYAC;MAZA,CADA,EAeA;QACAV,YADA;QAEAO,kCAFA,CAGA;;MAHA,CAfA,EAoBA;QACAP,eADA;QAEAO,kCAFA,CAGA;;MAHA,CApBA,EAyBA;QACAP,aADA;QAEAO,mCAFA;QAGAI;UACA,kCACA,yCADA,EAEA,qEAFA;QAIA;MARA,CAzBA,EAmCA;QACAX,mBADA;QAEAO,0CAFA;QAGAI;UACA,4BACA,oDADA,EACA,CADA,CAEA;UAFA;QAIA;MARA,CAnCA,EA6CA;QACAX,iBADA;QAEAO,wCAFA;QAGAK,uBAHA;QAIAD;UACA;;UACA;;UAEA;QACA;MATA;MAWA;AACA;AACA;AACA;AACA;AACA;MA7DA;IALA;EAqEA,CA3EA;EA6EAE,OA7EA,qBA6EA;IACA;EACA,CA/EA;EAiFAC;IACAC,IADA,kBACA;MAAA;;MAAA;QAAA;QAAA;UAAA;YAAA;cAAA;gBACAC,KADA,GACA,MADA,CACAA,KADA;gBAAA;gBAAA,OAEAC,aACAD,mBADA,EAEAA,YAFA,EAFA;;cAAA;gBAEAE,MAFA;gBAOA;kBAAA;gBAAA;;gBAEA;;cATA;cAAA;gBAAA;YAAA;UAAA;QAAA;MAAA;IAUA;EAXA;AAjFA","names":["name","components","FCryptoSymbol","FDataTable","data","tokens","columns","label","sortFunc","sortDir","width","formatter","itemProp","created","methods","init","$defi","Promise","result"],"sourceRoot":"src/data-tables","sources":["AssetList.vue"],"sourcesContent":["<template>\n    <div class=\"address-asset-list-dt\">\n        <f-data-table\n            :columns=\"columns\"\n            :items=\"tokens\"\n            first-m-v-column-width=\"6\"\n            class=\"f-data-table-body-bg-color\"\n        >\n            <template v-slot:column-asset=\"{ value, item, column }\">\n                <div v-if=\"column\" class=\"row no-collapse no-vert-col-padding\">\n                    <div class=\"col-6 f-row-label\">{{ column.label }}</div>\n                    <div class=\"col break-word\">\n                        <f-crypto-symbol :token=\"item\" />\n                    </div>\n                </div>\n                <template v-else>\n                    <f-crypto-symbol :token=\"item\" />\n                </template>\n            </template>\n\n            <template v-slot:column-name=\"{ value, item, column }\">\n                <div v-if=\"column\" class=\"row no-collapse no-vert-col-padding\">\n                    <div class=\"col-5 f-row-label\">{{ column.label }}</div>\n                    <div class=\"col\">\n                        <router-link :to=\"{name: 'asset-detail', params: {address: item.address}}\" :title=\"value\">\n                            {{ value }}\n                        </router-link>\n                    </div>\n                </div>\n                <template v-else>\n                    <router-link :to=\"{name: 'asset-detail', params: {address: item.address}}\" :title=\"value\">\n                        {{ value }}\n                    </router-link>\n                </template>\n            </template>\n\n            <template v-slot:column-address=\"{ value, item, column }\">\n                <div v-if=\"column\" class=\"row no-collapse no-vert-col-padding\">\n                    <div class=\"col-5 f-row-label\">{{ column.label }}</div>\n                    <div class=\"col\">\n                        <router-link :to=\"{name: 'asset-detail', params: {address: item.address}}\" :title=\"value\">\n                            {{ item.address | formatHash }}\n                        </router-link>\n                    </div>\n                </div>\n                <template v-else>\n                    <router-link :to=\"{name: 'asset-detail', params: {address: item.address}}\" :title=\"value\">\n                        {{ item.address | formatHash }}\n                    </router-link>\n                </template>\n            </template>\n        </f-data-table>\n    </div>\n</template>\n\n<script>\nimport FDataTable from '../components/core/FDataTable/FDataTable.vue';\nimport FCryptoSymbol from '../components/core/FCryptoSymbol/FCryptoSymbol.vue';\nimport { stringSort } from '../utils/array-sorting.js';\nimport { formatNumberByLocale } from '../filters.js';\nimport {MAX_TOKEN_DECIMALS_IN_TABLES} from \"../plugins/defi/defi.js\";\n\nexport default {\n    name: 'AssetList',\n\n    components: { FCryptoSymbol, FDataTable },\n\n    data() {\n        return {\n            /** @type {[DefiToken]} */\n            tokens: [],\n            /** @type {DeFi} */\n            // defi: this.$defi,\n            columns: [\n                {\n                    name: 'asset',\n                    label: this.$t('view_assets.asset'),\n                    sortFunc: (_itemProp, _direction = 'asc') => {\n                        return (_a, _b) => {\n                            const a = _a.symbol;\n                            const b = _b.symbol;\n\n                            return (_direction === 'desc' ? -1 : 1) * stringSort(a, b);\n                        };\n                    },\n                    sortDir: 'desc',\n                    width: '140px',\n                },\n                {\n                    name: 'name',\n                    label: this.$t('view_assets.name'),\n                    // cssClass: 'align-center',\n                },\n                {\n                    name: 'address',\n                    label: this.$t('view_assets.hash'),\n                    // cssClass: 'align-center',\n                },\n                {\n                    name: 'price',\n                    label: this.$t('view_assets.price'),\n                    formatter: (_value, _item) => {\n                        return '$' + formatNumberByLocale(\n                            this.$defi.fromTokenValue(_value, _item),\n                            this.$defi.getTokenDecimals(_item, MAX_TOKEN_DECIMALS_IN_TABLES) + 1\n                        );\n                    },\n                },\n                {\n                    name: 'totalSupply',\n                    label: this.$t('view_assets.total_supply'),\n                    formatter: (_value, _item) => {\n                        return formatNumberByLocale(\n                            this.$defi.fromTokenValue(_value, _item).toFixed(0), 0\n                            // this.$defi.getTokenDecimals(_item, MAX_TOKEN_DECIMALS_IN_TABLES)\n                        );\n                    },\n                },\n                {\n                    name: 'marketCap',\n                    label: this.$t('view_assets.market_cap'),\n                    itemProp: 'totalSupply',\n                    formatter: (_value, _item) => {\n                        const value = this.$defi.fromTokenValue(_value, _item);\n                        const price = this.$defi.fromTokenValue(_item.price, _item);\n\n                        return '$' + formatNumberByLocale((value * price).toFixed(0), 0);\n                    },\n                },\n/*\n                {\n                    name: 'decimals',\n                    label: 'Decimals',\n                },\n*/\n            ],\n        };\n    },\n\n    created() {\n        this.init();\n    },\n\n    methods: {\n        async init() {\n            const { $defi } = this;\n            const result = await Promise.all([\n                $defi.fetchTokens(),\n                $defi.init(),\n            ]);\n\n            this.tokens = result[0].filter((_item) => _item.isActive && _item.symbol !== 'NEXT');\n\n            this.$emit('records-count', this.tokens.length);\n        },\n    },\n};\n</script>\n"]}]}
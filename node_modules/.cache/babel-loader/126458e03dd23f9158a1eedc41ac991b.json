{"remainingRequest":"/mnt/websites/ex.nextsmartchain.com/node_modules/thread-loader/dist/cjs.js!/mnt/websites/ex.nextsmartchain.com/node_modules/babel-loader/lib/index.js!/mnt/websites/ex.nextsmartchain.com/node_modules/eslint-loader/index.js??ref--14-0!/mnt/websites/ex.nextsmartchain.com/src/utils/DOM.js","dependencies":[{"path":"/mnt/websites/ex.nextsmartchain.com/src/utils/DOM.js","mtime":1657708590290},{"path":"/mnt/websites/ex.nextsmartchain.com/babel.config.js","mtime":1657708595230},{"path":"/mnt/websites/ex.nextsmartchain.com/node_modules/cache-loader/dist/cjs.js","mtime":1655491106804},{"path":"/mnt/websites/ex.nextsmartchain.com/node_modules/thread-loader/dist/cjs.js","mtime":1655491285854},{"path":"/mnt/websites/ex.nextsmartchain.com/node_modules/babel-loader/lib/index.js","mtime":1655491285588},{"path":"/mnt/websites/ex.nextsmartchain.com/node_modules/eslint-loader/index.js","mtime":1655491290241}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3RyaW5nLnRyaW0uanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5vYmplY3QudG8tc3RyaW5nLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvd2ViLmRvbS1jb2xsZWN0aW9ucy5mb3ItZWFjaC5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LmNvbmNhdC5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LmpvaW4uanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5yZWdleHAuZXhlYy5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmVycm9yLmNhdXNlLmpzIjsKaW1wb3J0IHsgZGVlcEV4dGVuZCB9IGZyb20gJy4vaW5kZXguanMnOwp2YXIgYWxpZ25tZW50UkUgPSAvXHMqKFtsY3JtXVt0Y2JtXSlccysoW2xjcm1dW3RjYm1dKVxzKi87Ci8qKgogKiBIZWxwZXIgZm9yIGBhdHRhY2hFbGVtVG8oKWAgZnVuY3Rpb24uCiAqCiAqIEBwYXJhbSB7c3RyaW5nfSBfY2hhcgogKiBAcmV0dXJuIHtmbG9hdH0gTnVtYmVyIGZvcm0gaW50ZXJ2YWwgPDAsIDE+LgogKi8KCmZ1bmN0aW9uIGdldFBlcmNlbnRzRnJvbVNob3J0Y3V0KF9jaGFyKSB7CiAgdmFyIHAgPSAwOwoKICBpZiAoX2NoYXIgPT09ICdtJykgewogICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXBhcmFtLXJlYXNzaWduCiAgICBfY2hhciA9ICdjJzsKICB9CgogIGlmIChfY2hhciA9PT0gJ2wnIHx8IF9jaGFyID09PSAndCcpIHsKICAgIC8vIGxlZnQgb3IgdG9wCiAgICBwID0gMDsKICB9IGVsc2UgaWYgKF9jaGFyID09PSAnYycpIHsKICAgIC8vIGNlbnRlcgogICAgcCA9IDAuNTsKICB9IGVsc2UgaWYgKF9jaGFyID09PSAncicgfHwgX2NoYXIgPT09ICdiJykgewogICAgLy8gcmlnaHQgb3IgYm90dG9tCiAgICBwID0gMTsKICB9CgogIHJldHVybiBwOwp9Ci8qKgogKiBAcGFyYW0ge0hUTUxFbGVtZW50fSBfZWxlbQogKiBAcGFyYW0ge29iamVjdH0gX3N0eWxlCiAqLwoKCmV4cG9ydCBmdW5jdGlvbiBhZGRTdHlsZShfZWxlbSwgX3N0eWxlKSB7CiAgaWYgKF9lbGVtICYmIF9zdHlsZSkgewogICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIGd1YXJkLWZvci1pbixuby1yZXN0cmljdGVkLXN5bnRheAogICAgZm9yICh2YXIgcHJvcCBpbiBfc3R5bGUpIHsKICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXBhcmFtLXJlYXNzaWduCiAgICAgIF9lbGVtLnN0eWxlW3Byb3BdID0gX3N0eWxlW3Byb3BdOwogICAgfQogIH0KfQovKioKICogQHBhcmFtIHtIVE1MRWxlbWVudH0gX2VsZW0KICogQHBhcmFtIHtTdHJpbmd9IF9hdHRyTmFtZQogKiBAcmV0dXJuIHtzdHJpbmd9CiAqLwoKZXhwb3J0IGZ1bmN0aW9uIGdldEF0dHIoX2VsZW0sIF9hdHRyTmFtZSkgewogIHZhciBhdHRyID0gJyc7CgogIGlmIChfZWxlbSAmJiBfYXR0ck5hbWUpIHsKICAgIGF0dHIgPSBfZWxlbS5nZXRBdHRyaWJ1dGUoX2F0dHJOYW1lKTsKCiAgICBpZiAoIWF0dHIpIHsKICAgICAgcmV0dXJuICcnOwogICAgfQoKICAgIGF0dHIgPSBhdHRyLnRyaW0oKTsKICB9CgogIHJldHVybiBhdHRyOwp9Ci8qKgogKiBAcGFyYW0ge0hUTUxFbGVtZW50fSBfZWxlbQogKiBAcGFyYW0ge1N0cmluZ30gX2F0dHJOYW1lCiAqIEBwYXJhbSB7Kn0gW192YWx1ZV0KICovCgpleHBvcnQgZnVuY3Rpb24gc2V0QXR0cihfZWxlbSwgX2F0dHJOYW1lLCBfdmFsdWUpIHsKICBpZiAoX2VsZW0gJiYgX2F0dHJOYW1lKSB7CiAgICBpZiAoX3ZhbHVlID09PSB1bmRlZmluZWQpIHsKICAgICAgX2VsZW0ucmVtb3ZlQXR0cmlidXRlKF9hdHRyTmFtZSk7CiAgICB9IGVsc2UgewogICAgICBfZWxlbS5zZXRBdHRyaWJ1dGUoX2F0dHJOYW1lLCBfdmFsdWUpOwogICAgfQogIH0KfQovKioKICogQHBhcmFtIHtIVE1MRWxlbWVudH0gX2VsZW0KICogQHBhcmFtIHtTdHJpbmd9IF9hdHRyTmFtZQogKi8KCmV4cG9ydCBmdW5jdGlvbiByZW1vdmVBdHRyKF9lbGVtLCBfYXR0ck5hbWUpIHsKICBpZiAoX2VsZW0gJiYgX2F0dHJOYW1lKSB7CiAgICBfZWxlbS5yZW1vdmVBdHRyaWJ1dGUoX2F0dHJOYW1lKTsKICB9Cn0KLyoqCiAqIEdldCBlbGVtZW50cyBieSBhdHRyaWJ1dGUgYW5kIHZhbHVlcy4KICoKICogQHBhcmFtIHtTdHJpbmd9IF9hdHRyCiAqIEBwYXJhbSB7QXJyYXl9IF92YWx1ZXMKICogQHBhcmFtIHtIVE1MRWxlbWVudH0gW19lbGVtXQogKiBAcmV0dXJuIHtOb2RlTGlzdE9mPEhUTUxFbGVtZW50VGFnTmFtZU1hcFsqXT59CiAqLwoKZXhwb3J0IGZ1bmN0aW9uIGdldEVsZW1lbnRzQnkoX2F0dHIsIF92YWx1ZXMsIF9lbGVtKSB7CiAgdmFyIGVsZW0gPSBfZWxlbSB8fCBkb2N1bWVudC5ib2R5OwogIHZhciBzZWxlY3RvciA9IFtdOwoKICBfdmFsdWVzLmZvckVhY2goZnVuY3Rpb24gKF92YWx1ZSkgewogICAgcmV0dXJuIHNlbGVjdG9yLnB1c2goIlsiLmNvbmNhdChfYXR0ciwgIj1cIiIpLmNvbmNhdChfdmFsdWUsICJcIl0iKSk7CiAgfSk7CgogIHJldHVybiBlbGVtLnF1ZXJ5U2VsZWN0b3JBbGwoc2VsZWN0b3Iuam9pbignLCcpKTsKfQpleHBvcnQgZnVuY3Rpb24gZ2V0Vmlld3BvcnRSZWN0KCkgewogIHJldHVybiB7CiAgICB0b3A6IHdpbmRvdy5zY3JvbGxZIHx8IHdpbmRvdy5wYWdlWU9mZnNldCwKICAgIGxlZnQ6IHdpbmRvdy5zY3JvbGxYIHx8IHdpbmRvdy5wYWdlWE9mZnNldCwKICAgIHdpZHRoOiBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuY2xpZW50V2lkdGgsCiAgICBoZWlnaHQ6IGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5jbGllbnRIZWlnaHQKICB9Owp9CmV4cG9ydCBmdW5jdGlvbiBnZXRFbGVtUmVjdChfZWxlbSkgewogIHZhciByZWN0ID0gewogICAgdG9wOiAtMSwKICAgIGxlZnQ6IC0xLAogICAgd2lkdGg6IC0xLAogICAgaGVpZ2h0OiAtMQogIH07CiAgdmFyIGVCQ1JlY3Q7CgogIGlmIChfZWxlbSkgewogICAgZUJDUmVjdCA9IF9lbGVtLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpOwogICAgcmVjdC50b3AgPSBlQkNSZWN0LnRvcCArICh3aW5kb3cuc2Nyb2xsWSB8fCB3aW5kb3cucGFnZVlPZmZzZXQpOwogICAgcmVjdC5sZWZ0ID0gZUJDUmVjdC5sZWZ0ICsgKHdpbmRvdy5zY3JvbGxYIHx8IHdpbmRvdy5wYWdlWE9mZnNldCk7CiAgICByZWN0LndpZHRoID0gZUJDUmVjdC53aWR0aDsKICAgIHJlY3QuaGVpZ2h0ID0gZUJDUmVjdC5oZWlnaHQ7CiAgfQoKICByZXR1cm4gcmVjdDsKfQovKioKICoKICogQHBhcmFtIHt7dG9wOiBudW1iZXIsIGxlZnQ6IG51bWJlciwgd2lkdGg6IG51bWJlciwgaGVpZ2h0fX0gX3JlY3QKICogQHBhcmFtIHt7dG9wOiBudW1iZXIsIHJpZ2h0OiBudW1iZXIsIGJvdHRvbTogbnVtYmVyLCBsZWZ0OiBudW1iZXJ9fSBfbWFyZ2luCiAqIEBwYXJhbSBfcG9zaXRpb25lZEJvdHRvbQogKiBAcmV0dXJuIHt7dG9wOiBudW1iZXIsIGxlZnQ6IG51bWJlciwgYm90dG9tOiBudW1iZXJ9fG51bGx8Ym9vbGVhbn0KICovCgpleHBvcnQgZnVuY3Rpb24gaXNSZWN0T3V0T2ZWaWV3cG9ydChfcmVjdCwgX21hcmdpbiwgX3Bvc2l0aW9uZWRCb3R0b20pIHsKICB2YXIgdnBSZWN0OwogIHZhciBtYXJnaW47CiAgdmFyIHBvcyA9IG51bGw7CiAgdmFyIGVMVyA9IDA7CiAgdmFyIHNMVyA9IDA7CiAgdmFyIGVUSCA9IDA7CiAgdmFyIHNUSCA9IDA7CgogIGlmICghX3JlY3QpIHsKICAgIHJldHVybiBudWxsOwogIH0KCiAgdnBSZWN0ID0gZ2V0Vmlld3BvcnRSZWN0KCk7CiAgZUxXID0gX3JlY3QubGVmdCArIF9yZWN0LndpZHRoOwogIHNMVyA9IHZwUmVjdC5sZWZ0ICsgdnBSZWN0LndpZHRoOwogIGVUSCA9IF9yZWN0LnRvcCArIF9yZWN0LmhlaWdodDsKICBzVEggPSB2cFJlY3QudG9wICsgdnBSZWN0LmhlaWdodDsKCiAgaWYgKF9yZWN0LnRvcCA+PSB2cFJlY3QudG9wICYmIGVUSCA8PSBzVEggJiYgX3JlY3QubGVmdCA+PSB2cFJlY3QubGVmdCAmJiBlTFcgPD0gc0xXKSB7CiAgICByZXR1cm4gZmFsc2U7CiAgfQoKICBtYXJnaW4gPSB7CiAgICB0b3A6IDAsCiAgICByaWdodDogMCwKICAgIGJvdHRvbTogMCwKICAgIGxlZnQ6IDAKICB9OwoKICBpZiAoX21hcmdpbikgewogICAgZGVlcEV4dGVuZChtYXJnaW4sIF9tYXJnaW4pOwogIH0KCiAgcG9zID0gewogICAgbGVmdDogLTEsCiAgICB0b3A6IC0xLAogICAgYm90dG9tOiAtMQogIH07CgogIGlmIChfcmVjdC5sZWZ0ID49IHZwUmVjdC5sZWZ0KSB7CiAgICBpZiAoZUxXID4gc0xXKSB7CiAgICAgIHBvcy5sZWZ0ID0gX3JlY3QubGVmdCAtIChlTFcgLSBzTFcpIC0gbWFyZ2luLnJpZ2h0OwogICAgfQogIH0gZWxzZSB7CiAgICBwb3MubGVmdCA9IHZwUmVjdC5sZWZ0ICsgbWFyZ2luLmJvdHRvbTsKICB9CgogIGlmIChfcmVjdC50b3AgPj0gdnBSZWN0LnRvcCkgewogICAgaWYgKGVUSCA+IHNUSCkgewogICAgICBwb3MudG9wID0gX3JlY3QudG9wIC0gKGVUSCAtIHNUSCkgLSBtYXJnaW4ubGVmdDsKICAgIH0KCiAgICBwb3MuYm90dG9tID0gX3JlY3QuaGVpZ2h0IC0gKF9yZWN0LnRvcCAtIHBvcy50b3ApOwogIH0gZWxzZSB7CiAgICBwb3MudG9wID0gdnBSZWN0LnRvcCArIG1hcmdpbi50b3A7CgogICAgaWYgKF9wb3NpdGlvbmVkQm90dG9tKSB7CiAgICAgIHBvcy5ib3R0b20gPSBfcmVjdC5oZWlnaHQgLSAocG9zLnRvcCAtIF9yZWN0LnRvcCk7CiAgICB9IGVsc2UgewogICAgICBwb3MuYm90dG9tID0gdnBSZWN0LmhlaWdodCAtIG1hcmdpbi50b3AgLSBtYXJnaW4uYm90dG9tOwogICAgfQogIH0KCiAgcmV0dXJuIHBvczsKfQovKioKICogQ2hlY2sgaWYgZWxlbWVudCBvciBlbGVtZW50IHJlY3RhbmdsZSBpcyBvdXQgb2Ygdmlld3BvcnQuCiAqIE1ldGhvZCByZXR1cm5zIGBmYWxzZWAsIGlmIHdob2xlIGVsZW1lbnQgaXMgaW5zaWRlIHZpZXdwb3J0LCBlbHNlIGl0CiAqIHJldHVybnMgYXJyYXkgW2xlZnQsIHRvcF0gLSBwb3NpdGlvbiBvZiB0b3AgbGVmdCBjb3JuZXIgb2YgZWxlbWVudAogKiB3aGVyZSBpdCB3aWxsIGJlIHdob2xlIHZpc2libGUgaW4gdmlld3BvcnQuCiAqCiAqIEByZXR1cm4ge2FycmF5fGJvb2x9IFtsZWZ0LCB0b3BdCiAqLwoKZXhwb3J0IGZ1bmN0aW9uIGlzRWxlbU91dE9mVmlld3BvcnQoX2VsZW0sIF9tYXJnaW4sIF9wb3NpdGlvbmVkQm90dG9tLCBfc2ltcGxlKSB7CiAgcmV0dXJuIGlzUmVjdE91dE9mVmlld3BvcnQoX2VsZW0uZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCksIF9tYXJnaW4sIF9wb3NpdGlvbmVkQm90dG9tLCBfc2ltcGxlKTsKfQovKioKICogQXR0YWNoIGVsZW1lbnQgYF9lbGVtMWAgdG8gZWxlbWVudCBgX2VsZW0yYCwgYF9lbGVtMmAgY2FuIGJlIHBvaW50IC0gYFtsZWZ0LCB0b3BdYC4KICoKICogYF9hbGlnbm1lbnRgIC0gaG93IHRvIGF0dGFjaCBlbGVtZW50cyAtIHBvc3NpYmxlIHZhbHVlcyBhcmUKICogJ3J0JyAtIHJpZ2h0IHRvcAogKiAnbHQnIC0gbGVmdCB0b3AKICogJ3JiJyAtIHJpZ2h0IGJvdHRvbQogKiAnbGInIC0gbGVmdCBib3R0b20KICogJ2N0JyAtIGNlbnRlciB0b3AKICogJ2NiJyAtIGNlbnRlciBib3R0b20KICogJ2xjJyAtIGxlZnQgY2VudGVyCiAqICdyYycgLSByaWdodCBjZW50ZXIKICogJ2NjJyAtIGNlbnRlciBjZW50ZXIKICoKICogQHBhcmFtIHtIVE1MRWxlbWVudH0gX2VsZW0xLgogKiBAcGFyYW0ge0hUTUxFbGVtZW50fGFycmF5fSBfZWxlbTIgRWxlbWVudCBvciBwb2ludCBgW2xlZnQsIHRvcF1gLgogKiBAcGFyYW0ge2FycmF5fSBbX2FsaWdubWVudF0gW19lbGVtMUFsaWdubWVudCwgX2VsZW0yQWxpZ25tZW50XSwgZGVmYXVsdHMgLSBgWydsdCcsICdsYiddYAogKiBAcGFyYW0ge2Jvb2xlYW59IFtfZml0VG9WaWV3cG9ydF0gQ29ycmVjdCBwb3NpdGlvbiBzbyBgX2VsZW0xYCBpcyBpbiB2aWV3cG9ydC4KICogQHBhcmFtIHthcnJheX0gW19tYXJnaW5dIE1hcmdpbiBvZiBlbGVtZW50IHBvc2l0aW9uLiBgW3RvcCwgcmlnaHQsIGJvdHRvbSwgbGVmdF1gIC0gbnVtYmVycyAocGl4ZWxzKQogKiBAcGFyYW0ge2Jvb2xlYW59IFtfYWRqdXN0SGVpZ2h0XSBBdXRvbWF0aWNhbGx5IGFkanVzdCBoZWlnaHQgb2YgYF9lbGVtMWAsIGlmIGl0IG92ZXJsYXBzIHZpZXdwb3J0LgogKiBAcGFyYW0ge2Jvb2xlYW59IFtfZWxlbUZpeGVkXSBFbGVtZW50cyAoYF9lbGVtMWAgYW5kIGBfZWxlbTJgKSBhcmUgZml4ZWQgKHBvc2l0aW9uOiBmaXhlZCkuCiAqIEBwYXJhbSB7YXJyYXl9IFtfbW91c2VQb3NdIGBbbGVmdCwgdG9wXWAKICogQHBhcmFtIHthcnJheX0gW19lbGVtMk9mZnNldF0gYHtsZWZ0OiAuLi4sIHRvcDogLi4ufWAgQWRkIHRoaXMgb2Zmc2V0IHRvIGVsZW1lbnQgMiByZWN0LgogKiBAcmV0dXJuIHt7cG9zOiAqLCBlbGVtMVJlY3Q6ICosIGVsZW0yUmVjdDogKn18bnVsbH0KICovCgpleHBvcnQgZnVuY3Rpb24gYXR0YWNoRWxlbVRvKF9lbGVtMSwgX2VsZW0yLCBfYWxpZ25tZW50LCBfZml0VG9WaWV3cG9ydCwgX21hcmdpbiwgX2FkanVzdEhlaWdodCwgX2VsZW1GaXhlZCwgX21vdXNlUG9zLCBfZWxlbTJPZmZzZXQpIHsKICBpZiAoIV9lbGVtMSB8fCAhX2VsZW0yKSB7CiAgICByZXR1cm4gbnVsbDsKICB9CgogIHZhciBlbGVtMVJlY3QgPSBudWxsOwogIHZhciBlbGVtMlJlY3QgPSBudWxsOwogIHZhciBwb3MgPSBudWxsOwogIHZhciBwb3MyID0gbnVsbDsKICB2YXIgdnBSZWN0ID0gZ2V0Vmlld3BvcnRSZWN0KCk7CiAgdmFyIGFsaWdubWVudCA9IF9hbGlnbm1lbnQgfHwgWydsdCcsICdsYiddOwogIHZhciBlbGVtMUMgPSAnJzsKICB2YXIgZWxlbTJDID0gJyc7CiAgdmFyIGMgPSAnJzsKICB2YXIgY3NzID0ge307CiAgdmFyIHByUG9zID0gWzAsIDAsIDAsIDBdOyAvLyBwb3NpdGlvbiBpbiBwZXJjZW50cyAoPDAsIDE+KSwgW2VsZW0xIGhvciwgZWxlbSAxIHZlciwgZWxlbTIgaG9yLCBlbGVtMiB2ZXJdCgogIHBvcyA9IFstMSwgLTFdOwogIGVsZW0xUmVjdCA9IGdldEVsZW1SZWN0KF9lbGVtMSk7CgogIGlmIChfZWxlbTIubGVuZ3RoID09PSAyKSB7CiAgICAvLyBhdHRhY2ggdG8gcG9pbnQKICAgIGVsZW0yUmVjdCA9IHsKICAgICAgd2lkdGg6IDEsCiAgICAgIGhlaWdodDogMSwKICAgICAgbGVmdDogX2VsZW0yWzBdLAogICAgICB0b3A6IF9lbGVtMlsxXQogICAgfTsKICB9IGVsc2UgewogICAgZWxlbTJSZWN0ID0gZ2V0RWxlbVJlY3QoX2VsZW0yKTsKICB9CgogIGlmIChfZWxlbUZpeGVkKSB7CiAgICBlbGVtMlJlY3QubGVmdCAtPSB2cFJlY3QubGVmdDsKICAgIGVsZW0yUmVjdC50b3AgLT0gdnBSZWN0LnRvcDsKICB9CgogIGlmIChfZWxlbTJPZmZzZXQpIHsKICAgIGVsZW0yUmVjdC5sZWZ0ICs9IF9lbGVtMk9mZnNldC5sZWZ0OwogICAgZWxlbTJSZWN0LnRvcCArPSBfZWxlbTJPZmZzZXQudG9wOwogIH0KCiAgaWYgKGVsZW0xUmVjdCAmJiBlbGVtMlJlY3QpIHsKICAgIGVsZW0xQyA9IGFsaWdubWVudFswXTsKICAgIGVsZW0yQyA9IGFsaWdubWVudFsxXTsgLy8gcHJQb3MgPSBbMC41LCAwLCAxLCAxXTsKCiAgICBwclBvc1swXSA9IGdldFBlcmNlbnRzRnJvbVNob3J0Y3V0KGVsZW0xQy5jaGFyQXQoMCkpOwogICAgcHJQb3NbMV0gPSBnZXRQZXJjZW50c0Zyb21TaG9ydGN1dChlbGVtMUMuY2hhckF0KDEpKTsKICAgIHByUG9zWzJdID0gZ2V0UGVyY2VudHNGcm9tU2hvcnRjdXQoZWxlbTJDLmNoYXJBdCgwKSk7CiAgICBwclBvc1szXSA9IGdldFBlcmNlbnRzRnJvbVNob3J0Y3V0KGVsZW0yQy5jaGFyQXQoMSkpOwoKICAgIGlmIChfbW91c2VQb3MpIHsKICAgICAgaWYgKGVsZW0xQy5jaGFyQXQoMCkgPT09ICdtJyB8fCBlbGVtMkMuY2hhckF0KDApID09PSAnbScpIHsKICAgICAgICBlbGVtMlJlY3Qud2lkdGggPSAxOwogICAgICAgIGVsZW0yUmVjdC5sZWZ0ID0gX21vdXNlUG9zWzBdOwogICAgICB9CgogICAgICBpZiAoZWxlbTFDLmNoYXJBdCgxKSA9PT0gJ20nIHx8IGVsZW0yQy5jaGFyQXQoMSkgPT09ICdtJykgewogICAgICAgIGVsZW0yUmVjdC5oZWlnaHQgPSAxOwogICAgICAgIGVsZW0yUmVjdC50b3AgPSBfbW91c2VQb3NbMV07CiAgICAgIH0KICAgIH0KCiAgICBwb3NbMF0gPSBlbGVtMlJlY3QubGVmdCAtIGVsZW0xUmVjdC53aWR0aCAqIHByUG9zWzBdICsgZWxlbTJSZWN0LndpZHRoICogcHJQb3NbMl07CiAgICBwb3NbMV0gPSBlbGVtMlJlY3QudG9wIC0gZWxlbTFSZWN0LmhlaWdodCAqIHByUG9zWzFdICsgZWxlbTJSZWN0LmhlaWdodCAqIHByUG9zWzNdOwoKICAgIGlmIChfbWFyZ2luKSB7CiAgICAgIGMgPSBlbGVtMUMuY2hhckF0KDApOwoKICAgICAgaWYgKGMgPT09ICdsJykgewogICAgICAgIHBvc1swXSArPSBfbWFyZ2luLmxlZnQ7CiAgICAgIH0gZWxzZSBpZiAoYyA9PT0gJ3InKSB7CiAgICAgICAgcG9zWzBdIC09IF9tYXJnaW4ucmlnaHQ7CiAgICAgIH0KCiAgICAgIGMgPSBlbGVtMUMuY2hhckF0KDEpOwoKICAgICAgaWYgKGMgPT09ICd0JykgewogICAgICAgIHBvc1sxXSArPSBfbWFyZ2luLnRvcDsKICAgICAgfSBlbHNlIGlmIChjID09PSAnYicpIHsKICAgICAgICBwb3NbMV0gLT0gX21hcmdpbi5ib3R0b207CiAgICAgIH0KICAgIH0KICB9CgogIGVsZW0xUmVjdC5sZWZ0ID0gcG9zWzBdOwogIGVsZW0xUmVjdC50b3AgPSBwb3NbMV07CgogIGlmIChfZml0VG9WaWV3cG9ydCkgewogICAgcG9zMiA9IGlzUmVjdE91dE9mVmlld3BvcnQoewogICAgICB3aWR0aDogZWxlbTFSZWN0LndpZHRoLAogICAgICBoZWlnaHQ6IGVsZW0xUmVjdC5oZWlnaHQsCiAgICAgIGxlZnQ6IHBvc1swXSwKICAgICAgdG9wOiBwb3NbMV0KICAgIH0sIF9tYXJnaW4KICAgIC8qICwKICAgIG51bGwsCiAgICAoZWxlbTFDLmNoYXJBdCgxKSA9PT0gJ2InKSAqLwogICAgKTsKCiAgICBpZiAocG9zMikgewogICAgICBpZiAocG9zMi5sZWZ0ICE9PSAtMSkgewogICAgICAgIHBvc1swXSA9IHBvczIubGVmdDsKICAgICAgfQoKICAgICAgZWxlbTFSZWN0LmxlZnQgPSBwb3NbMF07CgogICAgICBpZiAocG9zMi50b3AgIT09IC0xKSB7CiAgICAgICAgaWYgKF9hZGp1c3RIZWlnaHQpIHsKICAgICAgICAgIC8vIGFsZXJ0KHBvczIpCiAgICAgICAgICBlbGVtMVJlY3QuaGVpZ2h0ID0gcG9zMi5oZWlnaHQ7CiAgICAgICAgICBjc3MuaGVpZ2h0ID0gIiIuY29uY2F0KGVsZW0xUmVjdC5oZWlnaHQsICJweCIpOwoKICAgICAgICAgIGlmIChlbGVtMUMuY2hhckF0KDEpID09PSAndCcpIHsKICAgICAgICAgICAgcG9zMi50b3AgPSBwb3NbMV07IC8vIGRvbid0IGNoYW5nZSB0b3AgcG9zaXRpb24KICAgICAgICAgIH0KICAgICAgICB9CgogICAgICAgIHBvc1sxXSA9IHBvczIudG9wOwogICAgICB9CgogICAgICBlbGVtMVJlY3QudG9wID0gcG9zWzFdOwogICAgfQogIH0gLy8ga2R5eiBidWRlIHBydmVrIHBvc2l0aW9uOiBmaXhlZAoKICAvKiB2aWV3cG9ydCA9IFpQRS5pbmZvLnZpZXdwb3J0OwogIHBvc1swXSAtPSB2cFJlY3QubGVmdDsKICBwb3NbMV0gLT0gdnBSZWN0LnRvcDsgKi8KCgogIGNzcy5sZWZ0ID0gIiIuY29uY2F0KHBvc1swXSwgInB4Iik7CiAgY3NzLnRvcCA9ICIiLmNvbmNhdChwb3NbMV0sICJweCIpOwogIGVsZW0xUmVjdC5sZWZ0ID0gcG9zWzBdOwogIGVsZW0xUmVjdC50b3AgPSBwb3NbMV07CiAgYWRkU3R5bGUoX2VsZW0xLCBjc3MpOwogIHJldHVybiB7CiAgICBlbGVtMVJlY3Q6IGVsZW0xUmVjdCwKICAgIGVsZW0yUmVjdDogZWxlbTJSZWN0LAogICAgcG9zOiBwb3MyCiAgfTsKfQovKioKICogQ2FsY3VsYXRlcywgd2hlcmUgaXMgdGhlIG1vc3Qgc3BhY2UgaW4gdmlld3BvcnQgZm9yIGVsZW1lbnQgKF9lbGVtMSkgYXR0YWNoZWQgdG8gYW5vdGhlciBlbGVtZW50IChfZWxlbTIpCiAqIGFuZCByZXR1cm5zIHRoaXMgYXR0YWNoIHBvc2l0aW9uLgogKgogKiBAcGFyYW0ge0hUTUxFbGVtZW50fSBfZWxlbTEKICogQHBhcmFtIHtIVE1MRWxlbWVudH0gX2VsZW0yCiAqIEBwYXJhbSB7e3RvcDogbnVtYmVyLCByaWdodDogbnVtYmVyLCBib3R0b206IG51bWJlciwgbGVmdDogbnVtYmVyfX0gW19tYXJnaW5dCiAqIEByZXR1cm4ge3twb3M6ICd0b3AnfCdyaWdodCd8J2JvdHRvbSd8J2xlZnQnLCB0b3A6IG51bWJlciwgcmlnaHQ6IG51bWJlciwgYm90dG9tOiBudW1iZXIsIGxlZnQ6IG51bWJlcn19CiAqLwoKZXhwb3J0IGZ1bmN0aW9uIGdldEF0dGFjaFBvc2l0aW9uKF9lbGVtMSwgX2VsZW0yLCBfbWFyZ2luKSB7CiAgcmV0dXJuIGdldEF0dGFjaFBvc2l0aW9uQnlSZWN0cyhnZXRFbGVtUmVjdChfZWxlbTEpLCBnZXRFbGVtUmVjdChfZWxlbTIpLCBfbWFyZ2luKTsKfQovKioKICogQ2FsY3VsYXRlcywgd2hlcmUgaXMgdGhlIG1vc3Qgc3BhY2UgaW4gdmlld3BvcnQgZm9yIGVsZW1lbnQgKF9lbGVtMVJlY3QpIGF0dGFjaGVkIHRvIGFub3RoZXIgZWxlbWVudCAoX2VsZW0yUmVjdCkKICogYW5kIHJldHVybnMgdGhpcyBhdHRhY2ggcG9zaXRpb24uCiAqCiAqIEBwYXJhbSB7e3RvcDogbnVtYmVyLCBsZWZ0OiBudW1iZXIsIHdpZHRoOiBudW1iZXIsIGhlaWdodH19IF9lbGVtMVJlY3QKICogQHBhcmFtIHt7dG9wOiBudW1iZXIsIGxlZnQ6IG51bWJlciwgd2lkdGg6IG51bWJlciwgaGVpZ2h0fX0gX2VsZW0yUmVjdAogKiBAcGFyYW0ge3t0b3A6IG51bWJlciwgcmlnaHQ6IG51bWJlciwgYm90dG9tOiBudW1iZXIsIGxlZnQ6IG51bWJlcn19IFtfbWFyZ2luXQogKiBAcmV0dXJuIHt7cG9zOiAndG9wJ3wncmlnaHQnfCdib3R0b20nfCdsZWZ0JywgdG9wOiBudW1iZXIsIHJpZ2h0OiBudW1iZXIsIGJvdHRvbTogbnVtYmVyLCBsZWZ0OiBudW1iZXJ9fQogKi8KCmV4cG9ydCBmdW5jdGlvbiBnZXRBdHRhY2hQb3NpdGlvbkJ5UmVjdHMoX2VsZW0xUmVjdCwgX2VsZW0yUmVjdCwgX21hcmdpbikgewogIHZhciB0b3A7CiAgdmFyIHJpZ2h0OwogIHZhciBib3R0b207CiAgdmFyIGxlZnQ7CiAgdmFyIGRpcmVjdGlvbjsKICB2YXIgcG9zID0gJyc7CiAgdmFyIHZwUmVjdCA9IGdldFZpZXdwb3J0UmVjdCgpOwoKICBpZiAoX21hcmdpbikgewogICAgZm9yICh2YXIgcHJvcCBpbiBfbWFyZ2luKSB7CiAgICAgIF9lbGVtMVJlY3RbcHJvcF0gKz0gX21hcmdpbltwcm9wXTsKICAgIH0KICB9CgogIHRvcCA9IF9lbGVtMlJlY3QudG9wIC0gdnBSZWN0LnRvcCAtIF9lbGVtMVJlY3QuaGVpZ2h0OwogIHJpZ2h0ID0gdnBSZWN0LndpZHRoIC0gKF9lbGVtMlJlY3QubGVmdCAtIHZwUmVjdC5sZWZ0ICsgX2VsZW0yUmVjdC53aWR0aCkgLSBfZWxlbTFSZWN0LndpZHRoOwogIGJvdHRvbSA9IHZwUmVjdC5oZWlnaHQgLSAoX2VsZW0yUmVjdC50b3AgLSB2cFJlY3QudG9wICsgX2VsZW0yUmVjdC5oZWlnaHQpIC0gX2VsZW0xUmVjdC5oZWlnaHQ7CiAgbGVmdCA9IF9lbGVtMlJlY3QubGVmdCAtIHZwUmVjdC5sZWZ0IC0gX2VsZW0xUmVjdC53aWR0aDsKICBkaXJlY3Rpb24gPSBNYXRoLm1heCh0b3AsIHJpZ2h0LCBib3R0b20sIGxlZnQpOyAvLyBGaXJzdCBlbGVtZW50IHRvdWNoZXMgYXR0YWNoZWQgZWxlbWVudC4gVHJ5IHRvIGZpbmQgcG9zaXRpb24sIHdoZXJlIGF0dGFjaGVkIGVsZW1lbnQgd2lsbCBiZSB0aGUgbW9zdCB2aXNpYmxlLgoKICBpZiAoZGlyZWN0aW9uIDwgMCkgewogICAgdG9wID0gX2VsZW0yUmVjdC5oZWlnaHQgLyB0b3A7CiAgICByaWdodCA9IF9lbGVtMlJlY3Qud2lkdGggLyByaWdodDsKICAgIGJvdHRvbSA9IF9lbGVtMlJlY3QuaGVpZ2h0IC8gYm90dG9tOwogICAgbGVmdCA9IF9lbGVtMlJlY3Qud2lkdGggLyBsZWZ0OwogICAgZGlyZWN0aW9uID0gTWF0aC5taW4odG9wLCByaWdodCwgYm90dG9tLCBsZWZ0KTsKICB9CgogIGlmIChkaXJlY3Rpb24gPT09IGJvdHRvbSkgewogICAgcG9zID0gJ2JvdHRvbSc7CiAgfSBlbHNlIGlmIChkaXJlY3Rpb24gPT09IHJpZ2h0KSB7CiAgICBwb3MgPSAncmlnaHQnOwogIH0gZWxzZSBpZiAoZGlyZWN0aW9uID09PSB0b3ApIHsKICAgIHBvcyA9ICd0b3AnOwogIH0gZWxzZSBpZiAoZGlyZWN0aW9uID09PSBsZWZ0KSB7CiAgICBwb3MgPSAnbGVmdCc7CiAgfSAvLyBhbGVydChwb3MgKyAnXG4nICsgX2VsZW0yUmVjdCArICdcbicgKyBiUmVjdCkKCgogIHJldHVybiB7CiAgICBwb3M6IHBvcywKICAgIHRvcDogdG9wLAogICAgcmlnaHQ6IHJpZ2h0LAogICAgYm90dG9tOiBib3R0b20sCiAgICBsZWZ0OiBsZWZ0CiAgfTsKfQovKioKICogR2V0IGF0dGFjaCBwb3NpdGlvbiBmcm9tIGBfcG9zYCBpZiBgX2F0dGFjaFBvc2l0aW9uYCBjb250YWlucyAnYXV0bycuCiAqCiAqIEBwYXJhbSB7e3BvczogJ3RvcCd8J3JpZ2h0J3wnYm90dG9tJ3wnbGVmdCcsIHRvcDogbnVtYmVyLCByaWdodDogbnVtYmVyLCBib3R0b206IG51bWJlciwgbGVmdDogbnVtYmVyfX0gX3BvcwogKiBAcGFyYW0ge3N0cmluZ30gX2F0dGFjaFBvc2l0aW9uCiAqIEBwYXJhbSB7c3RyaW5nfSBbX3ByZWZlcnJlZEF0dGFjaFBvc2l0aW9uXQogKi8KCmV4cG9ydCBmdW5jdGlvbiBnZXRBdXRvQXR0YWNoUG9zaXRpb24oX3BvcywgX2F0dGFjaFBvc2l0aW9uLCBfcHJlZmVycmVkQXR0YWNoUG9zaXRpb24pIHsKICB2YXIgYXR0YWNoUG9zaXRpb24gPSBfYXR0YWNoUG9zaXRpb247CiAgdmFyIGFsaWdubWVudDsKICB2YXIgYyA9ICcnOwogIHZhciBwcmVmZXJyZWRBUElzT2sgPSBmYWxzZTsKCiAgaWYgKF9wb3MgJiYgYXR0YWNoUG9zaXRpb24uaW5kZXhPZignYXV0bycpID4gLTEpIHsKICAgIGlmIChhdHRhY2hQb3NpdGlvbiA9PT0gJ2F1dG8nKSB7CiAgICAgIGlmIChfcHJlZmVycmVkQXR0YWNoUG9zaXRpb24pIHsKICAgICAgICBhbGlnbm1lbnQgPSBnZXRBbGlnbm1lbnQoX3ByZWZlcnJlZEF0dGFjaFBvc2l0aW9uKTsKICAgICAgICBjID0gYWxpZ25tZW50WzFdLmNoYXJBdCgwKTsKICAgICAgICBwcmVmZXJyZWRBUElzT2sgPSBjID09PSAnYycgJiYgKF9wb3MubGVmdCA+IDAgfHwgX3Bvcy5yaWdodCA+IDApIHx8IGMgPT09ICdsJyAmJiBfcG9zLmxlZnQgPiAwIHx8IGMgPT09ICdyJyAmJiBfcG9zLnJpZ2h0ID4gMDsKCiAgICAgICAgaWYgKHByZWZlcnJlZEFQSXNPaykgewogICAgICAgICAgYyA9IGFsaWdubWVudFsxXS5jaGFyQXQoMSk7CiAgICAgICAgICBwcmVmZXJyZWRBUElzT2sgPSBjID09PSAnYycgJiYgKF9wb3MudG9wID4gMCB8fCBfcG9zLmJvdHRvbSA+IDApIHx8IGMgPT09ICd0JyAmJiBfcG9zLnRvcCA+IDAgfHwgYyA9PT0gJ2InICYmIF9wb3MuYm90dG9tID4gMDsKICAgICAgICB9CiAgICAgIH0KCiAgICAgIGlmIChwcmVmZXJyZWRBUElzT2spIHsKICAgICAgICBhdHRhY2hQb3NpdGlvbiA9IF9wcmVmZXJyZWRBdHRhY2hQb3NpdGlvbjsKICAgICAgfSBlbHNlIHsKICAgICAgICAvLyBzZXQgYXV0by1jYWxjdWxhdGVkIHBvc2l0aW9uCiAgICAgICAgYXR0YWNoUG9zaXRpb24gPSBfcG9zLnBvczsKICAgICAgfQogICAgfSBlbHNlIGlmIChhdHRhY2hQb3NpdGlvbiA9PT0gJ2F1dG8tdmVydGljYWwnKSB7CiAgICAgIGlmIChfcG9zLnRvcCA+IF9wb3MuYm90dG9tKSB7CiAgICAgICAgYXR0YWNoUG9zaXRpb24gPSAndG9wJzsKICAgICAgfSBlbHNlIHsKICAgICAgICBhdHRhY2hQb3NpdGlvbiA9ICdib3R0b20nOwogICAgICB9CiAgICB9IGVsc2UgaWYgKGF0dGFjaFBvc2l0aW9uID09PSAnYXV0by1ob3Jpem9udGFsJykgewogICAgICBpZiAoX3Bvcy5sZWZ0ID4gX3Bvcy5yaWdodCkgewogICAgICAgIGF0dGFjaFBvc2l0aW9uID0gJ2xlZnQnOwogICAgICB9IGVsc2UgewogICAgICAgIGF0dGFjaFBvc2l0aW9uID0gJ3JpZ2h0JzsKICAgICAgfQogICAgfQogIH0KCiAgcmV0dXJuIGF0dGFjaFBvc2l0aW9uOwp9Ci8qKgogKiBHZXQgYGF0dGFjaEVsZW1UbygpYCBhbGlnbm1lbnQgYXJyYXkgZnJvbSBzdHJpbmcuCiAqCiAqIEBwYXJhbSB7c3RyaW5nfSBfYXR0YWNoUG9zaXRpb24gJ2JvdHRvbSd8J3RvcCd8J2xlZnQnfCdyaWdodCcgb3IgYWxpZ25tZW50IHN0cmluZyAoZS5nLiAnbHQgbGInKS4KICogQHBhcmFtIHtbc3RyaW5nLCBzdHJpbmddfSBbX2RlZmF1bHRBbGlnbm1lbnRdCiAqIEByZXR1cm4ge1tzdHJpbmcsIHN0cmluZ119CiAqLwoKZXhwb3J0IGZ1bmN0aW9uIGdldEFsaWdubWVudChfYXR0YWNoUG9zaXRpb24sIF9kZWZhdWx0QWxpZ25tZW50KSB7CiAgdmFyIGFsaWdubWVudCA9IF9kZWZhdWx0QWxpZ25tZW50IHx8IFsnbHQnLCAnbGInXTsKCiAgaWYgKF9hdHRhY2hQb3NpdGlvbikgewogICAgc3dpdGNoIChfYXR0YWNoUG9zaXRpb24pIHsKICAgICAgY2FzZSAnYm90dG9tJzoKICAgICAgICBhbGlnbm1lbnQgPSBbJ2N0JywgJ2NiJ107CiAgICAgICAgYnJlYWs7CgogICAgICBjYXNlICd0b3AnOgogICAgICAgIGFsaWdubWVudCA9IFsnY2InLCAnY3QnXTsKICAgICAgICBicmVhazsKCiAgICAgIGNhc2UgJ2xlZnQnOgogICAgICAgIGFsaWdubWVudCA9IFsncmMnLCAnbGMnXTsKICAgICAgICBicmVhazsKCiAgICAgIGNhc2UgJ3JpZ2h0JzoKICAgICAgICBhbGlnbm1lbnQgPSBbJ2xjJywgJ3JjJ107CiAgICAgICAgYnJlYWs7CgogICAgICBkZWZhdWx0OgogICAgICAgIGFsaWdubWVudCA9IHBhcnNlQWxpZ25tZW50KF9hdHRhY2hQb3NpdGlvbiwgYWxpZ25tZW50KTsKICAgIH0KICB9CgogIHJldHVybiBhbGlnbm1lbnQ7Cn0KLyoqCiAqIFBhcnNlIGBhdHRhY2hFbGVtVG8oKWAgYWxpZ25tZW50IGFycmF5IGZyb20gc3RyaW5nLgogKgogKiBAcGFyYW0ge3N0cmluZ30gX2FsaWdubWVudFN0cgogKiBAcGFyYW0ge1tzdHJpbmcsIHN0cmluZ119IFtfZGVmYXVsdEFsaWdubWVudF0KICogQHJldHVybiB7W3N0cmluZywgc3RyaW5nXXxudWxsfQogKi8KCmV4cG9ydCBmdW5jdGlvbiBwYXJzZUFsaWdubWVudChfYWxpZ25tZW50U3RyLCBfZGVmYXVsdEFsaWdubWVudCkgewogIHZhciBtYXRjaCA9IGFsaWdubWVudFJFLmV4ZWMoX2FsaWdubWVudFN0cik7CiAgdmFyIGFsaWdubWVudCA9IF9kZWZhdWx0QWxpZ25tZW50IHx8IG51bGw7CgogIGlmIChtYXRjaCAmJiBtYXRjaC5sZW5ndGggPT09IDMpIHsKICAgIGFsaWdubWVudCA9IFttYXRjaFsxXSwgbWF0Y2hbMl1dOwogIH0gZWxzZSB7CiAgICB0aHJvdyBuZXcgRXJyb3IoJ0JhZCBhdHRhY2ggcG9zaXRpb24uJyk7CiAgfQoKICByZXR1cm4gYWxpZ25tZW50Owp9CmV4cG9ydCBmdW5jdGlvbiBpc1JUTERpcigpIHsKICByZXR1cm4gZ2V0QXR0cihkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQsICdkaXInKSA9PT0gJ3J0bCcgfHwgZ2V0QXR0cihkb2N1bWVudC5ib2R5LCAnZGlyJykgPT09ICdydGwnOwp9"},{"version":3,"names":["deepExtend","alignmentRE","getPercentsFromShortcut","_char","p","addStyle","_elem","_style","prop","style","getAttr","_attrName","attr","getAttribute","trim","setAttr","_value","undefined","removeAttribute","setAttribute","removeAttr","getElementsBy","_attr","_values","elem","document","body","selector","forEach","push","querySelectorAll","join","getViewportRect","top","window","scrollY","pageYOffset","left","scrollX","pageXOffset","width","documentElement","clientWidth","height","clientHeight","getElemRect","rect","eBCRect","getBoundingClientRect","isRectOutOfViewport","_rect","_margin","_positionedBottom","vpRect","margin","pos","eLW","sLW","eTH","sTH","right","bottom","isElemOutOfViewport","_simple","attachElemTo","_elem1","_elem2","_alignment","_fitToViewport","_adjustHeight","_elemFixed","_mousePos","_elem2Offset","elem1Rect","elem2Rect","pos2","alignment","elem1C","elem2C","c","css","prPos","length","charAt","getAttachPosition","getAttachPositionByRects","_elem1Rect","_elem2Rect","direction","Math","max","min","getAutoAttachPosition","_pos","_attachPosition","_preferredAttachPosition","attachPosition","preferredAPIsOk","indexOf","getAlignment","_defaultAlignment","parseAlignment","_alignmentStr","match","exec","Error","isRTLDir"],"sources":["/mnt/websites/ex.nextsmartchain.com/src/utils/DOM.js"],"sourcesContent":["import { deepExtend } from './index.js';\n\nconst alignmentRE = /\\s*([lcrm][tcbm])\\s+([lcrm][tcbm])\\s*/;\n\n/**\n * Helper for `attachElemTo()` function.\n *\n * @param {string} _char\n * @return {float} Number form interval <0, 1>.\n */\nfunction getPercentsFromShortcut(_char) {\n    let p = 0;\n\n    if (_char === 'm') {\n        // eslint-disable-next-line no-param-reassign\n        _char = 'c';\n    }\n\n    if (_char === 'l' || _char === 't') {\n        // left or top\n        p = 0;\n    } else if (_char === 'c') {\n        // center\n        p = 0.5;\n    } else if (_char === 'r' || _char === 'b') {\n        // right or bottom\n        p = 1;\n    }\n\n    return p;\n}\n\n/**\n * @param {HTMLElement} _elem\n * @param {object} _style\n */\nexport function addStyle(_elem, _style) {\n    if (_elem && _style) {\n        // eslint-disable-next-line guard-for-in,no-restricted-syntax\n        for (const prop in _style) {\n            // eslint-disable-next-line no-param-reassign\n            _elem.style[prop] = _style[prop];\n        }\n    }\n}\n\n/**\n * @param {HTMLElement} _elem\n * @param {String} _attrName\n * @return {string}\n */\nexport function getAttr(_elem, _attrName) {\n    let attr = '';\n\n    if (_elem && _attrName) {\n        attr = _elem.getAttribute(_attrName);\n        if (!attr) {\n            return '';\n        }\n        attr = attr.trim();\n    }\n\n    return attr;\n}\n\n/**\n * @param {HTMLElement} _elem\n * @param {String} _attrName\n * @param {*} [_value]\n */\nexport function setAttr(_elem, _attrName, _value) {\n    if (_elem && _attrName) {\n        if (_value === undefined) {\n            _elem.removeAttribute(_attrName);\n        } else {\n            _elem.setAttribute(_attrName, _value);\n        }\n    }\n}\n\n/**\n * @param {HTMLElement} _elem\n * @param {String} _attrName\n */\nexport function removeAttr(_elem, _attrName) {\n    if (_elem && _attrName) {\n        _elem.removeAttribute(_attrName);\n    }\n}\n\n/**\n * Get elements by attribute and values.\n *\n * @param {String} _attr\n * @param {Array} _values\n * @param {HTMLElement} [_elem]\n * @return {NodeListOf<HTMLElementTagNameMap[*]>}\n */\nexport function getElementsBy(_attr, _values, _elem) {\n    const elem = _elem || document.body;\n    const selector = [];\n\n    _values.forEach((_value) => selector.push(`[${_attr}=\"${_value}\"]`));\n\n    return elem.querySelectorAll(selector.join(','));\n}\n\nexport function getViewportRect() {\n    return {\n        top: window.scrollY || window.pageYOffset,\n        left: window.scrollX || window.pageXOffset,\n        width: document.documentElement.clientWidth,\n        height: document.documentElement.clientHeight,\n    };\n}\n\nexport function getElemRect(_elem) {\n    const rect = {\n        top: -1,\n        left: -1,\n        width: -1,\n        height: -1,\n    };\n    let eBCRect;\n\n    if (_elem) {\n        eBCRect = _elem.getBoundingClientRect();\n\n        rect.top = eBCRect.top + (window.scrollY || window.pageYOffset);\n        rect.left = eBCRect.left + (window.scrollX || window.pageXOffset);\n        rect.width = eBCRect.width;\n        rect.height = eBCRect.height;\n    }\n\n    return rect;\n}\n\n/**\n *\n * @param {{top: number, left: number, width: number, height}} _rect\n * @param {{top: number, right: number, bottom: number, left: number}} _margin\n * @param _positionedBottom\n * @return {{top: number, left: number, bottom: number}|null|boolean}\n */\nexport function isRectOutOfViewport(_rect, _margin, _positionedBottom) {\n    let vpRect;\n    let margin;\n    let pos = null;\n    let eLW = 0;\n    let sLW = 0;\n    let eTH = 0;\n    let sTH = 0;\n\n    if (!_rect) {\n        return null;\n    }\n\n    vpRect = getViewportRect();\n\n    eLW = _rect.left + _rect.width;\n    sLW = vpRect.left + vpRect.width;\n    eTH = _rect.top + _rect.height;\n    sTH = vpRect.top + vpRect.height;\n\n    if (_rect.top >= vpRect.top && eTH <= sTH && _rect.left >= vpRect.left && eLW <= sLW) {\n        return false;\n    }\n    margin = {\n        top: 0,\n        right: 0,\n        bottom: 0,\n        left: 0,\n    };\n\n    if (_margin) {\n        deepExtend(margin, _margin);\n    }\n\n    pos = {\n        left: -1,\n        top: -1,\n        bottom: -1,\n    };\n\n    if (_rect.left >= vpRect.left) {\n        if (eLW > sLW) {\n            pos.left = _rect.left - (eLW - sLW) - margin.right;\n        }\n    } else {\n        pos.left = vpRect.left + margin.bottom;\n    }\n\n    if (_rect.top >= vpRect.top) {\n        if (eTH > sTH) {\n            pos.top = _rect.top - (eTH - sTH) - margin.left;\n        }\n\n        pos.bottom = _rect.height - (_rect.top - pos.top);\n    } else {\n        pos.top = vpRect.top + margin.top;\n\n        if (_positionedBottom) {\n            pos.bottom = _rect.height - (pos.top - _rect.top);\n        } else {\n            pos.bottom = vpRect.height - margin.top - margin.bottom;\n        }\n    }\n\n    return pos;\n}\n\n/**\n * Check if element or element rectangle is out of viewport.\n * Method returns `false`, if whole element is inside viewport, else it\n * returns array [left, top] - position of top left corner of element\n * where it will be whole visible in viewport.\n *\n * @return {array|bool} [left, top]\n */\nexport function isElemOutOfViewport(_elem, _margin, _positionedBottom, _simple) {\n    return isRectOutOfViewport(_elem.getBoundingClientRect(), _margin, _positionedBottom, _simple);\n}\n\n/**\n * Attach element `_elem1` to element `_elem2`, `_elem2` can be point - `[left, top]`.\n *\n * `_alignment` - how to attach elements - possible values are\n * 'rt' - right top\n * 'lt' - left top\n * 'rb' - right bottom\n * 'lb' - left bottom\n * 'ct' - center top\n * 'cb' - center bottom\n * 'lc' - left center\n * 'rc' - right center\n * 'cc' - center center\n *\n * @param {HTMLElement} _elem1.\n * @param {HTMLElement|array} _elem2 Element or point `[left, top]`.\n * @param {array} [_alignment] [_elem1Alignment, _elem2Alignment], defaults - `['lt', 'lb']`\n * @param {boolean} [_fitToViewport] Correct position so `_elem1` is in viewport.\n * @param {array} [_margin] Margin of element position. `[top, right, bottom, left]` - numbers (pixels)\n * @param {boolean} [_adjustHeight] Automatically adjust height of `_elem1`, if it overlaps viewport.\n * @param {boolean} [_elemFixed] Elements (`_elem1` and `_elem2`) are fixed (position: fixed).\n * @param {array} [_mousePos] `[left, top]`\n * @param {array} [_elem2Offset] `{left: ..., top: ...}` Add this offset to element 2 rect.\n * @return {{pos: *, elem1Rect: *, elem2Rect: *}|null}\n */\nexport function attachElemTo(\n    _elem1,\n    _elem2,\n    _alignment,\n    _fitToViewport,\n    _margin,\n    _adjustHeight,\n    _elemFixed,\n    _mousePos,\n    _elem2Offset\n) {\n    if (!_elem1 || !_elem2) {\n        return null;\n    }\n\n    let elem1Rect = null;\n    let elem2Rect = null;\n    let pos = null;\n    let pos2 = null;\n    const vpRect = getViewportRect();\n    const alignment = _alignment || ['lt', 'lb'];\n    let elem1C = '';\n    let elem2C = '';\n    let c = '';\n    const css = {};\n    const prPos = [0, 0, 0, 0]; // position in percents (<0, 1>), [elem1 hor, elem 1 ver, elem2 hor, elem2 ver]\n\n    pos = [-1, -1];\n\n    elem1Rect = getElemRect(_elem1);\n    if (_elem2.length === 2) {\n        // attach to point\n        elem2Rect = {\n            width: 1,\n            height: 1,\n            left: _elem2[0],\n            top: _elem2[1],\n        };\n    } else {\n        elem2Rect = getElemRect(_elem2);\n    }\n\n    if (_elemFixed) {\n        elem2Rect.left -= vpRect.left;\n        elem2Rect.top -= vpRect.top;\n    }\n\n    if (_elem2Offset) {\n        elem2Rect.left += _elem2Offset.left;\n        elem2Rect.top += _elem2Offset.top;\n    }\n\n    if (elem1Rect && elem2Rect) {\n        elem1C = alignment[0];\n        elem2C = alignment[1];\n\n        // prPos = [0.5, 0, 1, 1];\n\n        prPos[0] = getPercentsFromShortcut(elem1C.charAt(0));\n        prPos[1] = getPercentsFromShortcut(elem1C.charAt(1));\n        prPos[2] = getPercentsFromShortcut(elem2C.charAt(0));\n        prPos[3] = getPercentsFromShortcut(elem2C.charAt(1));\n\n        if (_mousePos) {\n            if (elem1C.charAt(0) === 'm' || elem2C.charAt(0) === 'm') {\n                elem2Rect.width = 1;\n                elem2Rect.left = _mousePos[0];\n            }\n            if (elem1C.charAt(1) === 'm' || elem2C.charAt(1) === 'm') {\n                elem2Rect.height = 1;\n                elem2Rect.top = _mousePos[1];\n            }\n        }\n\n        pos[0] = elem2Rect.left - elem1Rect.width * prPos[0] + elem2Rect.width * prPos[2];\n        pos[1] = elem2Rect.top - elem1Rect.height * prPos[1] + elem2Rect.height * prPos[3];\n\n        if (_margin) {\n            c = elem1C.charAt(0);\n            if (c === 'l') {\n                pos[0] += _margin.left;\n            } else if (c === 'r') {\n                pos[0] -= _margin.right;\n            }\n\n            c = elem1C.charAt(1);\n            if (c === 't') {\n                pos[1] += _margin.top;\n            } else if (c === 'b') {\n                pos[1] -= _margin.bottom;\n            }\n        }\n    }\n\n    elem1Rect.left = pos[0];\n    elem1Rect.top = pos[1];\n\n    if (_fitToViewport) {\n        pos2 = isRectOutOfViewport(\n            {\n                width: elem1Rect.width,\n                height: elem1Rect.height,\n                left: pos[0],\n                top: pos[1],\n            },\n            _margin /* ,\n            null,\n            (elem1C.charAt(1) === 'b') */\n        );\n\n        if (pos2) {\n            if (pos2.left !== -1) {\n                pos[0] = pos2.left;\n            }\n            elem1Rect.left = pos[0];\n\n            if (pos2.top !== -1) {\n                if (_adjustHeight) {\n                    // alert(pos2)\n                    elem1Rect.height = pos2.height;\n                    css.height = `${elem1Rect.height}px`;\n\n                    if (elem1C.charAt(1) === 't') {\n                        pos2.top = pos[1]; // don't change top position\n                    }\n                }\n\n                pos[1] = pos2.top;\n            }\n            elem1Rect.top = pos[1];\n        }\n    }\n\n    // kdyz bude prvek position: fixed\n    /* viewport = ZPE.info.viewport;\n    pos[0] -= vpRect.left;\n    pos[1] -= vpRect.top; */\n\n    css.left = `${pos[0]}px`;\n    css.top = `${pos[1]}px`;\n\n    elem1Rect.left = pos[0];\n    elem1Rect.top = pos[1];\n\n    addStyle(_elem1, css);\n\n    return { elem1Rect, elem2Rect, pos: pos2 };\n}\n\n/**\n * Calculates, where is the most space in viewport for element (_elem1) attached to another element (_elem2)\n * and returns this attach position.\n *\n * @param {HTMLElement} _elem1\n * @param {HTMLElement} _elem2\n * @param {{top: number, right: number, bottom: number, left: number}} [_margin]\n * @return {{pos: 'top'|'right'|'bottom'|'left', top: number, right: number, bottom: number, left: number}}\n */\nexport function getAttachPosition(_elem1, _elem2, _margin) {\n    return getAttachPositionByRects(getElemRect(_elem1), getElemRect(_elem2), _margin);\n}\n\n/**\n * Calculates, where is the most space in viewport for element (_elem1Rect) attached to another element (_elem2Rect)\n * and returns this attach position.\n *\n * @param {{top: number, left: number, width: number, height}} _elem1Rect\n * @param {{top: number, left: number, width: number, height}} _elem2Rect\n * @param {{top: number, right: number, bottom: number, left: number}} [_margin]\n * @return {{pos: 'top'|'right'|'bottom'|'left', top: number, right: number, bottom: number, left: number}}\n */\nexport function getAttachPositionByRects(_elem1Rect, _elem2Rect, _margin) {\n    let top;\n    let right;\n    let bottom;\n    let left;\n    let direction;\n    let pos = '';\n    const vpRect = getViewportRect();\n\n    if (_margin) {\n        for (const prop in _margin) {\n            _elem1Rect[prop] += _margin[prop];\n        }\n    }\n\n    top = _elem2Rect.top - vpRect.top - _elem1Rect.height;\n    right = vpRect.width - (_elem2Rect.left - vpRect.left + _elem2Rect.width) - _elem1Rect.width;\n    bottom = vpRect.height - (_elem2Rect.top - vpRect.top + _elem2Rect.height) - _elem1Rect.height;\n    left = _elem2Rect.left - vpRect.left - _elem1Rect.width;\n\n    direction = Math.max(top, right, bottom, left);\n\n    // First element touches attached element. Try to find position, where attached element will be the most visible.\n    if (direction < 0) {\n        top = _elem2Rect.height / top;\n        right = _elem2Rect.width / right;\n        bottom = _elem2Rect.height / bottom;\n        left = _elem2Rect.width / left;\n\n        direction = Math.min(top, right, bottom, left);\n    }\n\n    if (direction === bottom) {\n        pos = 'bottom';\n    } else if (direction === right) {\n        pos = 'right';\n    } else if (direction === top) {\n        pos = 'top';\n    } else if (direction === left) {\n        pos = 'left';\n    }\n\n    // alert(pos + '\\n' + _elem2Rect + '\\n' + bRect)\n\n    return {\n        pos,\n        top,\n        right,\n        bottom,\n        left,\n    };\n}\n\n/**\n * Get attach position from `_pos` if `_attachPosition` contains 'auto'.\n *\n * @param {{pos: 'top'|'right'|'bottom'|'left', top: number, right: number, bottom: number, left: number}} _pos\n * @param {string} _attachPosition\n * @param {string} [_preferredAttachPosition]\n */\nexport function getAutoAttachPosition(_pos, _attachPosition, _preferredAttachPosition) {\n    let attachPosition = _attachPosition;\n    let alignment;\n    let c = '';\n    let preferredAPIsOk = false;\n\n    if (_pos && attachPosition.indexOf('auto') > -1) {\n        if (attachPosition === 'auto') {\n            if (_preferredAttachPosition) {\n                alignment = getAlignment(_preferredAttachPosition);\n\n                c = alignment[1].charAt(0);\n                preferredAPIsOk =\n                    (c === 'c' && (_pos.left > 0 || _pos.right > 0)) ||\n                    (c === 'l' && _pos.left > 0) ||\n                    (c === 'r' && _pos.right > 0);\n\n                if (preferredAPIsOk) {\n                    c = alignment[1].charAt(1);\n                    preferredAPIsOk =\n                        (c === 'c' && (_pos.top > 0 || _pos.bottom > 0)) ||\n                        (c === 't' && _pos.top > 0) ||\n                        (c === 'b' && _pos.bottom > 0);\n                }\n            }\n\n            if (preferredAPIsOk) {\n                attachPosition = _preferredAttachPosition;\n            } else {\n                // set auto-calculated position\n                attachPosition = _pos.pos;\n            }\n        } else if (attachPosition === 'auto-vertical') {\n            if (_pos.top > _pos.bottom) {\n                attachPosition = 'top';\n            } else {\n                attachPosition = 'bottom';\n            }\n        } else if (attachPosition === 'auto-horizontal') {\n            if (_pos.left > _pos.right) {\n                attachPosition = 'left';\n            } else {\n                attachPosition = 'right';\n            }\n        }\n    }\n\n    return attachPosition;\n}\n\n/**\n * Get `attachElemTo()` alignment array from string.\n *\n * @param {string} _attachPosition 'bottom'|'top'|'left'|'right' or alignment string (e.g. 'lt lb').\n * @param {[string, string]} [_defaultAlignment]\n * @return {[string, string]}\n */\nexport function getAlignment(_attachPosition, _defaultAlignment) {\n    let alignment = _defaultAlignment || ['lt', 'lb'];\n\n    if (_attachPosition) {\n        switch (_attachPosition) {\n            case 'bottom':\n                alignment = ['ct', 'cb'];\n                break;\n            case 'top':\n                alignment = ['cb', 'ct'];\n                break;\n            case 'left':\n                alignment = ['rc', 'lc'];\n                break;\n            case 'right':\n                alignment = ['lc', 'rc'];\n                break;\n            default:\n                alignment = parseAlignment(_attachPosition, alignment);\n        }\n    }\n\n    return alignment;\n}\n\n/**\n * Parse `attachElemTo()` alignment array from string.\n *\n * @param {string} _alignmentStr\n * @param {[string, string]} [_defaultAlignment]\n * @return {[string, string]|null}\n */\nexport function parseAlignment(_alignmentStr, _defaultAlignment) {\n    const match = alignmentRE.exec(_alignmentStr);\n    let alignment = _defaultAlignment || null;\n\n    if (match && match.length === 3) {\n        alignment = [match[1], match[2]];\n    } else {\n        throw new Error('Bad attach position.');\n    }\n\n    return alignment;\n}\n\nexport function isRTLDir() {\n    return getAttr(document.documentElement, 'dir') === 'rtl' || getAttr(document.body, 'dir') === 'rtl';\n}\n"],"mappings":"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"}]}
{"remainingRequest":"/mnt/websites/ex.nextsmartchain.com/node_modules/thread-loader/dist/cjs.js!/mnt/websites/ex.nextsmartchain.com/node_modules/babel-loader/lib/index.js!/mnt/websites/ex.nextsmartchain.com/node_modules/cache-loader/dist/cjs.js??ref--1-0!/mnt/websites/ex.nextsmartchain.com/node_modules/vue-loader/lib/index.js??vue-loader-options!/mnt/websites/ex.nextsmartchain.com/src/components/core/FForm/FForm.vue?vue&type=script&lang=js&","dependencies":[{"path":"/mnt/websites/ex.nextsmartchain.com/src/components/core/FForm/FForm.vue","mtime":1657708592826},{"path":"/mnt/websites/ex.nextsmartchain.com/babel.config.js","mtime":1657708595230},{"path":"/mnt/websites/ex.nextsmartchain.com/node_modules/cache-loader/dist/cjs.js","mtime":1655491106804},{"path":"/mnt/websites/ex.nextsmartchain.com/node_modules/thread-loader/dist/cjs.js","mtime":1655491285854},{"path":"/mnt/websites/ex.nextsmartchain.com/node_modules/babel-loader/lib/index.js","mtime":1655491285588},{"path":"/mnt/websites/ex.nextsmartchain.com/node_modules/cache-loader/dist/cjs.js","mtime":1655491106804},{"path":"/mnt/websites/ex.nextsmartchain.com/node_modules/vue-loader/lib/index.js","mtime":1657708714280}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuam9pbi5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5Lm1hcC5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLm9iamVjdC50by1zdHJpbmcuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy93ZWIuZG9tLWNvbGxlY3Rpb25zLmZvci1lYWNoLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuZnVuY3Rpb24ubmFtZS5qcyI7CmltcG9ydCBldmVudHMgZnJvbSAnLi4vLi4vLi4vbWl4aW5zL2V2ZW50cy5qcyc7CmltcG9ydCB7IGlzQXJyYXkgfSBmcm9tICcuLi8uLi8uLi91dGlscyc7CmltcG9ydCB7IGV2ZW50QnVzTWl4aW4gfSBmcm9tICcuLi8uLi8uLi9taXhpbnMvZXZlbnQtYnVzLmpzJzsKZXhwb3J0IGRlZmF1bHQgewogIG1peGluczogW2V2ZW50cywgZXZlbnRCdXNNaXhpbl0sCiAgcHJvcHM6IHsKICAgIC8qKiBTdWJtaXQgZm9ybSB3aGVuIGFuIGVsZW1lbnQgaXMgY2hhbmdlZCAqLwogICAgc3VibWl0T25DaGFuZ2U6IHsKICAgICAgdHlwZTogQm9vbGVhbiwKICAgICAgZGVmYXVsdDogZmFsc2UKICAgIH0sCgogICAgLyoqIENhbGwgcHJldmVudERlZmF1bHQoKSBvbiBmb3JtIHN1Ym1pdCBldmVudC4gKi8KICAgIGNhbmNlbFN1Ym1pdDogewogICAgICB0eXBlOiBCb29sZWFuLAogICAgICBkZWZhdWx0OiB0cnVlCiAgICB9LAoKICAgIC8qKiBDZW50ZXIgZm9ybSBib2R5LiAqLwogICAgY2VudGVyRm9ybTogewogICAgICB0eXBlOiBCb29sZWFuLAogICAgICBkZWZhdWx0OiBmYWxzZQogICAgfQogIH0sCiAgY3JlYXRlZDogZnVuY3Rpb24gY3JlYXRlZCgpIHsKICAgIC8qKgogICAgICogUmVmZXJlbmNlIHRvIGxhc3QgY2hhbmdlZCBmb3JtIGVsZW1lbnQKICAgICAqIEB0eXBlIHtIVE1MRWxlbWVudH0KICAgICAqLwogICAgdGhpcy5fbGFzdENoYW5nZWRFbGVtID0gbnVsbDsKICB9LAogIG1vdW50ZWQ6IGZ1bmN0aW9uIG1vdW50ZWQoKSB7CiAgICB0aGlzLiRyZWZzLmZvcm0gPSB0aGlzLiRlbC5xdWVyeVNlbGVjdG9yKCdmb3JtJykgfHwgdGhpcy4kZWw7CiAgfSwKICBtZXRob2RzOiB7CiAgICAvKioKICAgICAqIEdldCBmb3JtIGVsZW1lbnQgYnkgaXRzIG5hbWUuCiAgICAgKgogICAgICogQHBhcmFtIHtTdHJpbmd9IF9uYW1lCiAgICAgKiBAcmV0dXJuIHtIVE1MRWxlbWVudHxudWxsfQogICAgICovCiAgICBnZXRFbGVtZW50OiBmdW5jdGlvbiBnZXRFbGVtZW50KF9uYW1lKSB7CiAgICAgIHZhciBlRm9ybSA9IHRoaXMuJHJlZnMuZm9ybTsKCiAgICAgIGlmIChfbmFtZSAmJiBlRm9ybSkgewogICAgICAgIHJldHVybiBlRm9ybS5xdWVyeVNlbGVjdG9yKCJbbmFtZT0iLmNvbmNhdChfbmFtZSwgIl0iKSk7CiAgICAgIH0KCiAgICAgIHJldHVybiBudWxsOwogICAgfSwKCiAgICAvKioKICAgICAqIEdldCBmb3JtIGVsZW1lbnRzIGJ5IG5hbWVzLgogICAgICoKICAgICAqIEBwYXJhbSB7QXJyYXl9IFtfbmFtZXNdIEZvcm0gZWxlbWVudHMgbmFtZXMuCiAgICAgKiBAcGFyYW0ge0hUTUxFbGVtZW50fSBbX2NvbnRhaW5lcl0KICAgICAqIEByZXR1cm4ge05vZGVMaXN0T2Y8SFRNTEVsZW1lbnRUYWdOYW1lTWFwW3N0cmluZ10+IHwgTm9kZUxpc3RPZjxFbGVtZW50PiB8IE5vZGVMaXN0T2Y8U1ZHRWxlbWVudFRhZ05hbWVNYXBbc3RyaW5nXT4gfCAqfQogICAgICovCiAgICBnZXRFbGVtZW50czogZnVuY3Rpb24gZ2V0RWxlbWVudHMoX25hbWVzLCBfY29udGFpbmVyKSB7CiAgICAgIHZhciBjb250YWluZXIgPSBfY29udGFpbmVyIHx8IHRoaXMuJHJlZnMuZm9ybTsKICAgICAgcmV0dXJuIGNvbnRhaW5lci5xdWVyeVNlbGVjdG9yQWxsKGlzQXJyYXkoX25hbWVzKSA/IF9uYW1lcy5tYXAoZnVuY3Rpb24gKF9uYW1lKSB7CiAgICAgICAgcmV0dXJuICJbbmFtZT1cIiIuY29uY2F0KF9uYW1lLCAiXCJdIik7CiAgICAgIH0pLmpvaW4oJywnKSA6ICdbbmFtZV0nKTsKICAgIH0sCiAgICBnZXRFbGVtZW50VmFsdWU6IGZ1bmN0aW9uIGdldEVsZW1lbnRWYWx1ZShfZWxlbSkgewogICAgICB2YXIgdmFsdWUgPSBudWxsOwoKICAgICAgaWYgKCFfZWxlbSkgewogICAgICAgIHJldHVybiB2YWx1ZTsKICAgICAgfQoKICAgICAgaWYgKCFfZWxlbS5kaXNhYmxlZCkgewogICAgICAgIC8vICYmICFfZWxlbS5oYXNBdHRyaWJ1dGUoJ3JlYWRvbmx5JykpIHsKICAgICAgICBpZiAoX2VsZW0ubm9kZU5hbWUgPT09ICdJTlBVVCcpIHsKICAgICAgICAgIGlmIChfZWxlbS50eXBlID09PSAnY2hlY2tib3gnIHx8IF9lbGVtLnR5cGUgPT09ICdyYWRpbycpIHsKICAgICAgICAgICAgaWYgKF9lbGVtLmNoZWNrZWQpIHsKICAgICAgICAgICAgICB2YWx1ZSA9IF9lbGVtLnZhbHVlOyAvLyB2YWx1ZSA9IChfZWxlbS52YWx1ZSA9PT0gJ29uJyA/IHRydWUgOiBfZWxlbS52YWx1ZSk7CiAgICAgICAgICAgIH0gLy8gYWxlcnQoX2VsZW0uY2hlY2tlZCArICcgJyArIHZhbHVlKTsKCiAgICAgICAgICB9IGVsc2UgaWYgKF9lbGVtLnR5cGUgPT09ICdmaWxlJykgewogICAgICAgICAgICB2YWx1ZSA9IF9lbGVtLmZpbGVzOwogICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgdmFsdWUgPSBfZWxlbS52YWx1ZTsKICAgICAgICAgIH0KICAgICAgICB9IGVsc2UgewogICAgICAgICAgdmFsdWUgPSBfZWxlbS52YWx1ZTsKICAgICAgICB9CiAgICAgIH0KCiAgICAgIHJldHVybiB2YWx1ZTsKICAgIH0sCgogICAgLyoqCiAgICAgKiBAcGFyYW0ge0FycmF5fSBbX25hbWVzXSBGb3JtIGVsZW1lbnRzIG5hbWVzLgogICAgICogQHJldHVybiB7T2JqZWN0fQogICAgICovCiAgICBnZXRFbGVtZW50c1ZhbHVlczogZnVuY3Rpb24gZ2V0RWxlbWVudHNWYWx1ZXMoX25hbWVzKSB7CiAgICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgICB2YXIgZGF0YSA9IHt9OwogICAgICB0aGlzLmdldEVsZW1lbnRzKF9uYW1lcykuZm9yRWFjaChmdW5jdGlvbiAoX2VsZW0pIHsKICAgICAgICB2YXIgdmFsdWUgPSBfdGhpcy5nZXRFbGVtZW50VmFsdWUoX2VsZW0pOwoKICAgICAgICBpZiAodmFsdWUgIT09IG51bGwgJiYgX2VsZW0ubmFtZSkgewogICAgICAgICAgaWYgKF9lbGVtLm5hbWUgaW4gZGF0YSkgewogICAgICAgICAgICBpZiAoaXNBcnJheShkYXRhW19lbGVtLm5hbWVdKSkgewogICAgICAgICAgICAgIGRhdGFbX2VsZW0ubmFtZV0ucHVzaCh2YWx1ZSk7CiAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgZGF0YVtfZWxlbS5uYW1lXSA9IFtkYXRhW19lbGVtLm5hbWVdLCB2YWx1ZV07IC8vID8/CiAgICAgICAgICAgIH0KICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIGRhdGFbX2VsZW0ubmFtZV0gPSB2YWx1ZTsKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0pOwogICAgICByZXR1cm4gZGF0YTsKICAgIH0sCgogICAgLyoqCiAgICAgKiBTdWJtaXQgZm9ybS4KICAgICAqLwogICAgc3VibWl0OiBmdW5jdGlvbiBzdWJtaXQoKSB7CiAgICAgIHZhciBlRm9ybSA9IHRoaXMuJHJlZnMuZm9ybTsKICAgICAgdmFyIGVTdWJtaXRCdG4gPSBlRm9ybS5xdWVyeVNlbGVjdG9yKCdbdHlwZT0ic3VibWl0Il0nKTsKICAgICAgLyoKICAgICAgICAgIGlmICghZVN1Ym1pdEJ0bikgewogICAgICAgICAgICAgIGVTdWJtaXRCdG4gPSBjcmVhdGVFbGVtZW50KHsKICAgICAgICAgICAgICAgICAgbmFtZTogJ2J1dHRvbicsCiAgICAgICAgICAgICAgICAgIGF0dHJpYnV0ZXM6IHsKICAgICAgICAgICAgICAgICAgICAgIHR5cGU6ICdzdWJtaXQnLAogICAgICAgICAgICAgICAgICAgICAgc3R5bGU6ICdkaXNwbGF5OiBub25lOycKICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICBlRm9ybS5hcHBlbmRDaGlsZChlU3VibWl0QnRuKTsKICAgICAgICAgIH0KICAgICAgKi8KCiAgICAgIGVTdWJtaXRCdG4uY2xpY2soKTsKICAgIH0sCgogICAgLyoqCiAgICAgKiBSZXNldCBmb3JtLgogICAgICovCiAgICByZXNldDogZnVuY3Rpb24gcmVzZXQoKSB7CiAgICAgIHRoaXMuJHJlZnMuZm9ybS5yZXNldCgpOwogICAgfSwKICAgIGdldEVycm9yTWVzc2FnZXM6IGZ1bmN0aW9uIGdldEVycm9yTWVzc2FnZXMoKSB7CiAgICAgIHZhciBlcnJvck1lc3NhZ2VzID0gW107CiAgICAgIHZhciBlbGVtZW50cyA9IHRoaXMuJHJlZnMuZm9ybS5lbGVtZW50czsKICAgICAgdmFyIGVsZW07CgogICAgICBpZiAoZWxlbWVudHMpIHsKICAgICAgICBmb3IgKHZhciBpID0gMCwgbGVuMSA9IGVsZW1lbnRzLmxlbmd0aDsgaSA8IGxlbjE7IGkrKykgewogICAgICAgICAgZWxlbSA9IGVsZW1lbnRzW2ldOwoKICAgICAgICAgIGlmIChlbGVtLm5hbWUgJiYgZWxlbS53aWxsVmFsaWRhdGUgJiYgIWVsZW0uY2hlY2tWYWxpZGl0eSgpKSB7CiAgICAgICAgICAgIC8vIGNvbnNvbGUubG9nKGVsZW0ubmFtZSwgZWxlbS52YWxpZGl0eSwgZWxlbS52YWxpZGF0aW9uTWVzc2FnZSk7CiAgICAgICAgICAgIGVycm9yTWVzc2FnZXMucHVzaChlbGVtLnZhbGlkYXRpb25NZXNzYWdlKTsKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0KCiAgICAgIHJldHVybiBlcnJvck1lc3NhZ2VzOwogICAgfSwKCiAgICAvKioKICAgICAqIENoZWNrIGZvcm0gdmFsaWRpdHkuCiAgICAgKgogICAgICogQHJldHVybiB7Qm9vbGVhbn0KICAgICAqLwogICAgY2hlY2tWYWxpZGl0eTogZnVuY3Rpb24gY2hlY2tWYWxpZGl0eSgpIHsKICAgICAgdmFyIGNoaWxkcmVuID0gdGhpcy4kY2hpbGRyZW47CiAgICAgIHZhciB2YWxpZCA9IHRydWU7CiAgICAgIHZhciBjaGlsZDsKCiAgICAgIGlmICh0aGlzLiRyZWZzLmZvcm0pIHsKICAgICAgICBmb3IgKHZhciBpID0gMCwgbGVuMSA9IGNoaWxkcmVuLmxlbmd0aDsgaSA8IGxlbjE7IGkrKykgewogICAgICAgICAgY2hpbGQgPSBjaGlsZHJlbltpXTsKCiAgICAgICAgICBpZiAodHlwZW9mIGNoaWxkLnZhbGlkYXRlID09PSAnZnVuY3Rpb24nKSB7CiAgICAgICAgICAgIGNoaWxkLnZhbGlkYXRlKHRydWUpOwogICAgICAgICAgfQogICAgICAgIH0KCiAgICAgICAgdmFsaWQgPSB0aGlzLiRyZWZzLmZvcm0uY2hlY2tWYWxpZGl0eSgpOwoKICAgICAgICBpZiAoIXZhbGlkKSB7CiAgICAgICAgICB2YXIgZXJyb3JNZXNzYWdlcyA9IHRoaXMuZ2V0RXJyb3JNZXNzYWdlcygpOwoKICAgICAgICAgIGlmIChlcnJvck1lc3NhZ2VzLmxlbmd0aCA+IDApIHsKICAgICAgICAgICAgdGhpcy5fZXZlbnRCdXMuZW1pdCgnYXJpYS1hbGVydC1yZXBsYWNlJywgZXJyb3JNZXNzYWdlcy5qb2luKCcnKSk7CiAgICAgICAgICB9CgogICAgICAgICAgdGhpcy5lbWl0Q3VzdG9tRXZlbnQoJ2YtZm9ybS1ub3QtdmFsaWQnKTsKICAgICAgICB9CgogICAgICAgIHJldHVybiB2YWxpZDsKICAgICAgfQoKICAgICAgcmV0dXJuIHZhbGlkOwogICAgfSwKCiAgICAvKioKICAgICAqIFRyaWdnZXJlZCB3aGVuIGZvcm0gZWxlbWVudCBjaGFuZ2VzLgogICAgICoKICAgICAqIEBwYXJhbSB7RXZlbnR9IF9ldmVudAogICAgICovCiAgICBvbkNoYW5nZTogZnVuY3Rpb24gb25DaGFuZ2UoX2V2ZW50KSB7CiAgICAgIC8vIHRoaXMuZ2V0RWxlbWVudFZhbHVlKCkKICAgICAgdGhpcy5lbWl0Q3VzdG9tRXZlbnQoJ2YtZm9ybS1jaGFuZ2UnLCB7CiAgICAgICAgZVRhcmdldDogX2V2ZW50LnRhcmdldCwKICAgICAgICB2YWx1ZTogdGhpcy5nZXRFbGVtZW50VmFsdWUoX2V2ZW50LnRhcmdldCkgLy8gb3JpZ2luYWxFdmVudDogX2V2ZW50CgogICAgICB9KTsKCiAgICAgIGlmICh0aGlzLnN1Ym1pdE9uQ2hhbmdlKSB7CiAgICAgICAgdGhpcy5fbGFzdENoYW5nZWRFbGVtID0gX2V2ZW50LnRhcmdldDsKICAgICAgICB0aGlzLnN1Ym1pdCgpOwogICAgICAgIHRoaXMuX2xhc3RDaGFuZ2VkRWxlbSA9IG51bGw7CiAgICAgIH0KICAgIH0sCgogICAgLyoqCiAgICAgKiBUcmlnZ2VyZWQgb24gZm9ybSBzdWJtaXQuCiAgICAgKgogICAgICogQHBhcmFtIHtFdmVudH0gX2V2ZW50CiAgICAgKi8KICAgIG9uU3VibWl0OiBmdW5jdGlvbiBvblN1Ym1pdChfZXZlbnQpIHsKICAgICAgaWYgKHRoaXMuY2FuY2VsU3VibWl0KSB7CiAgICAgICAgX2V2ZW50LnByZXZlbnREZWZhdWx0KCk7CiAgICAgIH0KCiAgICAgIGlmICghdGhpcy5jaGVja1ZhbGlkaXR5KCkgfHwgIXRoaXMuZW1pdEN1c3RvbUV2ZW50KCdmLWZvcm0tc3VibWl0JywgewogICAgICAgIGRhdGE6IHRoaXMuZ2V0RWxlbWVudHNWYWx1ZXMoKSwKICAgICAgICBsYXN0Q2hhbmdlZEVsZW06IHRoaXMuX2xhc3RDaGFuZ2VkRWxlbSwKICAgICAgICBhY3Rpb246IHRoaXMuX3N1Ym1pdEFjdGlvbiwKICAgICAgICBtZXRob2Q6IHRoaXMubWV0aG9kCiAgICAgIH0pKSB7CiAgICAgICAgX2V2ZW50LnByZXZlbnREZWZhdWx0KCk7CgogICAgICAgIHRoaXMuX3N1Ym1pdEFjdGlvbiA9IHRoaXMuYWN0aW9uOwogICAgICB9CiAgICB9LAoKICAgIC8qKgogICAgICogVHJpZ2dlcmVkIG9uIGZvcm0gZWxlbWVudCBpbnB1dCBldmVudC4KICAgICAqCiAgICAgKiBAcGFyYW0ge0V2ZW50fSBfZXZlbnQKICAgICAqLwogICAgb25JbnB1dDogZnVuY3Rpb24gb25JbnB1dChfZXZlbnQpIHsKICAgICAgdGhpcy5lbWl0Q3VzdG9tRXZlbnQoJ2YtZm9ybS1pbnB1dCcsIHsKICAgICAgICBlVGFyZ2V0OiBfZXZlbnQudGFyZ2V0LAogICAgICAgIHZhbHVlOiB0aGlzLmdldEVsZW1lbnRWYWx1ZShfZXZlbnQudGFyZ2V0KSAvLyBvcmlnaW5hbEV2ZW50OiBfZXZlbnQKCiAgICAgIH0pOwogICAgfQogIH0KfTs="},{"version":3,"mappings":";;;;;AAgBA;AACA;AACA;AAEA;EACAA,+BADA;EAGAC;IACA;IACAC;MACAC,aADA;MAEAC;IAFA,CAFA;;IAMA;IACAC;MACAF,aADA;MAEAC;IAFA,CAPA;;IAWA;IACAE;MACAH,aADA;MAEAC;IAFA;EAZA,CAHA;EAqBAG,OArBA,qBAqBA;IACA;AACA;AACA;AACA;IACA;EACA,CA3BA;EA6BAC,OA7BA,qBA6BA;IACA;EACA,CA/BA;EAiCAC;IACA;AACA;AACA;AACA;AACA;AACA;IACAC,UAPA,sBAOAC,KAPA,EAOA;MACA;;MAEA;QACA;MACA;;MAEA;IACA,CAfA;;IAiBA;AACA;AACA;AACA;AACA;AACA;AACA;IACAC,WAxBA,uBAwBAC,MAxBA,EAwBAC,UAxBA,EAwBA;MACA;MAEA,kCACAC;QAAA;MAAA,uBADA;IAGA,CA9BA;IAgCAC,eAhCA,2BAgCAC,KAhCA,EAgCA;MACA;;MAEA;QACA;MACA;;MAEA;QACA;QACA;UACA;YACA;cACAC,oBADA,CAEA;YACA,CAJA,CAKA;;UACA,CANA,MAMA;YACAA;UACA,CAFA,MAEA;YACAA;UACA;QACA,CAZA,MAYA;UACAA;QACA;MACA;;MAEA;IACA,CA3DA;;IA6DA;AACA;AACA;AACA;IACAC,iBAjEA,6BAiEAN,MAjEA,EAiEA;MAAA;;MACA;MAEA;QACA;;QAEA;UACA;YACA;cACAO;YACA,CAFA,MAEA;cACAA,6CADA,CACA;YACA;UACA,CANA,MAMA;YACAA;UACA;QACA;MACA,CAdA;MAgBA;IACA,CArFA;;IAuFA;AACA;AACA;IACAC,MA1FA,oBA0FA;MACA;MACA;MAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;MAGAC;IACA,CA7GA;;IA+GA;AACA;AACA;IACAC,KAlHA,mBAkHA;MACA;IACA,CApHA;IAsHAC,gBAtHA,8BAsHA;MACA;MACA;MACA;;MAEA;QACA;UACAC;;UACA;YACA;YACAC;UACA;QACA;MACA;;MAEA;IACA,CAtIA;;IAwIA;AACA;AACA;AACA;AACA;IACAC,aA7IA,2BA6IA;MACA;MACA;MACA;;MAEA;QACA;UACAC;;UACA;YACAA;UACA;QACA;;QAEAC;;QACA;UACA;;UAEA;YACA;UACA;;UAEA;QACA;;QAEA;MACA;;MAEA;IACA,CAzKA;;IA2KA;AACA;AACA;AACA;AACA;IACAC,QAhLA,oBAgLAC,MAhLA,EAgLA;MACA;MACA;QACAC,sBADA;QAEAd,0CAFA,CAGA;;MAHA;;MAMA;QACA;QAEA;QAEA;MACA;IACA,CA/LA;;IAiMA;AACA;AACA;AACA;AACA;IACAe,QAtMA,oBAsMAF,MAtMA,EAsMA;MACA;QACAA;MACA;;MAEA,IACA,yBACA;QACAX,8BADA;QAEAc,sCAFA;QAGAC,0BAHA;QAIAC;MAJA,EAFA,EAQA;QACAL;;QAEA;MACA;IACA,CAxNA;;IA0NA;AACA;AACA;AACA;AACA;IACAM,OA/NA,mBA+NAN,MA/NA,EA+NA;MACA;QACAC,sBADA;QAEAd,0CAFA,CAGA;;MAHA;IAKA;EArOA;AAjCA","names":["mixins","props","submitOnChange","type","default","cancelSubmit","centerForm","created","mounted","methods","getElement","_name","getElements","_names","_container","isArray","getElementValue","_elem","value","getElementsValues","data","submit","eSubmitBtn","reset","getErrorMessages","elem","errorMessages","checkValidity","child","valid","onChange","_event","eTarget","onSubmit","lastChangedElem","action","method","onInput"],"sourceRoot":"src/components/core/FForm","sources":["FForm.vue"],"sourcesContent":["<template>\n    <form\n        ref=\"form\"\n        method=\"post\"\n        class=\"f-form\"\n        :class=\"{ 'center-form': centerForm }\"\n        novalidate\n        @submit=\"onSubmit\"\n        @change=\"onChange\"\n        @input=\"onInput\"\n    >\n        <slot></slot>\n    </form>\n</template>\n\n<script>\nimport events from '../../../mixins/events.js';\nimport { isArray } from '../../../utils';\nimport { eventBusMixin } from '../../../mixins/event-bus.js';\n\nexport default {\n    mixins: [events, eventBusMixin],\n\n    props: {\n        /** Submit form when an element is changed */\n        submitOnChange: {\n            type: Boolean,\n            default: false,\n        },\n        /** Call preventDefault() on form submit event. */\n        cancelSubmit: {\n            type: Boolean,\n            default: true,\n        },\n        /** Center form body. */\n        centerForm: {\n            type: Boolean,\n            default: false,\n        },\n    },\n\n    created() {\n        /**\n         * Reference to last changed form element\n         * @type {HTMLElement}\n         */\n        this._lastChangedElem = null;\n    },\n\n    mounted() {\n        this.$refs.form = this.$el.querySelector('form') || this.$el;\n    },\n\n    methods: {\n        /**\n         * Get form element by its name.\n         *\n         * @param {String} _name\n         * @return {HTMLElement|null}\n         */\n        getElement(_name) {\n            const eForm = this.$refs.form;\n\n            if (_name && eForm) {\n                return eForm.querySelector(`[name=${_name}]`);\n            }\n\n            return null;\n        },\n\n        /**\n         * Get form elements by names.\n         *\n         * @param {Array} [_names] Form elements names.\n         * @param {HTMLElement} [_container]\n         * @return {NodeListOf<HTMLElementTagNameMap[string]> | NodeListOf<Element> | NodeListOf<SVGElementTagNameMap[string]> | *}\n         */\n        getElements(_names, _container) {\n            const container = _container || this.$refs.form;\n\n            return container.querySelectorAll(\n                isArray(_names) ? _names.map((_name) => `[name=\"${_name}\"]`).join(',') : '[name]'\n            );\n        },\n\n        getElementValue(_elem) {\n            let value = null;\n\n            if (!_elem) {\n                return value;\n            }\n\n            if (!_elem.disabled) {\n                // && !_elem.hasAttribute('readonly')) {\n                if (_elem.nodeName === 'INPUT') {\n                    if (_elem.type === 'checkbox' || _elem.type === 'radio') {\n                        if (_elem.checked) {\n                            value = _elem.value;\n                            // value = (_elem.value === 'on' ? true : _elem.value);\n                        }\n                        // alert(_elem.checked + ' ' + value);\n                    } else if (_elem.type === 'file') {\n                        value = _elem.files;\n                    } else {\n                        value = _elem.value;\n                    }\n                } else {\n                    value = _elem.value;\n                }\n            }\n\n            return value;\n        },\n\n        /**\n         * @param {Array} [_names] Form elements names.\n         * @return {Object}\n         */\n        getElementsValues(_names) {\n            const data = {};\n\n            this.getElements(_names).forEach((_elem) => {\n                const value = this.getElementValue(_elem);\n\n                if (value !== null && _elem.name) {\n                    if (_elem.name in data) {\n                        if (isArray(data[_elem.name])) {\n                            data[_elem.name].push(value);\n                        } else {\n                            data[_elem.name] = [data[_elem.name], value]; // ??\n                        }\n                    } else {\n                        data[_elem.name] = value;\n                    }\n                }\n            });\n\n            return data;\n        },\n\n        /**\n         * Submit form.\n         */\n        submit() {\n            const eForm = this.$refs.form;\n            let eSubmitBtn = eForm.querySelector('[type=\"submit\"]');\n\n            /*\n                if (!eSubmitBtn) {\n                    eSubmitBtn = createElement({\n                        name: 'button',\n                        attributes: {\n                            type: 'submit',\n                            style: 'display: none;'\n                        }\n                    });\n\n                    eForm.appendChild(eSubmitBtn);\n                }\n*/\n\n            eSubmitBtn.click();\n        },\n\n        /**\n         * Reset form.\n         */\n        reset() {\n            this.$refs.form.reset();\n        },\n\n        getErrorMessages() {\n            const errorMessages = [];\n            const elements = this.$refs.form.elements;\n            let elem;\n\n            if (elements) {\n                for (let i = 0, len1 = elements.length; i < len1; i++) {\n                    elem = elements[i];\n                    if (elem.name && elem.willValidate && !elem.checkValidity()) {\n                        // console.log(elem.name, elem.validity, elem.validationMessage);\n                        errorMessages.push(elem.validationMessage);\n                    }\n                }\n            }\n\n            return errorMessages;\n        },\n\n        /**\n         * Check form validity.\n         *\n         * @return {Boolean}\n         */\n        checkValidity() {\n            const children = this.$children;\n            let valid = true;\n            let child;\n\n            if (this.$refs.form) {\n                for (let i = 0, len1 = children.length; i < len1; i++) {\n                    child = children[i];\n                    if (typeof child.validate === 'function') {\n                        child.validate(true);\n                    }\n                }\n\n                valid = this.$refs.form.checkValidity();\n                if (!valid) {\n                    const errorMessages = this.getErrorMessages();\n\n                    if (errorMessages.length > 0) {\n                        this._eventBus.emit('aria-alert-replace', errorMessages.join(''));\n                    }\n\n                    this.emitCustomEvent('f-form-not-valid');\n                }\n\n                return valid;\n            }\n\n            return valid;\n        },\n\n        /**\n         * Triggered when form element changes.\n         *\n         * @param {Event} _event\n         */\n        onChange(_event) {\n            // this.getElementValue()\n            this.emitCustomEvent('f-form-change', {\n                eTarget: _event.target,\n                value: this.getElementValue(_event.target),\n                // originalEvent: _event\n            });\n\n            if (this.submitOnChange) {\n                this._lastChangedElem = _event.target;\n\n                this.submit();\n\n                this._lastChangedElem = null;\n            }\n        },\n\n        /**\n         * Triggered on form submit.\n         *\n         * @param {Event} _event\n         */\n        onSubmit(_event) {\n            if (this.cancelSubmit) {\n                _event.preventDefault();\n            }\n\n            if (\n                !this.checkValidity() ||\n                !this.emitCustomEvent('f-form-submit', {\n                    data: this.getElementsValues(),\n                    lastChangedElem: this._lastChangedElem,\n                    action: this._submitAction,\n                    method: this.method,\n                })\n            ) {\n                _event.preventDefault();\n\n                this._submitAction = this.action;\n            }\n        },\n\n        /**\n         * Triggered on form element input event.\n         *\n         * @param {Event} _event\n         */\n        onInput(_event) {\n            this.emitCustomEvent('f-form-input', {\n                eTarget: _event.target,\n                value: this.getElementValue(_event.target),\n                // originalEvent: _event\n            });\n        },\n    },\n};\n</script>\n\n<style lang=\"scss\">\n@import 'style';\n</style>\n"]}]}